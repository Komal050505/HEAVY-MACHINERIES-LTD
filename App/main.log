2024-10-22 14:13:45,823 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-22 14:13:45,868 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-22 14:13:45,868 - INFO - [33mPress CTRL+C to quit[0m
2024-10-22 14:13:45,870 - INFO -  * Restarting with stat
2024-10-22 14:13:46,834 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-22 14:13:46,858 - WARNING -  * Debugger is active!
2024-10-22 14:13:46,862 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 14:16:32,818 - INFO - BEGIN (implicit)
2024-10-22 14:16:32,822 - INFO - INSERT INTO otp_store (email, otp, timestamp) VALUES (%(email)s, %(otp)s, %(timestamp)s) RETURNING otp_store.id
2024-10-22 14:16:32,823 - INFO - [generated in 0.00097s] {'email': 'komalsaikiran05@gmail.com', 'otp': '229760', 'timestamp': datetime.datetime(2024, 10, 22, 14, 16, 32, 713788)}
2024-10-22 14:16:32,833 - INFO - COMMIT
2024-10-22 14:16:32,835 - INFO - Generated OTP for komalsaikiran05@gmail.com: 229760
2024-10-22 14:16:36,426 - INFO - End of generate_otp function for email=komalsaikiran05@gmail.com
2024-10-22 14:16:36,428 - INFO - 127.0.0.1 - - [22/Oct/2024 14:16:36] "POST /generate-otp HTTP/1.1" 200 -
2024-10-22 14:18:50,633 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_employees.py', reloading
2024-10-22 14:18:50,826 - INFO -  * Restarting with stat
2024-10-22 14:18:52,344 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-22 14:18:52,372 - WARNING -  * Debugger is active!
2024-10-22 14:18:52,376 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 14:23:15,352 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\employees_table.py', reloading
2024-10-22 14:23:15,482 - INFO -  * Restarting with stat
2024-10-22 14:23:16,812 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-22 14:23:16,843 - WARNING -  * Debugger is active!
2024-10-22 14:23:16,847 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 14:26:16,967 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\employees_table.py', reloading
2024-10-22 14:26:17,082 - INFO -  * Restarting with stat
2024-10-22 14:26:18,008 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-22 14:26:18,026 - WARNING -  * Debugger is active!
2024-10-22 14:26:18,029 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 14:26:34,617 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\employees_table.py', reloading
2024-10-22 14:26:34,729 - INFO -  * Restarting with stat
2024-10-22 14:26:35,687 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-22 14:26:35,705 - WARNING -  * Debugger is active!
2024-10-22 14:26:35,709 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 14:29:36,180 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\employees_table.py', reloading
2024-10-22 14:29:36,330 - INFO -  * Restarting with stat
2024-10-22 14:29:38,061 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-22 14:29:38,085 - WARNING -  * Debugger is active!
2024-10-22 14:29:38,093 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 14:30:47,681 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\employees_table.py', reloading
2024-10-22 14:30:47,802 - INFO -  * Restarting with stat
2024-10-22 14:30:49,256 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-22 14:30:49,274 - WARNING -  * Debugger is active!
2024-10-22 14:30:49,277 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 14:31:26,755 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\employees_table.py', reloading
2024-10-22 14:31:27,156 - INFO -  * Restarting with stat
2024-10-22 14:31:28,242 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-22 14:31:28,262 - WARNING -  * Debugger is active!
2024-10-22 14:31:28,265 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 15:28:46,861 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\utilities\\reusables.py', reloading
2024-10-22 15:28:47,274 - INFO -  * Restarting with stat
2024-10-22 15:28:48,693 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-22 15:28:48,743 - WARNING -  * Debugger is active!
2024-10-22 15:28:48,747 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 15:30:17,761 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_employees.py', reloading
2024-10-22 15:30:17,896 - INFO -  * Restarting with stat
2024-10-22 15:30:18,908 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-22 15:30:18,923 - WARNING -  * Debugger is active!
2024-10-22 15:30:18,926 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 15:32:59,698 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_employees.py', reloading
2024-10-22 15:32:59,892 - INFO -  * Restarting with stat
2024-10-22 15:33:00,862 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-22 15:33:00,879 - WARNING -  * Debugger is active!
2024-10-22 15:33:00,881 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 15:34:23,754 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-22 15:34:23,951 - INFO -  * Restarting with stat
2024-10-22 15:34:25,316 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-22 15:34:25,334 - WARNING -  * Debugger is active!
2024-10-22 15:34:25,338 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 15:35:58,599 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_employees.py', reloading
2024-10-22 15:35:58,788 - INFO -  * Restarting with stat
2024-10-22 15:35:59,867 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-22 15:35:59,883 - WARNING -  * Debugger is active!
2024-10-22 15:35:59,886 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 15:37:04,923 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_employees.py', reloading
2024-10-22 15:37:05,180 - INFO -  * Restarting with stat
2024-10-22 15:37:06,378 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-22 15:37:06,395 - WARNING -  * Debugger is active!
2024-10-22 15:37:06,398 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 15:38:19,977 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_employees.py', reloading
2024-10-22 15:38:20,146 - INFO -  * Restarting with stat
2024-10-22 15:38:21,146 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-22 15:38:21,172 - WARNING -  * Debugger is active!
2024-10-22 15:38:21,177 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 15:41:48,531 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_employees.py', reloading
2024-10-22 15:41:48,689 - INFO -  * Restarting with stat
2024-10-22 15:41:49,901 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-22 15:41:49,916 - WARNING -  * Debugger is active!
2024-10-22 15:41:49,919 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 15:45:01,189 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_employees.py', reloading
2024-10-22 15:45:01,388 - INFO -  * Restarting with stat
2024-10-22 15:45:02,506 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-22 15:45:02,522 - WARNING -  * Debugger is active!
2024-10-22 15:45:02,526 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 15:45:45,888 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_employees.py', reloading
2024-10-22 15:45:46,079 - INFO -  * Restarting with stat
2024-10-22 15:45:47,263 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-22 15:45:47,279 - WARNING -  * Debugger is active!
2024-10-22 15:45:47,282 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 15:47:33,388 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_employees.py', reloading
2024-10-22 15:47:33,635 - INFO -  * Restarting with stat
2024-10-22 15:47:34,585 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-22 15:47:34,600 - WARNING -  * Debugger is active!
2024-10-22 15:47:34,603 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 15:52:10,645 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\employees_table.py', reloading
2024-10-22 15:52:10,871 - INFO -  * Restarting with stat
2024-10-22 15:52:11,953 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-22 15:52:11,979 - WARNING -  * Debugger is active!
2024-10-22 15:52:11,983 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 15:53:57,847 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_employees.py', reloading
2024-10-22 15:53:58,027 - INFO -  * Restarting with stat
2024-10-22 15:53:59,237 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-22 15:53:59,256 - WARNING -  * Debugger is active!
2024-10-22 15:53:59,260 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 16:00:43,059 - INFO - BEGIN (implicit)
2024-10-22 16:00:43,066 - INFO - INSERT INTO otp_store (email, otp, timestamp) VALUES (%(email)s, %(otp)s, %(timestamp)s) RETURNING otp_store.id
2024-10-22 16:00:43,066 - INFO - [generated in 0.00053s] {'email': 'komalsaikiran05@gmail.com', 'otp': '390116', 'timestamp': datetime.datetime(2024, 10, 22, 16, 0, 42, 893938)}
2024-10-22 16:00:43,082 - INFO - COMMIT
2024-10-22 16:00:43,083 - INFO - Generated OTP for komalsaikiran05@gmail.com: 390116
2024-10-22 16:00:46,685 - INFO - End of generate_otp function for email=komalsaikiran05@gmail.com
2024-10-22 16:00:46,687 - INFO - 127.0.0.1 - - [22/Oct/2024 16:00:46] "POST /generate-otp HTTP/1.1" 200 -
2024-10-22 16:00:56,593 - INFO - 127.0.0.1 - - [22/Oct/2024 16:00:56] "[33mGET /add-employee HTTP/1.1[0m" 404 -
2024-10-22 16:01:01,979 - INFO - 127.0.0.1 - - [22/Oct/2024 16:01:01] "[33mPOST /add-employee HTTP/1.1[0m" 404 -
2024-10-22 16:01:09,130 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 16:01:09,181 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-22 16:01:09,181 - INFO - [33mPress CTRL+C to quit[0m
2024-10-22 16:01:09,184 - INFO -  * Restarting with stat
2024-10-22 16:01:10,190 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 16:01:10,205 - WARNING -  * Debugger is active!
2024-10-22 16:01:10,214 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 16:01:13,049 - INFO - 127.0.0.1 - - [22/Oct/2024 16:01:13] "[33mPOST /add-employee HTTP/1.1[0m" 404 -
2024-10-22 16:01:58,480 - INFO - 127.0.0.1 - - [22/Oct/2024 16:01:58] "[33mPOST /add-employee HTTP/1.1[0m" 404 -
2024-10-22 16:02:59,252 - INFO - 127.0.0.1 - - [22/Oct/2024 16:02:59] "[33mPOST /add-employee HTTP/1.1[0m" 404 -
2024-10-22 16:04:02,063 - INFO - Flask application has stopped.
2024-10-22 16:04:02,215 - INFO - Flask application has stopped.
2024-10-22 16:04:04,350 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 16:04:04,394 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-22 16:04:04,394 - INFO - [33mPress CTRL+C to quit[0m
2024-10-22 16:04:04,396 - INFO -  * Restarting with stat
2024-10-22 16:04:05,595 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 16:04:05,611 - WARNING -  * Debugger is active!
2024-10-22 16:04:05,620 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 16:04:09,185 - INFO - 127.0.0.1 - - [22/Oct/2024 16:04:09] "[33mPOST /add-employee HTTP/1.1[0m" 404 -
2024-10-22 16:04:17,416 - INFO - Flask application has stopped.
2024-10-22 16:04:17,717 - INFO - Flask application has stopped.
2024-10-22 16:04:19,809 - INFO - Flask application has stopped.
2024-10-22 16:04:19,963 - INFO - Flask application has stopped.
2024-10-22 16:04:32,000 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 16:04:32,030 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-22 16:04:32,030 - INFO - [33mPress CTRL+C to quit[0m
2024-10-22 16:04:32,031 - INFO -  * Restarting with stat
2024-10-22 16:04:32,977 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 16:04:32,993 - WARNING -  * Debugger is active!
2024-10-22 16:04:32,996 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 16:04:36,580 - INFO - BEGIN (implicit)
2024-10-22 16:04:36,588 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-22 16:04:36,589 - INFO - [generated in 0.00043s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-22 16:04:36,597 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-22 16:04:36,598 - INFO -  Entered /add-employee endpoint. 
2024-10-22 16:04:36,616 - INFO - INSERT INTO employee (id, first_name, last_name, emp_email, phone, hire_date, position, salary, department, age, sex, blood_group, height, weight, address, emergency_contact, nationality, date_of_birth, marital_status, employment_status, insurance_number) VALUES (uuid_generate_v4(), %(first_name)s, %(last_name)s, %(emp_email)s, %(phone)s, %(hire_date)s, %(position)s, %(salary)s, %(department)s, %(age)s, %(sex)s, %(blood_group)s, %(height)s, %(weight)s, %(address)s, %(emergency_contact)s, %(nationality)s, %(date_of_birth)s, %(marital_status)s, %(employment_status)s, %(insurance_number)s) RETURNING employee.id, employee.created_at
2024-10-22 16:04:36,616 - INFO - [generated in 0.00081s] {'first_name': 'Rahul', 'last_name': 'Sharma', 'emp_email': 'rahul.sharma@example.com', 'phone': '+919876543210', 'hire_date': datetime.datetime(2024, 10, 1, 0, 0), 'position': 'Software Engineer', 'salary': 800000, 'department': 'IT', 'age': 28, 'sex': 'Male', 'blood_group': 'B+', 'height': 175, 'weight': 70, 'address': '456 Mango Street, Mumbai, Maharashtra, India', 'emergency_contact': '+918765432109', 'nationality': 'Indian', 'date_of_birth': datetime.datetime(1996, 5, 15, 0, 0), 'marital_status': 'Single', 'employment_status': 'Full-time', 'insurance_number': 'INS987654321'}
2024-10-22 16:04:36,650 - INFO - COMMIT
2024-10-22 16:04:36,729 - INFO - BEGIN (implicit)
2024-10-22 16:04:36,733 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-22 16:04:36,733 - INFO - [generated in 0.00045s] {'pk_1': UUID('06e4347e-4dfc-490a-a066-686942241770')}
2024-10-22 16:04:36,741 - INFO - Employee added successfully: rahul.sharma@example.com
2024-10-22 16:04:36,741 - INFO - ROLLBACK
2024-10-22 16:04:36,742 - ERROR - Error adding employee: 'Employee' object has no attribute 'email'
2024-10-22 16:04:36,742 - INFO - Closed add employee API
2024-10-22 16:04:36,743 - INFO - 127.0.0.1 - - [22/Oct/2024 16:04:36] "[35m[1mPOST /add-employee HTTP/1.1[0m" 500 -
2024-10-22 16:07:14,923 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\employees_table.py', reloading
2024-10-22 16:07:15,126 - INFO -  * Restarting with stat
2024-10-22 16:07:16,670 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 16:07:16,703 - WARNING -  * Debugger is active!
2024-10-22 16:07:16,708 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 16:07:16,850 - INFO - BEGIN (implicit)
2024-10-22 16:07:16,853 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-22 16:07:16,855 - INFO - [generated in 0.00031s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-22 16:07:16,859 - ERROR - OTP validation failed: OTP for komalsaikiran05@gmail.com has expired.
2024-10-22 16:07:16,859 - INFO - ROLLBACK
2024-10-22 16:07:16,861 - INFO - 127.0.0.1 - - [22/Oct/2024 16:07:16] "[31m[1mPOST /add-employee HTTP/1.1[0m" 400 -
2024-10-22 16:07:21,913 - INFO - 127.0.0.1 - - [22/Oct/2024 16:07:21] "[33mPOST /generate-otp HTTP/1.1[0m" 404 -
2024-10-22 16:07:44,892 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-22 16:07:44,926 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-22 16:07:44,926 - INFO - [33mPress CTRL+C to quit[0m
2024-10-22 16:07:44,928 - INFO -  * Restarting with stat
2024-10-22 16:07:45,837 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-22 16:07:45,856 - WARNING -  * Debugger is active!
2024-10-22 16:07:45,859 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 16:07:51,473 - INFO - Flask application has stopped.
2024-10-22 16:07:51,637 - INFO - Flask application has stopped.
2024-10-22 16:07:55,405 - INFO - BEGIN (implicit)
2024-10-22 16:07:55,407 - INFO - INSERT INTO otp_store (email, otp, timestamp) VALUES (%(email)s, %(otp)s, %(timestamp)s) RETURNING otp_store.id
2024-10-22 16:07:55,408 - INFO - [generated in 0.00054s] {'email': 'komalsaikiran05@gmail.com', 'otp': '618611', 'timestamp': datetime.datetime(2024, 10, 22, 16, 7, 55, 311783)}
2024-10-22 16:07:55,410 - INFO - COMMIT
2024-10-22 16:07:55,411 - INFO - Generated OTP for komalsaikiran05@gmail.com: 618611
2024-10-22 16:07:58,760 - INFO - End of generate_otp function for email=komalsaikiran05@gmail.com
2024-10-22 16:07:58,761 - INFO - 127.0.0.1 - - [22/Oct/2024 16:07:58] "POST /generate-otp HTTP/1.1" 200 -
2024-10-22 16:08:16,143 - INFO - Flask application has stopped.
2024-10-22 16:08:16,304 - INFO - Flask application has stopped.
2024-10-22 16:08:22,818 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 16:08:22,860 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-22 16:08:22,860 - INFO - [33mPress CTRL+C to quit[0m
2024-10-22 16:08:22,862 - INFO -  * Restarting with stat
2024-10-22 16:08:24,178 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 16:08:24,200 - WARNING -  * Debugger is active!
2024-10-22 16:08:24,205 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 16:08:27,746 - INFO - BEGIN (implicit)
2024-10-22 16:08:27,752 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-22 16:08:27,752 - INFO - [generated in 0.00043s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-22 16:08:27,758 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-22 16:08:27,758 - INFO -  Entered /add-employee endpoint. 
2024-10-22 16:08:27,774 - INFO - INSERT INTO employee (id, first_name, last_name, emp_email, phone, hire_date, position, salary, department, age, sex, blood_group, height, weight, address, emergency_contact, nationality, date_of_birth, marital_status, employment_status, insurance_number) VALUES (uuid_generate_v4(), %(first_name)s, %(last_name)s, %(emp_email)s, %(phone)s, %(hire_date)s, %(position)s, %(salary)s, %(department)s, %(age)s, %(sex)s, %(blood_group)s, %(height)s, %(weight)s, %(address)s, %(emergency_contact)s, %(nationality)s, %(date_of_birth)s, %(marital_status)s, %(employment_status)s, %(insurance_number)s) RETURNING employee.id, employee.created_at
2024-10-22 16:08:27,774 - INFO - [generated in 0.00050s] {'first_name': 'Rahul', 'last_name': 'Sharma', 'emp_email': 'rahul.sharma@example.com', 'phone': '+919876543210', 'hire_date': datetime.datetime(2024, 10, 1, 0, 0), 'position': 'Software Engineer', 'salary': 800000, 'department': 'IT', 'age': 28, 'sex': 'Male', 'blood_group': 'B+', 'height': 175, 'weight': 70, 'address': '456 Mango Street, Mumbai, Maharashtra, India', 'emergency_contact': '+918765432109', 'nationality': 'Indian', 'date_of_birth': datetime.datetime(1996, 5, 15, 0, 0), 'marital_status': 'Single', 'employment_status': 'Full-time', 'insurance_number': 'INS987654321'}
2024-10-22 16:08:27,799 - INFO - COMMIT
2024-10-22 16:08:27,904 - INFO - BEGIN (implicit)
2024-10-22 16:08:27,907 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-22 16:08:27,907 - INFO - [generated in 0.00036s] {'pk_1': UUID('f9caee77-320d-4c16-ac80-15df825b4526')}
2024-10-22 16:08:27,911 - INFO - Employee added successfully: rahul.sharma@example.com
2024-10-22 16:08:27,912 - INFO - ROLLBACK
2024-10-22 16:08:27,912 - ERROR - Error adding employee: 'Employee' object has no attribute 'email'
2024-10-22 16:08:27,912 - INFO - Closed add employee API
2024-10-22 16:08:27,914 - INFO - 127.0.0.1 - - [22/Oct/2024 16:08:27] "[35m[1mPOST /add-employee HTTP/1.1[0m" 500 -
2024-10-22 16:09:42,021 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-22 16:09:42,418 - INFO -  * Restarting with stat
2024-10-22 16:09:43,818 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 16:09:43,859 - WARNING -  * Debugger is active!
2024-10-22 16:09:43,863 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 16:09:44,189 - INFO - BEGIN (implicit)
2024-10-22 16:09:44,192 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-22 16:09:44,192 - INFO - [generated in 0.00032s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-22 16:09:44,195 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-22 16:09:44,195 - INFO -  Entered /add-employee endpoint. 
2024-10-22 16:09:44,204 - INFO - INSERT INTO employee (id, first_name, last_name, emp_email, phone, hire_date, position, salary, department, age, sex, blood_group, height, weight, address, emergency_contact, nationality, date_of_birth, marital_status, employment_status, insurance_number) VALUES (uuid_generate_v4(), %(first_name)s, %(last_name)s, %(emp_email)s, %(phone)s, %(hire_date)s, %(position)s, %(salary)s, %(department)s, %(age)s, %(sex)s, %(blood_group)s, %(height)s, %(weight)s, %(address)s, %(emergency_contact)s, %(nationality)s, %(date_of_birth)s, %(marital_status)s, %(employment_status)s, %(insurance_number)s) RETURNING employee.id, employee.created_at
2024-10-22 16:09:44,205 - INFO - [generated in 0.00030s] {'first_name': 'Rahul', 'last_name': 'Sharma', 'emp_email': 'rahul.sharma@example.com', 'phone': '+919876543210', 'hire_date': datetime.datetime(2024, 10, 1, 0, 0), 'position': 'Software Engineer', 'salary': 800000, 'department': 'IT', 'age': 28, 'sex': 'Male', 'blood_group': 'B+', 'height': 175, 'weight': 70, 'address': '456 Mango Street, Mumbai, Maharashtra, India', 'emergency_contact': '+918765432109', 'nationality': 'Indian', 'date_of_birth': datetime.datetime(1996, 5, 15, 0, 0), 'marital_status': 'Single', 'employment_status': 'Full-time', 'insurance_number': 'INS987654321'}
2024-10-22 16:09:44,215 - INFO - COMMIT
2024-10-22 16:09:44,290 - INFO - BEGIN (implicit)
2024-10-22 16:09:44,293 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-22 16:09:44,293 - INFO - [generated in 0.00036s] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-22 16:09:44,297 - INFO - Employee added successfully: rahul.sharma@example.com
2024-10-22 16:09:48,926 - INFO - ROLLBACK
2024-10-22 16:09:48,928 - INFO - Closed add employee API
2024-10-22 16:09:48,930 - INFO - 127.0.0.1 - - [22/Oct/2024 16:09:48] "[35m[1mPOST /add-employee HTTP/1.1[0m" 201 -
2024-10-22 16:14:31,363 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_employees.py', reloading
2024-10-22 16:14:31,572 - INFO -  * Restarting with stat
2024-10-22 16:14:33,165 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 16:14:33,187 - WARNING -  * Debugger is active!
2024-10-22 16:14:33,190 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 16:14:33,296 - INFO - BEGIN (implicit)
2024-10-22 16:14:33,299 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-22 16:14:33,300 - INFO - [generated in 0.00034s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-22 16:14:33,302 - ERROR - OTP validation failed: OTP for komalsaikiran05@gmail.com has expired.
2024-10-22 16:14:33,302 - INFO - ROLLBACK
2024-10-22 16:14:33,304 - INFO - 127.0.0.1 - - [22/Oct/2024 16:14:33] "[31m[1mPOST /add-employee HTTP/1.1[0m" 400 -
2024-10-22 16:17:40,860 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_employees.py', reloading
2024-10-22 16:17:41,152 - INFO -  * Restarting with stat
2024-10-22 16:17:42,427 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 16:17:42,445 - WARNING -  * Debugger is active!
2024-10-22 16:17:42,449 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 16:23:30,725 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\employees_table.py', reloading
2024-10-22 16:23:30,928 - INFO -  * Restarting with stat
2024-10-22 16:23:32,053 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 16:23:32,071 - WARNING -  * Debugger is active!
2024-10-22 16:23:32,075 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 16:23:57,933 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\employees_table.py', reloading
2024-10-22 16:23:58,162 - INFO -  * Restarting with stat
2024-10-22 16:23:59,185 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 16:23:59,204 - WARNING -  * Debugger is active!
2024-10-22 16:23:59,207 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 16:28:25,780 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_employees.py', reloading
2024-10-22 16:28:25,949 - INFO -  * Restarting with stat
2024-10-22 16:28:27,112 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 16:28:27,132 - WARNING -  * Debugger is active!
2024-10-22 16:28:27,136 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 16:29:34,517 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-22 16:29:34,796 - INFO -  * Restarting with stat
2024-10-22 16:29:36,322 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 16:29:36,345 - WARNING -  * Debugger is active!
2024-10-22 16:29:36,348 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 16:29:58,921 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_employees.py', reloading
2024-10-22 16:29:59,079 - INFO -  * Restarting with stat
2024-10-22 16:30:00,095 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 16:30:00,114 - WARNING -  * Debugger is active!
2024-10-22 16:30:00,118 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 16:30:35,035 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\constants.py', reloading
2024-10-22 16:30:35,213 - INFO -  * Restarting with stat
2024-10-22 16:30:36,600 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 16:30:36,618 - WARNING -  * Debugger is active!
2024-10-22 16:30:36,622 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 16:31:00,924 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_employees.py', reloading
2024-10-22 16:31:01,093 - INFO -  * Restarting with stat
2024-10-22 16:31:02,155 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 16:31:02,174 - WARNING -  * Debugger is active!
2024-10-22 16:31:02,177 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 16:35:30,937 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_employees.py', reloading
2024-10-22 16:35:31,162 - INFO -  * Restarting with stat
2024-10-22 16:35:32,367 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 16:35:32,384 - WARNING -  * Debugger is active!
2024-10-22 16:35:32,387 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 16:36:44,346 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-22 16:36:44,521 - INFO -  * Restarting with stat
2024-10-22 16:36:45,762 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 16:36:45,783 - WARNING -  * Debugger is active!
2024-10-22 16:36:45,789 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 16:44:28,472 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_employees.py', reloading
2024-10-22 16:44:28,683 - INFO -  * Restarting with stat
2024-10-22 16:44:29,864 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 16:44:29,896 - WARNING -  * Debugger is active!
2024-10-22 16:44:29,902 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 16:45:07,114 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-22 16:45:07,353 - INFO -  * Restarting with stat
2024-10-22 16:45:08,532 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 16:45:08,550 - WARNING -  * Debugger is active!
2024-10-22 16:45:08,552 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 16:46:08,552 - INFO - Entered /get-employees endpoint.
2024-10-22 16:46:08,712 - INFO - BEGIN (implicit)
2024-10-22 16:46:08,722 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee
2024-10-22 16:46:08,724 - INFO - [generated in 0.00098s] {}
2024-10-22 16:46:08,744 - INFO - SELECT count(*) AS count_1 
FROM (SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee) AS anon_1
2024-10-22 16:46:08,745 - INFO - [generated in 0.00053s] {}
2024-10-22 16:46:08,746 - INFO - Fetched 3 employee(s)
2024-10-22 16:46:14,343 - INFO - ROLLBACK
2024-10-22 16:46:14,346 - INFO - Closed get employees API
2024-10-22 16:46:14,347 - INFO - 127.0.0.1 - - [22/Oct/2024 16:46:14] "GET /get-employees HTTP/1.1" 200 -
2024-10-22 16:49:15,099 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-22 16:49:15,273 - INFO -  * Restarting with stat
2024-10-22 16:49:16,571 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 16:49:16,591 - WARNING -  * Debugger is active!
2024-10-22 16:49:16,594 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 16:49:16,640 - INFO - Entered /get-employees endpoint.
2024-10-22 16:49:16,724 - INFO - BEGIN (implicit)
2024-10-22 16:49:16,728 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee
2024-10-22 16:49:16,728 - INFO - [generated in 0.00022s] {}
2024-10-22 16:49:16,734 - INFO - SELECT count(*) AS count_1 
FROM (SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee) AS anon_1
2024-10-22 16:49:16,735 - INFO - [generated in 0.00032s] {}
2024-10-22 16:49:16,736 - INFO - Fetched 3 employee(s)
2024-10-22 16:49:20,077 - INFO - ROLLBACK
2024-10-22 16:49:20,078 - INFO - Closed get employees API
2024-10-22 16:49:20,078 - INFO - 127.0.0.1 - - [22/Oct/2024 16:49:20] "GET /get-employees HTTP/1.1" 200 -
2024-10-22 16:50:34,099 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-22 16:50:34,354 - INFO -  * Restarting with stat
2024-10-22 16:50:35,602 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 16:50:35,618 - WARNING -  * Debugger is active!
2024-10-22 16:50:35,624 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 16:50:35,676 - INFO - Entered /get-employees endpoint.
2024-10-22 16:50:35,746 - INFO - BEGIN (implicit)
2024-10-22 16:50:35,752 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee
2024-10-22 16:50:35,752 - INFO - [generated in 0.00041s] {}
2024-10-22 16:50:35,761 - INFO - SELECT count(*) AS count_1 
FROM (SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee) AS anon_1
2024-10-22 16:50:35,761 - INFO - [generated in 0.00058s] {}
2024-10-22 16:50:35,763 - INFO - Fetched 3 employee(s)
2024-10-22 16:50:40,286 - INFO - ROLLBACK
2024-10-22 16:50:40,287 - INFO - Closed get employees API
2024-10-22 16:50:40,288 - INFO - 127.0.0.1 - - [22/Oct/2024 16:50:40] "GET /get-employees HTTP/1.1" 200 -
2024-10-22 16:51:00,725 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-22 16:51:00,895 - INFO -  * Restarting with stat
2024-10-22 16:51:02,243 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 16:51:02,260 - WARNING -  * Debugger is active!
2024-10-22 16:51:02,264 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 16:51:02,310 - INFO - Entered /get-employees endpoint.
2024-10-22 16:51:02,381 - INFO - BEGIN (implicit)
2024-10-22 16:51:02,385 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee
2024-10-22 16:51:02,386 - INFO - [generated in 0.00025s] {}
2024-10-22 16:51:02,393 - INFO - SELECT count(*) AS count_1 
FROM (SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee) AS anon_1
2024-10-22 16:51:02,393 - INFO - [generated in 0.00029s] {}
2024-10-22 16:51:02,394 - INFO - Fetched 3 employee(s)
2024-10-22 16:51:06,818 - INFO - ROLLBACK
2024-10-22 16:51:06,821 - INFO - Closed get employees API
2024-10-22 16:51:06,822 - INFO - 127.0.0.1 - - [22/Oct/2024 16:51:06] "GET /get-employees HTTP/1.1" 200 -
2024-10-22 16:51:25,957 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-22 16:51:26,236 - INFO -  * Restarting with stat
2024-10-22 16:51:27,731 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 16:51:27,749 - WARNING -  * Debugger is active!
2024-10-22 16:51:27,752 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 16:51:27,795 - INFO - Entered /get-employees endpoint.
2024-10-22 16:51:27,862 - INFO - BEGIN (implicit)
2024-10-22 16:51:27,868 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee
2024-10-22 16:51:27,868 - INFO - [generated in 0.00027s] {}
2024-10-22 16:51:27,874 - INFO - SELECT count(*) AS count_1 
FROM (SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee) AS anon_1
2024-10-22 16:51:27,874 - INFO - [generated in 0.00024s] {}
2024-10-22 16:51:27,875 - INFO - Fetched 3 employee(s)
2024-10-22 16:51:31,884 - INFO - ROLLBACK
2024-10-22 16:51:31,885 - INFO - Closed get employees API
2024-10-22 16:51:31,886 - INFO - 127.0.0.1 - - [22/Oct/2024 16:51:31] "GET /get-employees HTTP/1.1" 200 -
2024-10-22 16:51:57,303 - INFO - Flask application has stopped.
2024-10-22 16:51:57,722 - INFO - Flask application has stopped.
2024-10-22 20:33:11,327 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 20:33:11,408 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-22 20:33:11,408 - INFO - [33mPress CTRL+C to quit[0m
2024-10-22 20:33:11,411 - INFO -  * Restarting with stat
2024-10-22 20:33:12,183 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 20:33:12,198 - WARNING -  * Debugger is active!
2024-10-22 20:33:12,205 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 20:33:45,305 - INFO - Entered /get-employees endpoint.
2024-10-22 20:33:45,482 - INFO - BEGIN (implicit)
2024-10-22 20:33:45,551 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee
2024-10-22 20:33:45,551 - INFO - [generated in 0.00031s] {}
2024-10-22 20:33:45,710 - INFO - SELECT count(*) AS count_1 
FROM (SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee) AS anon_1
2024-10-22 20:33:45,711 - INFO - [generated in 0.00127s] {}
2024-10-22 20:33:45,780 - INFO - Fetched 3 employee(s)
2024-10-22 20:33:51,630 - INFO - ROLLBACK
2024-10-22 20:33:51,630 - INFO - Closed get employees API
2024-10-22 20:33:51,631 - INFO - 127.0.0.1 - - [22/Oct/2024 20:33:51] "GET /get-employees?created_at=2024-10-22T16:04:36.590353 HTTP/1.1" 200 -
2024-10-22 20:46:51,775 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-22 20:46:51,943 - INFO -  * Restarting with stat
2024-10-22 20:46:53,304 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 20:46:53,405 - WARNING -  * Debugger is active!
2024-10-22 20:46:53,420 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 20:50:36,977 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_employees.py', reloading
2024-10-22 20:50:37,181 - INFO -  * Restarting with stat
2024-10-22 20:50:38,235 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 20:50:38,254 - WARNING -  * Debugger is active!
2024-10-22 20:50:38,258 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 20:50:39,328 - INFO - Entered /get-employees endpoint.
2024-10-22 20:50:39,402 - INFO - BEGIN (implicit)
2024-10-22 20:50:39,411 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.created_at = %(created_at_1)s
2024-10-22 20:50:39,411 - INFO - [generated in 0.00043s] {'created_at_1': '2024-10-22T16:04:36.590353'}
2024-10-22 20:50:39,433 - INFO - SELECT count(*) AS count_1 
FROM (SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.created_at = %(created_at_1)s) AS anon_1
2024-10-22 20:50:39,433 - INFO - [generated in 0.00028s] {'created_at_1': '2024-10-22T16:04:36.590353'}
2024-10-22 20:50:39,436 - INFO - Fetched 1 employee(s)
2024-10-22 20:50:43,636 - INFO - ROLLBACK
2024-10-22 20:50:43,637 - INFO - Closed get employees API
2024-10-22 20:50:43,637 - INFO - 127.0.0.1 - - [22/Oct/2024 20:50:43] "GET /get-employees?created_at=2024-10-22T16:04:36.590353 HTTP/1.1" 200 -
2024-10-22 20:56:01,812 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_employees.py', reloading
2024-10-22 20:56:01,966 - INFO -  * Restarting with stat
2024-10-22 20:56:02,996 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 20:56:03,015 - WARNING -  * Debugger is active!
2024-10-22 20:56:03,018 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 20:56:03,954 - INFO - Entered /get-employees endpoint.
2024-10-22 20:56:04,033 - INFO - BEGIN (implicit)
2024-10-22 20:56:04,037 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.created_at = %(created_at_1)s
2024-10-22 20:56:04,037 - INFO - [generated in 0.00030s] {'created_at_1': '2024-10-22T16:04:36.590353'}
2024-10-22 20:56:04,048 - INFO - SELECT count(*) AS count_1 
FROM (SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.created_at = %(created_at_1)s) AS anon_1
2024-10-22 20:56:04,048 - INFO - [generated in 0.00029s] {'created_at_1': '2024-10-22T16:04:36.590353'}
2024-10-22 20:56:04,049 - INFO - Fetched 1 employee(s)
2024-10-22 20:56:07,902 - INFO - ROLLBACK
2024-10-22 20:56:07,903 - INFO - Closed get employees API
2024-10-22 20:56:07,904 - INFO - 127.0.0.1 - - [22/Oct/2024 20:56:07] "GET /get-employees?created_at=2024-10-22T16:04:36.590353 HTTP/1.1" 200 -
2024-10-22 20:56:38,358 - INFO - Entered /get-employees endpoint.
2024-10-22 20:56:38,446 - INFO - BEGIN (implicit)
2024-10-22 20:56:38,448 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(id_1)s::UUID
2024-10-22 20:56:38,448 - INFO - [generated in 0.00023s] {'id_1': '06e4347e-4dfc-490a-a066-686942241770'}
2024-10-22 20:56:38,455 - INFO - SELECT count(*) AS count_1 
FROM (SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(id_1)s::UUID) AS anon_1
2024-10-22 20:56:38,455 - INFO - [generated in 0.00062s] {'id_1': '06e4347e-4dfc-490a-a066-686942241770'}
2024-10-22 20:56:38,457 - INFO - Fetched 1 employee(s)
2024-10-22 20:56:42,091 - INFO - ROLLBACK
2024-10-22 20:56:42,091 - INFO - Closed get employees API
2024-10-22 20:56:42,092 - INFO - 127.0.0.1 - - [22/Oct/2024 20:56:42] "GET /get-employees?id=06e4347e-4dfc-490a-a066-686942241770 HTTP/1.1" 200 -
2024-10-22 20:58:09,799 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_employees.py', reloading
2024-10-22 20:58:09,950 - INFO -  * Restarting with stat
2024-10-22 20:58:10,966 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 20:58:10,987 - WARNING -  * Debugger is active!
2024-10-22 20:58:10,991 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 21:02:35,593 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_employees.py', reloading
2024-10-22 21:02:35,761 - INFO -  * Restarting with stat
2024-10-22 21:02:36,863 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 21:02:36,878 - WARNING -  * Debugger is active!
2024-10-22 21:02:36,881 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 21:02:38,116 - INFO - Entered /get-employees endpoint.
2024-10-22 21:02:38,193 - INFO - BEGIN (implicit)
2024-10-22 21:02:38,201 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(id_1)s::UUID
2024-10-22 21:02:38,201 - INFO - [generated in 0.00027s] {'id_1': '06e4347e-4dfc-490a-a066-686942241770'}
2024-10-22 21:02:38,214 - INFO - SELECT count(*) AS count_1 
FROM (SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(id_1)s::UUID) AS anon_1
2024-10-22 21:02:38,214 - INFO - [generated in 0.00058s] {'id_1': '06e4347e-4dfc-490a-a066-686942241770'}
2024-10-22 21:02:38,216 - INFO - Fetched 1 employee(s)
2024-10-22 21:02:42,626 - INFO - ROLLBACK
2024-10-22 21:02:42,627 - INFO - Closed get employees API
2024-10-22 21:02:42,628 - INFO - 127.0.0.1 - - [22/Oct/2024 21:02:42] "GET /get-employees?id=06e4347e-4dfc-490a-a066-686942241770 HTTP/1.1" 200 -
2024-10-22 21:03:28,833 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_employees.py', reloading
2024-10-22 21:03:29,018 - INFO -  * Restarting with stat
2024-10-22 21:03:29,962 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 21:03:29,984 - WARNING -  * Debugger is active!
2024-10-22 21:03:29,987 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 21:13:45,684 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-22 21:13:45,716 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-22 21:13:45,716 - INFO - [33mPress CTRL+C to quit[0m
2024-10-22 21:13:45,717 - INFO -  * Restarting with stat
2024-10-22 21:13:46,671 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-22 21:13:46,692 - WARNING -  * Debugger is active!
2024-10-22 21:13:46,695 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 21:13:49,798 - INFO - 127.0.0.1 - - [22/Oct/2024 21:13:49] "[33mPOST /generate-otp HTTP/1.1[0m" 404 -
2024-10-22 21:13:57,755 - INFO - Flask application has stopped.
2024-10-22 21:13:57,907 - INFO - Flask application has stopped.
2024-10-22 21:14:00,870 - INFO - BEGIN (implicit)
2024-10-22 21:14:00,873 - INFO - INSERT INTO otp_store (email, otp, timestamp) VALUES (%(email)s, %(otp)s, %(timestamp)s) RETURNING otp_store.id
2024-10-22 21:14:00,873 - INFO - [generated in 0.00030s] {'email': 'komalsaikiran05@gmail.com', 'otp': '766676', 'timestamp': datetime.datetime(2024, 10, 22, 21, 14, 0, 797555)}
2024-10-22 21:14:00,888 - INFO - COMMIT
2024-10-22 21:14:00,892 - INFO - Generated OTP for komalsaikiran05@gmail.com: 766676
2024-10-22 21:14:04,347 - INFO - End of generate_otp function for email=komalsaikiran05@gmail.com
2024-10-22 21:14:04,347 - INFO - 127.0.0.1 - - [22/Oct/2024 21:14:04] "POST /generate-otp HTTP/1.1" 200 -
2024-10-22 21:14:17,592 - INFO - Flask application has stopped.
2024-10-22 21:14:17,700 - INFO - Flask application has stopped.
2024-10-22 21:14:22,990 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 21:14:23,020 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-22 21:14:23,021 - INFO - [33mPress CTRL+C to quit[0m
2024-10-22 21:14:23,022 - INFO -  * Restarting with stat
2024-10-22 21:14:24,119 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 21:14:24,136 - WARNING -  * Debugger is active!
2024-10-22 21:14:24,138 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 21:14:26,375 - INFO - BEGIN (implicit)
2024-10-22 21:14:26,378 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-22 21:14:26,378 - INFO - [generated in 0.00020s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-22 21:14:26,386 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-22 21:14:26,386 - INFO - Entered /update-employee endpoint.
2024-10-22 21:14:26,395 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-22 21:14:26,396 - INFO - [generated in 0.00109s] {'id_1': '06e4347e-4dfc-490a-a066-686942241770', 'param_1': 1}
2024-10-22 21:14:26,402 - INFO - UPDATE employee SET first_name=%(first_name)s, last_name=%(last_name)s, emp_email=%(emp_email)s, emp_num=%(emp_num)s, phone=%(phone)s, hire_date=%(hire_date)s, position=%(position)s, salary=%(salary)s, department=%(department)s, age=%(age)s, blood_group=%(blood_group)s, weight=%(weight)s, address=%(address)s, emergency_contact=%(emergency_contact)s, date_of_birth=%(date_of_birth)s, insurance_number=%(insurance_number)s WHERE employee.id = %(employee_id)s::UUID
2024-10-22 21:14:26,402 - INFO - [generated in 0.00025s] {'first_name': 'kiran', 'last_name': 'kumar', 'emp_email': 'kiran.kumar@gmail.com', 'emp_num': 'EMP00123', 'phone': '+7234567890', 'hire_date': '2020-06-15', 'position': 'Senior Developer', 'salary': 85000, 'department': 'Engineering', 'age': 30, 'blood_group': 'O+', 'weight': 75, 'address': '123, Main St, Mumbai', 'emergency_contact': '+0987654321', 'date_of_birth': '1994-05-12', 'insurance_number': 'INS123456789', 'employee_id': UUID('06e4347e-4dfc-490a-a066-686942241770')}
2024-10-22 21:14:26,411 - INFO - COMMIT
2024-10-22 21:14:26,471 - INFO - BEGIN (implicit)
2024-10-22 21:14:26,473 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-22 21:14:26,473 - INFO - [generated in 0.00038s] {'pk_1': UUID('06e4347e-4dfc-490a-a066-686942241770')}
2024-10-22 21:14:29,934 - INFO - Employee ID 06e4347e-4dfc-490a-a066-686942241770 updated successfully at 2024-10-22 21:14:26.
2024-10-22 21:14:29,935 - INFO - ROLLBACK
2024-10-22 21:14:29,937 - INFO - Closed /update-employee API.
2024-10-22 21:14:29,938 - INFO - 127.0.0.1 - - [22/Oct/2024 21:14:29] "PUT /update-employee HTTP/1.1" 200 -
2024-10-22 21:15:38,215 - INFO - Entered /get-employees endpoint.
2024-10-22 21:15:38,294 - INFO - BEGIN (implicit)
2024-10-22 21:15:38,295 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee
2024-10-22 21:15:38,296 - INFO - [generated in 0.00068s] {}
2024-10-22 21:15:38,301 - INFO - SELECT count(*) AS count_1 
FROM (SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee) AS anon_1
2024-10-22 21:15:38,301 - INFO - [generated in 0.00019s] {}
2024-10-22 21:15:38,303 - INFO - Fetched 3 employee(s)
2024-10-22 21:15:41,776 - INFO - ROLLBACK
2024-10-22 21:15:41,777 - INFO - Closed get employees API
2024-10-22 21:15:41,778 - INFO - 127.0.0.1 - - [22/Oct/2024 21:15:41] "GET /get-employees HTTP/1.1" 200 -
2024-10-22 21:19:04,898 - INFO - BEGIN (implicit)
2024-10-22 21:19:04,899 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-22 21:19:04,899 - INFO - [cached since 278.5s ago] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-22 21:19:04,902 - ERROR - OTP validation failed: OTP for komalsaikiran05@gmail.com has expired.
2024-10-22 21:19:04,902 - INFO - ROLLBACK
2024-10-22 21:19:04,903 - INFO - 127.0.0.1 - - [22/Oct/2024 21:19:04] "[31m[1mPUT /update-employee HTTP/1.1[0m" 400 -
2024-10-22 21:19:15,390 - INFO - Flask application has stopped.
2024-10-22 21:19:15,514 - INFO - Flask application has stopped.
2024-10-22 21:19:22,994 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-22 21:19:23,025 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-22 21:19:23,025 - INFO - [33mPress CTRL+C to quit[0m
2024-10-22 21:19:23,026 - INFO -  * Restarting with stat
2024-10-22 21:19:23,877 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-22 21:19:23,896 - WARNING -  * Debugger is active!
2024-10-22 21:19:23,900 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 21:19:28,681 - INFO - BEGIN (implicit)
2024-10-22 21:19:28,684 - INFO - INSERT INTO otp_store (email, otp, timestamp) VALUES (%(email)s, %(otp)s, %(timestamp)s) RETURNING otp_store.id
2024-10-22 21:19:28,684 - INFO - [generated in 0.00035s] {'email': 'komalsaikiran05@gmail.com', 'otp': '578072', 'timestamp': datetime.datetime(2024, 10, 22, 21, 19, 28, 513742)}
2024-10-22 21:19:28,690 - INFO - COMMIT
2024-10-22 21:19:28,692 - INFO - Generated OTP for komalsaikiran05@gmail.com: 578072
2024-10-22 21:19:32,142 - INFO - End of generate_otp function for email=komalsaikiran05@gmail.com
2024-10-22 21:19:32,143 - INFO - 127.0.0.1 - - [22/Oct/2024 21:19:32] "POST /generate-otp HTTP/1.1" 200 -
2024-10-22 21:19:38,621 - INFO - Flask application has stopped.
2024-10-22 21:19:38,735 - INFO - Flask application has stopped.
2024-10-22 21:19:45,919 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 21:19:45,956 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-22 21:19:45,956 - INFO - [33mPress CTRL+C to quit[0m
2024-10-22 21:19:45,958 - INFO -  * Restarting with stat
2024-10-22 21:19:46,940 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 21:19:46,956 - WARNING -  * Debugger is active!
2024-10-22 21:19:46,959 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 21:20:00,279 - INFO - BEGIN (implicit)
2024-10-22 21:20:00,283 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-22 21:20:00,283 - INFO - [generated in 0.00075s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-22 21:20:00,286 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-22 21:20:00,286 - INFO - Entered /update-employee endpoint.
2024-10-22 21:20:00,294 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-22 21:20:00,294 - INFO - [generated in 0.00036s] {'id_1': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'param_1': 1}
2024-10-22 21:20:00,299 - INFO - UPDATE employee SET first_name=%(first_name)s, last_name=%(last_name)s, emp_email=%(emp_email)s, emp_num=%(emp_num)s, phone=%(phone)s, hire_date=%(hire_date)s, position=%(position)s, salary=%(salary)s, age=%(age)s, height=%(height)s, weight=%(weight)s, address=%(address)s, emergency_contact=%(emergency_contact)s, date_of_birth=%(date_of_birth)s, insurance_number=%(insurance_number)s WHERE employee.id = %(employee_id)s::UUID
2024-10-22 21:20:00,299 - INFO - [generated in 0.00079s] {'first_name': 'shanti', 'last_name': 'swaroop', 'emp_email': 'shanti.swaroop@gmail.com', 'emp_num': 'EMP0012', 'phone': '+9234567890', 'hire_date': '2024-06-15', 'position': 'junior Developer', 'salary': 45000, 'age': 25, 'height': 185, 'weight': 72, 'address': '1, Vizag, Andhra Pradesh', 'emergency_contact': '+9187654321', 'date_of_birth': '1999-05-12', 'insurance_number': 'INS123456780', 'employee_id': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-22 21:20:00,303 - INFO - COMMIT
2024-10-22 21:20:00,382 - INFO - BEGIN (implicit)
2024-10-22 21:20:00,383 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-22 21:20:00,384 - INFO - [generated in 0.00038s] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-22 21:20:03,698 - INFO - Employee ID b66710eb-93c1-4c5c-90cf-6b368151f9df updated successfully at 2024-10-22 21:20:00.
2024-10-22 21:20:03,699 - INFO - ROLLBACK
2024-10-22 21:20:03,699 - INFO - Closed /update-employee API.
2024-10-22 21:20:03,700 - INFO - 127.0.0.1 - - [22/Oct/2024 21:20:03] "PUT /update-employee HTTP/1.1" 200 -
2024-10-22 21:23:35,067 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-22 21:23:35,538 - INFO -  * Restarting with stat
2024-10-22 21:23:37,432 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 21:23:37,459 - WARNING -  * Debugger is active!
2024-10-22 21:23:37,464 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 21:25:46,946 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_employees.py', reloading
2024-10-22 21:25:47,098 - INFO -  * Restarting with stat
2024-10-22 21:25:48,000 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 21:25:48,019 - WARNING -  * Debugger is active!
2024-10-22 21:25:48,022 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 21:31:09,356 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_employees.py', reloading
2024-10-22 21:31:09,467 - INFO -  * Restarting with stat
2024-10-22 21:31:11,041 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 21:31:11,057 - WARNING -  * Debugger is active!
2024-10-22 21:31:11,060 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 21:34:01,441 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_employees.py', reloading
2024-10-22 21:34:01,590 - INFO -  * Restarting with stat
2024-10-22 21:34:02,554 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 21:34:02,579 - WARNING -  * Debugger is active!
2024-10-22 21:34:02,582 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 21:37:05,617 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_employees.py', reloading
2024-10-22 21:37:05,791 - INFO -  * Restarting with stat
2024-10-22 21:37:06,717 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 21:37:06,735 - WARNING -  * Debugger is active!
2024-10-22 21:37:06,739 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 21:37:55,860 - INFO - Flask application has stopped.
2024-10-22 21:37:55,976 - INFO - Flask application has stopped.
2024-10-22 21:37:59,558 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-22 21:37:59,594 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-22 21:37:59,594 - INFO - [33mPress CTRL+C to quit[0m
2024-10-22 21:37:59,596 - INFO -  * Restarting with stat
2024-10-22 21:38:00,441 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-22 21:38:00,457 - WARNING -  * Debugger is active!
2024-10-22 21:38:00,460 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 21:38:06,000 - INFO - BEGIN (implicit)
2024-10-22 21:38:06,002 - INFO - INSERT INTO otp_store (email, otp, timestamp) VALUES (%(email)s, %(otp)s, %(timestamp)s) RETURNING otp_store.id
2024-10-22 21:38:06,002 - INFO - [generated in 0.00028s] {'email': 'komalsaikiran05@gmail.com', 'otp': '718901', 'timestamp': datetime.datetime(2024, 10, 22, 21, 38, 5, 906752)}
2024-10-22 21:38:06,018 - INFO - COMMIT
2024-10-22 21:38:06,019 - INFO - Generated OTP for komalsaikiran05@gmail.com: 718901
2024-10-22 21:38:09,171 - INFO - End of generate_otp function for email=komalsaikiran05@gmail.com
2024-10-22 21:38:09,174 - INFO - 127.0.0.1 - - [22/Oct/2024 21:38:09] "POST /generate-otp HTTP/1.1" 200 -
2024-10-22 21:38:18,477 - INFO - Flask application has stopped.
2024-10-22 21:38:18,583 - INFO - Flask application has stopped.
2024-10-22 21:38:24,267 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 21:38:24,297 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-22 21:38:24,297 - INFO - [33mPress CTRL+C to quit[0m
2024-10-22 21:38:24,298 - INFO -  * Restarting with stat
2024-10-22 21:38:25,267 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 21:38:25,295 - WARNING -  * Debugger is active!
2024-10-22 21:38:25,301 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 21:38:33,787 - INFO - BEGIN (implicit)
2024-10-22 21:38:33,790 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-22 21:38:33,791 - INFO - [generated in 0.00037s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-22 21:38:33,798 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-22 21:38:33,798 - INFO - Entered /add-employee endpoint. Request method: POST
2024-10-22 21:38:33,798 - DEBUG - Received request data: {'first_name': 'Ra', 'last_name': 'Sha', 'emp_email': 'ral.sharma@example.com', 'phone': '+919856543210', 'hire_date': '2024-10-01', 'position': 'Software Engineer', 'salary': 800000, 'department': 'IT', 'age': 28, 'sex': 'Male', 'blood_group': 'B+', 'height': 175, 'weight': 70, 'address': '456 Mango Street, Mumbai, Maharashtra, India', 'emergency_contact': '+918764432109', 'nationality': 'Indian', 'date_of_birth': '1996-05-15', 'marital_status': 'Single', 'employment_status': 'Full-time', 'insurance_number': 'INS997654321', 'email': 'komalsaikiran05@gmail.com', 'otp': '718901'}
2024-10-22 21:38:33,798 - WARNING - Missing field: emp_num in request data
2024-10-22 21:38:33,799 - INFO - ROLLBACK
2024-10-22 21:38:33,799 - INFO - Session closed for add employee API
2024-10-22 21:38:33,799 - INFO - 127.0.0.1 - - [22/Oct/2024 21:38:33] "[31m[1mPOST /add-employee HTTP/1.1[0m" 400 -
2024-10-22 21:39:45,450 - INFO - BEGIN (implicit)
2024-10-22 21:39:45,451 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-22 21:39:45,451 - INFO - [cached since 71.66s ago] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-22 21:39:45,456 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-22 21:39:45,456 - INFO - Entered /add-employee endpoint. Request method: POST
2024-10-22 21:39:45,456 - DEBUG - Received request data: {'first_name': 'Ra', 'last_name': 'Sha', 'emp_email': 'ral.sharma@example.com', 'emp_num': 'EMP0012547', 'phone': '+919856543210', 'hire_date': '2024-10-01', 'position': 'Software Engineer', 'salary': 800000, 'department': 'IT', 'age': 28, 'sex': 'Male', 'blood_group': 'B+', 'height': 175, 'weight': 70, 'address': '456 Mango Street, Mumbai, Maharashtra, India', 'emergency_contact': '+918764432109', 'nationality': 'Indian', 'date_of_birth': '1996-05-15', 'marital_status': 'Single', 'employment_status': 'Full-time', 'insurance_number': 'INS997654321', 'email': 'komalsaikiran05@gmail.com', 'otp': '718901'}
2024-10-22 21:39:45,470 - INFO - New employee created: ral.sharma@example.com - Ready for database insertion
2024-10-22 21:39:45,474 - INFO - INSERT INTO employee (id, first_name, last_name, emp_email, emp_num, phone, hire_date, position, salary, department, age, sex, blood_group, height, weight, address, emergency_contact, nationality, date_of_birth, marital_status, employment_status, insurance_number) VALUES (uuid_generate_v4(), %(first_name)s, %(last_name)s, %(emp_email)s, %(emp_num)s, %(phone)s, %(hire_date)s, %(position)s, %(salary)s, %(department)s, %(age)s, %(sex)s, %(blood_group)s, %(height)s, %(weight)s, %(address)s, %(emergency_contact)s, %(nationality)s, %(date_of_birth)s, %(marital_status)s, %(employment_status)s, %(insurance_number)s) RETURNING employee.id, employee.created_at
2024-10-22 21:39:45,474 - INFO - [generated in 0.00070s] {'first_name': 'Ra', 'last_name': 'Sha', 'emp_email': 'ral.sharma@example.com', 'emp_num': 'EMP0012547', 'phone': '+919856543210', 'hire_date': datetime.datetime(2024, 10, 1, 0, 0), 'position': 'Software Engineer', 'salary': 800000, 'department': 'IT', 'age': 28, 'sex': 'Male', 'blood_group': 'B+', 'height': 175, 'weight': 70, 'address': '456 Mango Street, Mumbai, Maharashtra, India', 'emergency_contact': '+918764432109', 'nationality': 'Indian', 'date_of_birth': datetime.datetime(1996, 5, 15, 0, 0), 'marital_status': 'Single', 'employment_status': 'Full-time', 'insurance_number': 'INS997654321'}
2024-10-22 21:39:45,510 - INFO - COMMIT
2024-10-22 21:39:45,591 - INFO - BEGIN (implicit)
2024-10-22 21:39:45,594 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-22 21:39:45,594 - INFO - [generated in 0.00030s] {'pk_1': UUID('95608c44-3eb3-4ba7-b83f-01ff3a81bf02')}
2024-10-22 21:39:45,598 - INFO - Employee ral.sharma@example.com added successfully to the database
2024-10-22 21:39:48,909 - INFO - Welcome email sent to ral.sharma@example.com
2024-10-22 21:39:48,911 - INFO - ROLLBACK
2024-10-22 21:39:48,912 - INFO - Session closed for add employee API
2024-10-22 21:39:48,913 - INFO - 127.0.0.1 - - [22/Oct/2024 21:39:48] "[35m[1mPOST /add-employee HTTP/1.1[0m" 201 -
2024-10-22 21:47:48,097 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_employees.py', reloading
2024-10-22 21:47:48,356 - INFO -  * Restarting with stat
2024-10-22 21:47:49,662 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 21:47:49,682 - WARNING -  * Debugger is active!
2024-10-22 21:47:49,686 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 21:49:53,876 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_employees.py', reloading
2024-10-22 21:49:54,088 - INFO -  * Restarting with stat
2024-10-22 21:49:55,275 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 21:49:55,294 - WARNING -  * Debugger is active!
2024-10-22 21:49:55,297 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 21:49:59,257 - INFO - Entered /get-employees endpoint.
2024-10-22 21:49:59,257 - INFO - Query parameters: ImmutableMultiDict([])
2024-10-22 21:49:59,331 - INFO - BEGIN (implicit)
2024-10-22 21:49:59,337 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee
2024-10-22 21:49:59,337 - INFO - [generated in 0.00030s] {}
2024-10-22 21:49:59,346 - INFO - SELECT count(*) AS count_1 
FROM (SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee) AS anon_1
2024-10-22 21:49:59,346 - INFO - [generated in 0.00030s] {}
2024-10-22 21:49:59,350 - INFO - Fetched 4 employee(s).
2024-10-22 21:50:03,167 - INFO - ROLLBACK
2024-10-22 21:50:03,169 - INFO - Closed /get-employees endpoint.
2024-10-22 21:50:03,171 - INFO - 127.0.0.1 - - [22/Oct/2024 21:50:03] "GET /get-employees HTTP/1.1" 200 -
2024-10-22 21:52:46,943 - INFO - Flask application has stopped.
2024-10-22 21:52:47,120 - INFO - Flask application has stopped.
2024-10-22 21:52:52,892 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-22 21:52:52,925 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-22 21:52:52,925 - INFO - [33mPress CTRL+C to quit[0m
2024-10-22 21:52:52,927 - INFO -  * Restarting with stat
2024-10-22 21:52:53,986 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-22 21:52:54,010 - WARNING -  * Debugger is active!
2024-10-22 21:52:54,012 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 21:52:57,996 - INFO - BEGIN (implicit)
2024-10-22 21:52:58,000 - INFO - INSERT INTO otp_store (email, otp, timestamp) VALUES (%(email)s, %(otp)s, %(timestamp)s) RETURNING otp_store.id
2024-10-22 21:52:58,000 - INFO - [generated in 0.00045s] {'email': 'komalsaikiran05@gmail.com', 'otp': '989061', 'timestamp': datetime.datetime(2024, 10, 22, 21, 52, 57, 871314)}
2024-10-22 21:52:58,011 - INFO - COMMIT
2024-10-22 21:52:58,014 - INFO - Generated OTP for komalsaikiran05@gmail.com: 989061
2024-10-22 21:53:02,274 - INFO - End of generate_otp function for email=komalsaikiran05@gmail.com
2024-10-22 21:53:02,275 - INFO - 127.0.0.1 - - [22/Oct/2024 21:53:02] "POST /generate-otp HTTP/1.1" 200 -
2024-10-22 21:53:09,369 - INFO - Flask application has stopped.
2024-10-22 21:53:09,554 - INFO - Flask application has stopped.
2024-10-22 21:53:14,141 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 21:53:14,189 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-22 21:53:14,189 - INFO - [33mPress CTRL+C to quit[0m
2024-10-22 21:53:14,191 - INFO -  * Restarting with stat
2024-10-22 21:53:15,259 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 21:53:15,312 - WARNING -  * Debugger is active!
2024-10-22 21:53:15,321 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 21:53:34,728 - INFO - 127.0.0.1 - - [22/Oct/2024 21:53:34] "[31m[1mDELETE /delete-employee?id=95608c44-3eb3-4ba7-b83f-01ff3a81bf02&email=komalsaikiran05@gmail.com&otp=989061 HTTP/1.1[0m" 415 -
2024-10-22 21:54:50,391 - INFO - BEGIN (implicit)
2024-10-22 21:54:50,396 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-22 21:54:50,396 - INFO - [generated in 0.00040s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-22 21:54:50,400 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-22 21:54:50,400 - INFO - Entered /delete-employee endpoint.
2024-10-22 21:54:50,400 - DEBUG - Query parameters received: id=95608c44-3eb3-4ba7-b83f-01ff3a81bf02, emp_num=None, emp_email=None, phone=None, email=komalsaikiran05@gmail.com, otp=989061
2024-10-22 21:54:50,403 - INFO - Filtering employee by ID: 95608c44-3eb3-4ba7-b83f-01ff3a81bf02
2024-10-22 21:54:50,409 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-22 21:54:50,409 - INFO - [generated in 0.00037s] {'id_1': '95608c44-3eb3-4ba7-b83f-01ff3a81bf02', 'param_1': 1}
2024-10-22 21:54:50,412 - INFO - Employee found for deletion: {'id': '95608c44-3eb3-4ba7-b83f-01ff3a81bf02', 'first_name': 'Ra', 'last_name': 'Sha', 'emp_email': 'ral.sharma@example.com', 'emp_num': 'EMP0012547', 'phone': '+919856543210', 'hire_date': '2024-10-01', 'position': 'Software Engineer', 'salary': '800000.00', 'department': 'IT', 'age': 28, 'sex': 'Male', 'blood_group': 'B+', 'height': '175.00', 'weight': '70.00', 'address': '456 Mango Street, Mumbai, Maharashtra, India', 'emergency_contact': '+918764432109', 'nationality': 'Indian', 'date_of_birth': '1996-05-15', 'marital_status': 'Single', 'employment_status': 'Full-time', 'insurance_number': 'INS997654321', 'created_at': '2024-10-22T21:39:45.452357'}
2024-10-22 21:54:50,412 - INFO - Deleting employee with ID 95608c44-3eb3-4ba7-b83f-01ff3a81bf02
2024-10-22 21:54:50,416 - INFO - DELETE FROM employee WHERE employee.id = %(id)s::UUID
2024-10-22 21:54:50,416 - INFO - [generated in 0.00026s] {'id': UUID('95608c44-3eb3-4ba7-b83f-01ff3a81bf02')}
2024-10-22 21:54:50,421 - INFO - COMMIT
2024-10-22 21:54:50,423 - INFO - Successfully deleted employee with ID 95608c44-3eb3-4ba7-b83f-01ff3a81bf02
2024-10-22 21:55:00,008 - INFO - Email notification sent for deleted employee ID: 95608c44-3eb3-4ba7-b83f-01ff3a81bf02
2024-10-22 21:55:00,011 - INFO - Closed delete employee API
2024-10-22 21:55:00,013 - INFO - 127.0.0.1 - - [22/Oct/2024 21:55:00] "DELETE /delete-employee?id=95608c44-3eb3-4ba7-b83f-01ff3a81bf02&email=komalsaikiran05@gmail.com&otp=989061 HTTP/1.1" 200 -
2024-10-22 21:55:10,666 - INFO - BEGIN (implicit)
2024-10-22 21:55:10,667 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-22 21:55:10,668 - INFO - [cached since 20.27s ago] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-22 21:55:10,673 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-22 21:55:10,674 - INFO - Entered /delete-employee endpoint.
2024-10-22 21:55:10,674 - DEBUG - Query parameters received: id=95608c44-3eb3-4ba7-b83f-01ff3a81bf02, emp_num=None, emp_email=None, phone=None, email=None, otp=None
2024-10-22 21:55:10,674 - WARNING - Email and OTP must be provided for validation
2024-10-22 21:55:10,675 - INFO - ROLLBACK
2024-10-22 21:55:10,676 - INFO - Closed delete employee API
2024-10-22 21:55:10,676 - INFO - 127.0.0.1 - - [22/Oct/2024 21:55:10] "[31m[1mDELETE /delete-employee?id=95608c44-3eb3-4ba7-b83f-01ff3a81bf02 HTTP/1.1[0m" 400 -
2024-10-22 21:56:52,400 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_employees.py', reloading
2024-10-22 21:56:52,565 - INFO -  * Restarting with stat
2024-10-22 21:56:53,690 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-22 21:56:53,719 - WARNING -  * Debugger is active!
2024-10-22 21:56:53,724 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 21:56:56,700 - INFO - BEGIN (implicit)
2024-10-22 21:56:56,704 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-22 21:56:56,704 - INFO - [generated in 0.00032s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-22 21:56:56,709 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-22 21:56:56,709 - INFO - Entered /delete-employee endpoint.
2024-10-22 21:56:56,709 - DEBUG - Query parameters received: id=95608c44-3eb3-4ba7-b83f-01ff3a81bf02, emp_num=None, emp_email=None, phone=None
2024-10-22 21:56:56,713 - INFO - Filtering employee by ID: 95608c44-3eb3-4ba7-b83f-01ff3a81bf02
2024-10-22 21:56:56,719 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-22 21:56:56,719 - INFO - [generated in 0.00034s] {'id_1': '95608c44-3eb3-4ba7-b83f-01ff3a81bf02', 'param_1': 1}
2024-10-22 21:56:56,722 - WARNING - No employee found for provided identifiers
2024-10-22 21:56:56,722 - INFO - ROLLBACK
2024-10-22 21:56:56,723 - INFO - Closed delete employee API
2024-10-22 21:56:56,723 - INFO - 127.0.0.1 - - [22/Oct/2024 21:56:56] "[33mDELETE /delete-employee?id=95608c44-3eb3-4ba7-b83f-01ff3a81bf02 HTTP/1.1[0m" 404 -
2024-10-22 21:57:33,464 - INFO - Flask application has stopped.
2024-10-22 21:57:33,642 - INFO - Flask application has stopped.
2024-10-22 23:40:22,384 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-22 23:40:22,477 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-22 23:40:22,478 - INFO - [33mPress CTRL+C to quit[0m
2024-10-22 23:40:22,485 - INFO -  * Restarting with stat
2024-10-22 23:40:23,453 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-22 23:40:23,468 - WARNING -  * Debugger is active!
2024-10-22 23:40:23,479 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 23:40:31,301 - INFO - BEGIN (implicit)
2024-10-22 23:40:31,305 - INFO - INSERT INTO otp_store (email, otp, timestamp) VALUES (%(email)s, %(otp)s, %(timestamp)s) RETURNING otp_store.id
2024-10-22 23:40:31,305 - INFO - [generated in 0.00034s] {'email': 'komalsaikiran05@gmail.com', 'otp': '281184', 'timestamp': datetime.datetime(2024, 10, 22, 23, 40, 31, 211448)}
2024-10-22 23:40:31,315 - INFO - COMMIT
2024-10-22 23:40:31,317 - INFO - Generated OTP for komalsaikiran05@gmail.com: 281184
2024-10-22 23:40:34,513 - INFO - End of generate_otp function for email=komalsaikiran05@gmail.com
2024-10-22 23:40:34,516 - INFO - 127.0.0.1 - - [22/Oct/2024 23:40:34] "POST /generate-otp HTTP/1.1" 200 -
2024-10-22 23:40:56,700 - INFO - Flask application has stopped.
2024-10-22 23:40:56,820 - INFO - Flask application has stopped.
2024-10-22 23:43:41,015 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-22 23:43:41,054 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-22 23:43:41,054 - INFO - [33mPress CTRL+C to quit[0m
2024-10-22 23:43:41,056 - INFO -  * Restarting with stat
2024-10-22 23:43:41,817 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-22 23:43:41,832 - WARNING -  * Debugger is active!
2024-10-22 23:43:41,836 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 23:44:17,982 - INFO - BEGIN (implicit)
2024-10-22 23:44:17,991 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-22 23:44:17,991 - INFO - [generated in 0.00059s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-22 23:44:17,998 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-22 23:44:17,998 - INFO - Entered /add-heavy-product endpoint. Request method: POST
2024-10-22 23:44:17,999 - INFO - Extracting data from request.
2024-10-22 23:44:17,999 - DEBUG - Employee ID received: 06e4347e-4dfc-490a-a066-686942241770
2024-10-22 23:44:18,010 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-22 23:44:18,010 - INFO - [generated in 0.00034s] {'id_1': '06e4347e-4dfc-490a-a066-686942241770', 'param_1': 1}
2024-10-22 23:44:18,016 - INFO - Found employee: kiran kumar (ID: 06e4347e-4dfc-490a-a066-686942241770)
2024-10-22 23:44:18,017 - ERROR - Error adding new heavy product: When initializing mapper Mapper[HeavyProduct(heavy_products)], expression 'Employee' failed to locate a name ('Employee'). If this is a class name, consider adding this relationship() to the <class 'User_models.products_table.HeavyProduct'> class after both dependent classes have been defined.
2024-10-22 23:44:18,017 - INFO - ROLLBACK
2024-10-22 23:44:18,018 - INFO - Database session closed.
2024-10-22 23:44:18,018 - INFO - 127.0.0.1 - - [22/Oct/2024 23:44:18] "[35m[1mPOST /add-heavy-product HTTP/1.1[0m" 500 -
2024-10-22 23:50:47,971 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\employees_table.py', reloading
2024-10-22 23:50:48,089 - INFO -  * Restarting with stat
2024-10-22 23:50:48,933 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-22 23:50:48,956 - WARNING -  * Debugger is active!
2024-10-22 23:50:48,960 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 23:51:12,391 - INFO - Flask application has stopped.
2024-10-22 23:51:12,500 - INFO - Flask application has stopped.
2024-10-22 23:51:18,669 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-22 23:51:18,715 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-22 23:51:18,716 - INFO - [33mPress CTRL+C to quit[0m
2024-10-22 23:51:18,717 - INFO -  * Restarting with stat
2024-10-22 23:51:19,495 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-22 23:51:19,510 - WARNING -  * Debugger is active!
2024-10-22 23:51:19,513 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 23:51:23,599 - INFO - BEGIN (implicit)
2024-10-22 23:51:23,600 - INFO - INSERT INTO otp_store (email, otp, timestamp) VALUES (%(email)s, %(otp)s, %(timestamp)s) RETURNING otp_store.id
2024-10-22 23:51:23,600 - INFO - [generated in 0.00019s] {'email': 'komalsaikiran05@gmail.com', 'otp': '148921', 'timestamp': datetime.datetime(2024, 10, 22, 23, 51, 23, 529578)}
2024-10-22 23:51:23,604 - INFO - COMMIT
2024-10-22 23:51:23,606 - INFO - Generated OTP for komalsaikiran05@gmail.com: 148921
2024-10-22 23:51:26,549 - INFO - End of generate_otp function for email=komalsaikiran05@gmail.com
2024-10-22 23:51:26,550 - INFO - 127.0.0.1 - - [22/Oct/2024 23:51:26] "POST /generate-otp HTTP/1.1" 200 -
2024-10-22 23:51:36,958 - INFO - 127.0.0.1 - - [22/Oct/2024 23:51:36] "[33mPOST /add-heavy-product HTTP/1.1[0m" 404 -
2024-10-22 23:51:41,627 - INFO - Flask application has stopped.
2024-10-22 23:51:41,739 - INFO - Flask application has stopped.
2024-10-22 23:51:46,024 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-22 23:51:46,057 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-22 23:51:46,057 - INFO - [33mPress CTRL+C to quit[0m
2024-10-22 23:51:46,060 - INFO -  * Restarting with stat
2024-10-22 23:51:46,898 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-22 23:51:46,914 - WARNING -  * Debugger is active!
2024-10-22 23:51:46,916 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 23:51:48,685 - INFO - BEGIN (implicit)
2024-10-22 23:51:48,687 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-22 23:51:48,687 - INFO - [generated in 0.00023s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-22 23:51:48,692 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-22 23:51:48,692 - INFO - Entered /add-heavy-product endpoint. Request method: POST
2024-10-22 23:51:48,692 - INFO - Extracting data from request.
2024-10-22 23:51:48,692 - DEBUG - Employee ID received: 06e4347e-4dfc-490a-a066-686942241770
2024-10-22 23:51:48,693 - ERROR - Error adding new heavy product: When initializing mapper Mapper[Employee(employee)], expression 'HeavyProduct' failed to locate a name ('HeavyProduct'). If this is a class name, consider adding this relationship() to the <class 'User_models.employees_table.Employee'> class after both dependent classes have been defined.
2024-10-22 23:51:48,693 - INFO - ROLLBACK
2024-10-22 23:51:48,693 - INFO - Database session closed.
2024-10-22 23:51:48,694 - INFO - 127.0.0.1 - - [22/Oct/2024 23:51:48] "[35m[1mPOST /add-heavy-product HTTP/1.1[0m" 500 -
2024-10-22 23:53:48,476 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\products_table.py', reloading
2024-10-22 23:53:48,622 - INFO -  * Restarting with stat
2024-10-22 23:53:49,682 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-22 23:53:49,700 - WARNING -  * Debugger is active!
2024-10-22 23:53:49,703 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 23:53:49,799 - INFO - BEGIN (implicit)
2024-10-22 23:53:49,801 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-22 23:53:49,801 - INFO - [generated in 0.00018s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-22 23:53:49,803 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-22 23:53:49,803 - INFO - Entered /add-heavy-product endpoint. Request method: POST
2024-10-22 23:53:49,803 - INFO - Extracting data from request.
2024-10-22 23:53:49,804 - DEBUG - Employee ID received: 06e4347e-4dfc-490a-a066-686942241770
2024-10-22 23:53:49,804 - ERROR - Error adding new heavy product: When initializing mapper Mapper[Employee(employee)], expression 'heavy_products' failed to locate a name ('heavy_products'). If this is a class name, consider adding this relationship() to the <class 'User_models.employees_table.Employee'> class after both dependent classes have been defined.
2024-10-22 23:53:49,804 - INFO - ROLLBACK
2024-10-22 23:53:49,805 - INFO - Database session closed.
2024-10-22 23:53:49,805 - INFO - 127.0.0.1 - - [22/Oct/2024 23:53:49] "[35m[1mPOST /add-heavy-product HTTP/1.1[0m" 500 -
2024-10-22 23:55:03,666 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\products_table.py', reloading
2024-10-22 23:55:03,770 - INFO -  * Restarting with stat
2024-10-22 23:55:04,573 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-22 23:55:04,590 - WARNING -  * Debugger is active!
2024-10-22 23:55:04,593 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 23:55:24,378 - INFO - BEGIN (implicit)
2024-10-22 23:55:24,382 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-22 23:55:24,382 - INFO - [generated in 0.00019s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-22 23:55:24,385 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-22 23:55:24,385 - INFO - Entered /add-heavy-product endpoint. Request method: POST
2024-10-22 23:55:24,385 - INFO - Extracting data from request.
2024-10-22 23:55:24,385 - DEBUG - Employee ID received: 06e4347e-4dfc-490a-a066-686942241770
2024-10-22 23:55:24,386 - ERROR - Error adding new heavy product: When initializing mapper Mapper[Employee(employee)], expression 'HeavyProduct' failed to locate a name ('HeavyProduct'). If this is a class name, consider adding this relationship() to the <class 'User_models.employees_table.Employee'> class after both dependent classes have been defined.
2024-10-22 23:55:24,386 - INFO - ROLLBACK
2024-10-22 23:55:24,386 - INFO - Database session closed.
2024-10-22 23:55:24,386 - INFO - 127.0.0.1 - - [22/Oct/2024 23:55:24] "[35m[1mPOST /add-heavy-product HTTP/1.1[0m" 500 -
2024-10-22 23:57:22,496 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\employees_table.py', reloading
2024-10-22 23:57:22,694 - INFO -  * Restarting with stat
2024-10-22 23:57:23,605 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-22 23:57:23,624 - WARNING -  * Debugger is active!
2024-10-22 23:57:23,628 - INFO -  * Debugger PIN: 381-796-864
2024-10-22 23:58:16,044 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\products_table.py', reloading
2024-10-22 23:58:16,235 - INFO -  * Restarting with stat
2024-10-22 23:58:17,148 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-22 23:58:17,166 - WARNING -  * Debugger is active!
2024-10-22 23:58:17,169 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 00:02:10,252 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\tables.py', reloading
2024-10-23 00:02:10,454 - INFO -  * Restarting with stat
2024-10-23 00:07:23,942 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 00:07:23,975 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-23 00:07:23,975 - INFO - [33mPress CTRL+C to quit[0m
2024-10-23 00:07:23,977 - INFO -  * Restarting with stat
2024-10-23 00:07:24,779 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 00:07:24,793 - WARNING -  * Debugger is active!
2024-10-23 00:07:24,796 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 00:07:25,047 - INFO - Flask application has stopped.
2024-10-23 00:07:25,161 - INFO - Flask application has stopped.
2024-10-23 00:07:50,899 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-23 00:07:50,930 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-23 00:07:50,930 - INFO - [33mPress CTRL+C to quit[0m
2024-10-23 00:07:50,931 - INFO -  * Restarting with stat
2024-10-23 00:07:51,826 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-23 00:07:51,846 - WARNING -  * Debugger is active!
2024-10-23 00:07:51,849 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 00:07:59,373 - INFO - BEGIN (implicit)
2024-10-23 00:07:59,375 - INFO - INSERT INTO otp_store (email, otp, timestamp) VALUES (%(email)s, %(otp)s, %(timestamp)s) RETURNING otp_store.id
2024-10-23 00:07:59,375 - INFO - [generated in 0.00042s] {'email': 'komalsaikiran05@gmail.com', 'otp': '686522', 'timestamp': datetime.datetime(2024, 10, 23, 0, 7, 59, 271910)}
2024-10-23 00:07:59,380 - INFO - COMMIT
2024-10-23 00:07:59,381 - INFO - Generated OTP for komalsaikiran05@gmail.com: 686522
2024-10-23 00:08:02,662 - INFO - End of generate_otp function for email=komalsaikiran05@gmail.com
2024-10-23 00:08:02,663 - INFO - 127.0.0.1 - - [23/Oct/2024 00:08:02] "POST /generate-otp HTTP/1.1" 200 -
2024-10-23 00:08:13,981 - INFO - Flask application has stopped.
2024-10-23 00:08:14,102 - INFO - Flask application has stopped.
2024-10-23 00:08:17,794 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 00:08:17,827 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-23 00:08:17,827 - INFO - [33mPress CTRL+C to quit[0m
2024-10-23 00:08:17,828 - INFO -  * Restarting with stat
2024-10-23 00:08:18,826 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 00:08:18,842 - WARNING -  * Debugger is active!
2024-10-23 00:08:18,845 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 00:08:21,034 - INFO - BEGIN (implicit)
2024-10-23 00:08:21,036 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 00:08:21,037 - INFO - [generated in 0.00024s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 00:08:21,039 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 00:08:21,039 - INFO - Entered /add-heavy-product endpoint. Request method: POST
2024-10-23 00:08:21,040 - INFO - Extracting data from request.
2024-10-23 00:08:21,040 - DEBUG - Employee ID received: 06e4347e-4dfc-490a-a066-686942241770
2024-10-23 00:08:21,045 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-23 00:08:21,045 - INFO - [generated in 0.00037s] {'id_1': '06e4347e-4dfc-490a-a066-686942241770', 'param_1': 1}
2024-10-23 00:08:21,048 - INFO - Found employee: kiran kumar (ID: 06e4347e-4dfc-490a-a066-686942241770)
2024-10-23 00:08:21,049 - ERROR - Error adding new heavy product: 'employee_name' is an invalid keyword argument for HeavyProduct
2024-10-23 00:08:21,049 - INFO - ROLLBACK
2024-10-23 00:08:21,049 - INFO - Database session closed.
2024-10-23 00:08:21,050 - INFO - 127.0.0.1 - - [23/Oct/2024 00:08:21] "[35m[1mPOST /add-heavy-product HTTP/1.1[0m" 500 -
2024-10-23 00:11:06,963 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_products.py', reloading
2024-10-23 00:11:07,184 - INFO -  * Restarting with stat
2024-10-23 00:11:08,273 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 00:11:08,304 - WARNING -  * Debugger is active!
2024-10-23 00:11:08,308 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 00:11:08,683 - INFO - BEGIN (implicit)
2024-10-23 00:11:08,686 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 00:11:08,686 - INFO - [generated in 0.00021s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 00:11:08,688 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 00:11:08,688 - INFO - Entered /add-heavy-product endpoint. Request method: POST
2024-10-23 00:11:08,688 - INFO - Extracting data from request.
2024-10-23 00:11:08,689 - DEBUG - Employee ID received: 06e4347e-4dfc-490a-a066-686942241770
2024-10-23 00:11:08,691 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-23 00:11:08,692 - INFO - [generated in 0.00049s] {'id_1': '06e4347e-4dfc-490a-a066-686942241770', 'param_1': 1}
2024-10-23 00:11:08,695 - INFO - Found employee: kiran kumar (ID: 06e4347e-4dfc-490a-a066-686942241770)
2024-10-23 00:11:08,695 - INFO - New HeavyProduct instance created.
2024-10-23 00:11:08,696 - INFO - INSERT INTO heavy_products (id, name, type, brand, model, year_of_manufacture, price, weight, dimensions, engine_type, horsepower, fuel_capacity, operational_hours, warranty_period, status, description, image_url, employee_id) VALUES (uuid_generate_v4(), %(name)s, %(type)s, %(brand)s, %(model)s, %(year_of_manufacture)s, %(price)s, %(weight)s, %(dimensions)s, %(engine_type)s, %(horsepower)s, %(fuel_capacity)s, %(operational_hours)s, %(warranty_period)s, %(status)s, %(description)s, %(image_url)s, %(employee_id)s::UUID) RETURNING heavy_products.id, heavy_products.created_at, heavy_products.updated_at
2024-10-23 00:11:08,696 - INFO - [generated in 0.00030s] {'name': 'CAT 320D', 'type': 'Excavator', 'brand': 'Caterpillar', 'model': '320D', 'year_of_manufacture': 2019, 'price': 85000.0, 'weight': 24000.0, 'dimensions': '9.2m x 2.8m x 3.0m', 'engine_type': 'Diesel', 'horsepower': 150, 'fuel_capacity': 300.0, 'operational_hours': 1500, 'warranty_period': 24, 'status': 'Available', 'description': 'A reliable excavator for heavy-duty tasks.', 'image_url': 'http://example.com/images/cat_320d.jpg', 'employee_id': UUID('06e4347e-4dfc-490a-a066-686942241770')}
2024-10-23 00:11:08,734 - INFO - ROLLBACK
2024-10-23 00:11:08,735 - ERROR - Error adding new heavy product: (psycopg2.errors.NotNullViolation) null value in column "employee_name" of relation "heavy_products" violates not-null constraint
DETAIL:  Failing row contains (e3caaa0b-d365-4d50-8a29-38ed037e6258, CAT 320D, Excavator, Caterpillar, 320D, 2019, 85000.00, 24000.00, 9.2m x 2.8m x 3.0m, Diesel, 150.00, 300.00, 1500, 24, Available, 2024-10-23 00:11:08.686604, 2024-10-23 00:11:08.686604, A reliable excavator for heavy-duty tasks., http://example.com/images/cat_320d.jpg, 06e4347e-4dfc-490a-a066-686942241770, null, null).

[SQL: INSERT INTO heavy_products (id, name, type, brand, model, year_of_manufacture, price, weight, dimensions, engine_type, horsepower, fuel_capacity, operational_hours, warranty_period, status, description, image_url, employee_id) VALUES (uuid_generate_v4(), %(name)s, %(type)s, %(brand)s, %(model)s, %(year_of_manufacture)s, %(price)s, %(weight)s, %(dimensions)s, %(engine_type)s, %(horsepower)s, %(fuel_capacity)s, %(operational_hours)s, %(warranty_period)s, %(status)s, %(description)s, %(image_url)s, %(employee_id)s::UUID) RETURNING heavy_products.id, heavy_products.created_at, heavy_products.updated_at]
[parameters: {'name': 'CAT 320D', 'type': 'Excavator', 'brand': 'Caterpillar', 'model': '320D', 'year_of_manufacture': 2019, 'price': 85000.0, 'weight': 24000.0, 'dimensions': '9.2m x 2.8m x 3.0m', 'engine_type': 'Diesel', 'horsepower': 150, 'fuel_capacity': 300.0, 'operational_hours': 1500, 'warranty_period': 24, 'status': 'Available', 'description': 'A reliable excavator for heavy-duty tasks.', 'image_url': 'http://example.com/images/cat_320d.jpg', 'employee_id': UUID('06e4347e-4dfc-490a-a066-686942241770')}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-10-23 00:11:08,735 - INFO - Database session closed.
2024-10-23 00:11:08,735 - INFO - 127.0.0.1 - - [23/Oct/2024 00:11:08] "[35m[1mPOST /add-heavy-product HTTP/1.1[0m" 500 -
2024-10-23 00:12:53,135 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_products.py', reloading
2024-10-23 00:12:53,287 - INFO -  * Restarting with stat
2024-10-23 00:12:54,190 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 00:12:54,205 - WARNING -  * Debugger is active!
2024-10-23 00:12:54,208 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 00:15:31,966 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\tables.py', reloading
2024-10-23 00:15:32,163 - INFO -  * Restarting with stat
2024-10-23 00:15:33,031 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 00:15:33,047 - WARNING -  * Debugger is active!
2024-10-23 00:15:33,051 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 00:18:45,861 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\tables.py', reloading
2024-10-23 00:18:46,001 - INFO -  * Restarting with stat
2024-10-23 00:19:51,478 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-23 00:19:51,508 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-23 00:19:51,508 - INFO - [33mPress CTRL+C to quit[0m
2024-10-23 00:19:51,510 - INFO -  * Restarting with stat
2024-10-23 00:19:52,436 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-23 00:19:52,453 - WARNING -  * Debugger is active!
2024-10-23 00:19:52,456 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 00:19:54,618 - INFO - BEGIN (implicit)
2024-10-23 00:19:54,622 - INFO - INSERT INTO otp_store (email, otp, timestamp) VALUES (%(email)s, %(otp)s, %(timestamp)s) RETURNING otp_store.id
2024-10-23 00:19:54,622 - INFO - [generated in 0.00034s] {'email': 'komalsaikiran05@gmail.com', 'otp': '143812', 'timestamp': datetime.datetime(2024, 10, 23, 0, 19, 54, 401281)}
2024-10-23 00:19:54,626 - INFO - COMMIT
2024-10-23 00:19:54,628 - INFO - Generated OTP for komalsaikiran05@gmail.com: 143812
2024-10-23 00:19:58,360 - INFO - End of generate_otp function for email=komalsaikiran05@gmail.com
2024-10-23 00:19:58,361 - INFO - 127.0.0.1 - - [23/Oct/2024 00:19:58] "POST /generate-otp HTTP/1.1" 200 -
2024-10-23 00:20:11,747 - INFO - Flask application has stopped.
2024-10-23 00:20:11,878 - INFO - Flask application has stopped.
2024-10-23 00:20:15,875 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 00:20:15,903 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-23 00:20:15,904 - INFO - [33mPress CTRL+C to quit[0m
2024-10-23 00:20:15,906 - INFO -  * Restarting with stat
2024-10-23 00:20:16,999 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 00:20:17,020 - WARNING -  * Debugger is active!
2024-10-23 00:20:17,024 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 00:20:18,511 - INFO - BEGIN (implicit)
2024-10-23 00:20:18,514 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 00:20:18,515 - INFO - [generated in 0.00069s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 00:20:18,519 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 00:20:18,519 - INFO - Entered /add-heavy-product endpoint. Request method: POST
2024-10-23 00:20:18,519 - INFO - Extracting data from request.
2024-10-23 00:20:18,519 - DEBUG - Employee ID received: 06e4347e-4dfc-490a-a066-686942241770
2024-10-23 00:20:18,523 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-23 00:20:18,523 - INFO - [generated in 0.00033s] {'id_1': '06e4347e-4dfc-490a-a066-686942241770', 'param_1': 1}
2024-10-23 00:20:18,526 - INFO - Found employee: kiran kumar (ID: 06e4347e-4dfc-490a-a066-686942241770)
2024-10-23 00:20:18,526 - ERROR - Error adding new heavy product: 'employee_name' is an invalid keyword argument for HeavyProduct
2024-10-23 00:20:18,526 - INFO - ROLLBACK
2024-10-23 00:20:18,528 - INFO - Database session closed.
2024-10-23 00:20:18,528 - INFO - 127.0.0.1 - - [23/Oct/2024 00:20:18] "[35m[1mPOST /add-heavy-product HTTP/1.1[0m" 500 -
2024-10-23 00:20:53,437 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_products.py', reloading
2024-10-23 00:20:53,578 - INFO -  * Restarting with stat
2024-10-23 00:20:54,612 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 00:20:54,637 - WARNING -  * Debugger is active!
2024-10-23 00:20:54,640 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 00:20:54,792 - INFO - BEGIN (implicit)
2024-10-23 00:20:54,797 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 00:20:54,797 - INFO - [generated in 0.00047s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 00:20:54,804 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 00:20:54,804 - INFO - Entered /add-heavy-product endpoint. Request method: POST
2024-10-23 00:20:54,804 - INFO - Extracting data from request.
2024-10-23 00:20:54,804 - DEBUG - Employee ID received: 06e4347e-4dfc-490a-a066-686942241770
2024-10-23 00:20:54,813 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-23 00:20:54,814 - INFO - [generated in 0.00092s] {'id_1': '06e4347e-4dfc-490a-a066-686942241770', 'param_1': 1}
2024-10-23 00:20:54,820 - INFO - Found employee: kiran kumar (ID: 06e4347e-4dfc-490a-a066-686942241770)
2024-10-23 00:20:54,821 - INFO - New HeavyProduct instance created.
2024-10-23 00:20:54,825 - INFO - INSERT INTO heavy_products (id, name, type, brand, model, year_of_manufacture, price, weight, dimensions, engine_type, horsepower, fuel_capacity, operational_hours, warranty_period, status, description, image_url, employee_id) VALUES (uuid_generate_v4(), %(name)s, %(type)s, %(brand)s, %(model)s, %(year_of_manufacture)s, %(price)s, %(weight)s, %(dimensions)s, %(engine_type)s, %(horsepower)s, %(fuel_capacity)s, %(operational_hours)s, %(warranty_period)s, %(status)s, %(description)s, %(image_url)s, %(employee_id)s::UUID) RETURNING heavy_products.id, heavy_products.created_at, heavy_products.updated_at
2024-10-23 00:20:54,826 - INFO - [generated in 0.00171s] {'name': 'CAT 320D', 'type': 'Excavator', 'brand': 'Caterpillar', 'model': '320D', 'year_of_manufacture': 2019, 'price': 85000.0, 'weight': 24000.0, 'dimensions': '9.2m x 2.8m x 3.0m', 'engine_type': 'Diesel', 'horsepower': 150, 'fuel_capacity': 300.0, 'operational_hours': 1500, 'warranty_period': 24, 'status': 'Available', 'description': 'A reliable excavator for heavy-duty tasks.', 'image_url': 'http://example.com/images/cat_320d.jpg', 'employee_id': UUID('06e4347e-4dfc-490a-a066-686942241770')}
2024-10-23 00:20:54,856 - INFO - ROLLBACK
2024-10-23 00:20:54,856 - ERROR - Error adding new heavy product: (psycopg2.errors.NotNullViolation) null value in column "employee_name" of relation "heavy_products" violates not-null constraint
DETAIL:  Failing row contains (7e95438a-e460-4e7a-8d9b-97f669c09903, CAT 320D, Excavator, Caterpillar, 320D, 2019, 85000.00, 24000.00, 9.2m x 2.8m x 3.0m, Diesel, 150.00, 300.00, 1500, 24, Available, 2024-10-23 00:20:54.798569, 2024-10-23 00:20:54.798569, A reliable excavator for heavy-duty tasks., http://example.com/images/cat_320d.jpg, 06e4347e-4dfc-490a-a066-686942241770, null, null).

[SQL: INSERT INTO heavy_products (id, name, type, brand, model, year_of_manufacture, price, weight, dimensions, engine_type, horsepower, fuel_capacity, operational_hours, warranty_period, status, description, image_url, employee_id) VALUES (uuid_generate_v4(), %(name)s, %(type)s, %(brand)s, %(model)s, %(year_of_manufacture)s, %(price)s, %(weight)s, %(dimensions)s, %(engine_type)s, %(horsepower)s, %(fuel_capacity)s, %(operational_hours)s, %(warranty_period)s, %(status)s, %(description)s, %(image_url)s, %(employee_id)s::UUID) RETURNING heavy_products.id, heavy_products.created_at, heavy_products.updated_at]
[parameters: {'name': 'CAT 320D', 'type': 'Excavator', 'brand': 'Caterpillar', 'model': '320D', 'year_of_manufacture': 2019, 'price': 85000.0, 'weight': 24000.0, 'dimensions': '9.2m x 2.8m x 3.0m', 'engine_type': 'Diesel', 'horsepower': 150, 'fuel_capacity': 300.0, 'operational_hours': 1500, 'warranty_period': 24, 'status': 'Available', 'description': 'A reliable excavator for heavy-duty tasks.', 'image_url': 'http://example.com/images/cat_320d.jpg', 'employee_id': UUID('06e4347e-4dfc-490a-a066-686942241770')}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-10-23 00:20:54,857 - INFO - Database session closed.
2024-10-23 00:20:54,858 - INFO - 127.0.0.1 - - [23/Oct/2024 00:20:54] "[35m[1mPOST /add-heavy-product HTTP/1.1[0m" 500 -
2024-10-23 00:22:25,904 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_products.py', reloading
2024-10-23 00:22:26,130 - INFO -  * Restarting with stat
2024-10-23 00:22:26,977 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 00:22:26,992 - WARNING -  * Debugger is active!
2024-10-23 00:22:26,995 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 00:22:32,031 - INFO - BEGIN (implicit)
2024-10-23 00:22:32,034 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 00:22:32,034 - INFO - [generated in 0.00021s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 00:22:32,037 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 00:22:32,037 - INFO - Entered /add-heavy-product endpoint. Request method: POST
2024-10-23 00:22:32,037 - INFO - Extracting data from request.
2024-10-23 00:22:32,037 - DEBUG - Employee ID received: 06e4347e-4dfc-490a-a066-686942241770
2024-10-23 00:22:32,040 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-23 00:22:32,040 - INFO - [generated in 0.00020s] {'id_1': '06e4347e-4dfc-490a-a066-686942241770', 'param_1': 1}
2024-10-23 00:22:32,042 - INFO - Found employee: kiran kumar (ID: 06e4347e-4dfc-490a-a066-686942241770)
2024-10-23 00:22:32,042 - ERROR - Error adding new heavy product: 'employee_name' is an invalid keyword argument for HeavyProduct
2024-10-23 00:22:32,042 - INFO - ROLLBACK
2024-10-23 00:22:32,043 - INFO - Database session closed.
2024-10-23 00:22:32,043 - INFO - 127.0.0.1 - - [23/Oct/2024 00:22:32] "[35m[1mPOST /add-heavy-product HTTP/1.1[0m" 500 -
2024-10-23 00:23:04,594 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\tables.py', reloading
2024-10-23 00:23:04,774 - INFO -  * Restarting with stat
2024-10-23 00:23:05,834 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 00:23:05,851 - WARNING -  * Debugger is active!
2024-10-23 00:23:05,854 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 00:24:28,184 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\tables.py', reloading
2024-10-23 00:24:28,294 - INFO -  * Restarting with stat
2024-10-23 00:24:29,092 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 00:24:29,109 - WARNING -  * Debugger is active!
2024-10-23 00:24:29,113 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 00:25:35,828 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\tables.py', reloading
2024-10-23 00:25:35,980 - INFO -  * Restarting with stat
2024-10-23 00:25:37,595 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 00:25:37,624 - WARNING -  * Debugger is active!
2024-10-23 00:25:37,629 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 00:25:37,789 - INFO - BEGIN (implicit)
2024-10-23 00:25:37,793 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 00:25:37,794 - INFO - [generated in 0.00079s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 00:25:37,801 - ERROR - OTP validation failed: OTP for komalsaikiran05@gmail.com has expired.
2024-10-23 00:25:37,801 - INFO - ROLLBACK
2024-10-23 00:25:37,802 - INFO - 127.0.0.1 - - [23/Oct/2024 00:25:37] "[31m[1mPOST /add-heavy-product HTTP/1.1[0m" 400 -
2024-10-23 00:25:44,612 - INFO - Flask application has stopped.
2024-10-23 00:25:44,728 - INFO - Flask application has stopped.
2024-10-23 00:25:49,074 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-23 00:25:49,110 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-23 00:25:49,110 - INFO - [33mPress CTRL+C to quit[0m
2024-10-23 00:25:49,112 - INFO -  * Restarting with stat
2024-10-23 00:25:50,685 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-23 00:25:50,713 - WARNING -  * Debugger is active!
2024-10-23 00:25:50,718 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 00:25:50,801 - INFO - 127.0.0.1 - - [23/Oct/2024 00:25:50] "[33mPOST /add-heavy-product HTTP/1.1[0m" 404 -
2024-10-23 00:25:54,574 - INFO - 127.0.0.1 - - [23/Oct/2024 00:25:54] "[33mPOST /add-heavy-product HTTP/1.1[0m" 404 -
2024-10-23 00:25:59,156 - INFO - BEGIN (implicit)
2024-10-23 00:25:59,158 - INFO - INSERT INTO otp_store (email, otp, timestamp) VALUES (%(email)s, %(otp)s, %(timestamp)s) RETURNING otp_store.id
2024-10-23 00:25:59,158 - INFO - [generated in 0.00020s] {'email': 'komalsaikiran05@gmail.com', 'otp': '895172', 'timestamp': datetime.datetime(2024, 10, 23, 0, 25, 59, 65104)}
2024-10-23 00:25:59,161 - INFO - COMMIT
2024-10-23 00:25:59,163 - INFO - Generated OTP for komalsaikiran05@gmail.com: 895172
2024-10-23 00:26:02,025 - INFO - End of generate_otp function for email=komalsaikiran05@gmail.com
2024-10-23 00:26:02,026 - INFO - 127.0.0.1 - - [23/Oct/2024 00:26:02] "POST /generate-otp HTTP/1.1" 200 -
2024-10-23 00:26:12,580 - INFO - Flask application has stopped.
2024-10-23 00:26:12,695 - INFO - Flask application has stopped.
2024-10-23 00:26:17,341 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 00:26:17,374 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-23 00:26:17,374 - INFO - [33mPress CTRL+C to quit[0m
2024-10-23 00:26:17,376 - INFO -  * Restarting with stat
2024-10-23 00:26:18,413 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 00:26:18,433 - WARNING -  * Debugger is active!
2024-10-23 00:26:18,436 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 00:26:21,170 - INFO - BEGIN (implicit)
2024-10-23 00:26:21,173 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 00:26:21,173 - INFO - [generated in 0.00027s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 00:26:21,180 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 00:26:21,180 - INFO - Entered /add-heavy-product endpoint. Request method: POST
2024-10-23 00:26:21,180 - INFO - Extracting data from request.
2024-10-23 00:26:21,180 - DEBUG - Employee ID received: 06e4347e-4dfc-490a-a066-686942241770
2024-10-23 00:26:21,184 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-23 00:26:21,184 - INFO - [generated in 0.00043s] {'id_1': '06e4347e-4dfc-490a-a066-686942241770', 'param_1': 1}
2024-10-23 00:26:21,189 - INFO - Found employee: kiran kumar (ID: 06e4347e-4dfc-490a-a066-686942241770)
2024-10-23 00:26:21,189 - INFO - New HeavyProduct instance created.
2024-10-23 00:26:21,192 - INFO - INSERT INTO heavy_products (id, name, type, brand, model, year_of_manufacture, price, weight, dimensions, engine_type, horsepower, fuel_capacity, operational_hours, warranty_period, status, description, image_url, employee_id, employee_name, employee_num) VALUES (uuid_generate_v4(), %(name)s, %(type)s, %(brand)s, %(model)s, %(year_of_manufacture)s, %(price)s, %(weight)s, %(dimensions)s, %(engine_type)s, %(horsepower)s, %(fuel_capacity)s, %(operational_hours)s, %(warranty_period)s, %(status)s, %(description)s, %(image_url)s, %(employee_id)s::UUID, %(employee_name)s, %(employee_num)s) RETURNING heavy_products.id, heavy_products.created_at, heavy_products.updated_at
2024-10-23 00:26:21,192 - INFO - [generated in 0.00032s] {'name': 'CAT 320D', 'type': 'Excavator', 'brand': 'Caterpillar', 'model': '320D', 'year_of_manufacture': 2019, 'price': 85000.0, 'weight': 24000.0, 'dimensions': '9.2m x 2.8m x 3.0m', 'engine_type': 'Diesel', 'horsepower': 150, 'fuel_capacity': 300.0, 'operational_hours': 1500, 'warranty_period': 24, 'status': 'Available', 'description': 'A reliable excavator for heavy-duty tasks.', 'image_url': 'http://example.com/images/cat_320d.jpg', 'employee_id': UUID('06e4347e-4dfc-490a-a066-686942241770'), 'employee_name': 'kiran kumar', 'employee_num': None}
2024-10-23 00:26:21,206 - INFO - ROLLBACK
2024-10-23 00:26:21,206 - ERROR - Error adding new heavy product: (psycopg2.errors.NotNullViolation) null value in column "employee_num" of relation "heavy_products" violates not-null constraint
DETAIL:  Failing row contains (788eade2-d4bc-4e25-a65e-13493061f4c7, CAT 320D, Excavator, Caterpillar, 320D, 2019, 85000.00, 24000.00, 9.2m x 2.8m x 3.0m, Diesel, 150.00, 300.00, 1500, 24, Available, 2024-10-23 00:26:21.174487, 2024-10-23 00:26:21.174487, A reliable excavator for heavy-duty tasks., http://example.com/images/cat_320d.jpg, 06e4347e-4dfc-490a-a066-686942241770, kiran kumar, null).

[SQL: INSERT INTO heavy_products (id, name, type, brand, model, year_of_manufacture, price, weight, dimensions, engine_type, horsepower, fuel_capacity, operational_hours, warranty_period, status, description, image_url, employee_id, employee_name, employee_num) VALUES (uuid_generate_v4(), %(name)s, %(type)s, %(brand)s, %(model)s, %(year_of_manufacture)s, %(price)s, %(weight)s, %(dimensions)s, %(engine_type)s, %(horsepower)s, %(fuel_capacity)s, %(operational_hours)s, %(warranty_period)s, %(status)s, %(description)s, %(image_url)s, %(employee_id)s::UUID, %(employee_name)s, %(employee_num)s) RETURNING heavy_products.id, heavy_products.created_at, heavy_products.updated_at]
[parameters: {'name': 'CAT 320D', 'type': 'Excavator', 'brand': 'Caterpillar', 'model': '320D', 'year_of_manufacture': 2019, 'price': 85000.0, 'weight': 24000.0, 'dimensions': '9.2m x 2.8m x 3.0m', 'engine_type': 'Diesel', 'horsepower': 150, 'fuel_capacity': 300.0, 'operational_hours': 1500, 'warranty_period': 24, 'status': 'Available', 'description': 'A reliable excavator for heavy-duty tasks.', 'image_url': 'http://example.com/images/cat_320d.jpg', 'employee_id': UUID('06e4347e-4dfc-490a-a066-686942241770'), 'employee_name': 'kiran kumar', 'employee_num': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-10-23 00:26:21,207 - INFO - Database session closed.
2024-10-23 00:26:21,207 - INFO - 127.0.0.1 - - [23/Oct/2024 00:26:21] "[35m[1mPOST /add-heavy-product HTTP/1.1[0m" 500 -
2024-10-23 00:27:44,894 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_products.py', reloading
2024-10-23 00:27:45,104 - INFO -  * Restarting with stat
2024-10-23 00:27:45,922 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 00:27:45,939 - WARNING -  * Debugger is active!
2024-10-23 00:27:45,942 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 00:27:48,502 - INFO - BEGIN (implicit)
2024-10-23 00:27:48,505 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 00:27:48,505 - INFO - [generated in 0.00021s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 00:27:48,510 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 00:27:48,510 - INFO - Entered /add-heavy-product endpoint. Request method: POST
2024-10-23 00:27:48,510 - INFO - Extracting data from request.
2024-10-23 00:27:48,510 - DEBUG - Employee ID received: 06e4347e-4dfc-490a-a066-686942241770
2024-10-23 00:27:48,516 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-23 00:27:48,517 - INFO - [generated in 0.00077s] {'id_1': '06e4347e-4dfc-490a-a066-686942241770', 'param_1': 1}
2024-10-23 00:27:48,520 - INFO - Found employee: kiran kumar (ID: 06e4347e-4dfc-490a-a066-686942241770)
2024-10-23 00:27:48,520 - INFO - New HeavyProduct instance created.
2024-10-23 00:27:48,523 - INFO - INSERT INTO heavy_products (id, name, type, brand, model, year_of_manufacture, price, weight, dimensions, engine_type, horsepower, fuel_capacity, operational_hours, warranty_period, status, description, image_url, employee_id, employee_name, employee_num) VALUES (uuid_generate_v4(), %(name)s, %(type)s, %(brand)s, %(model)s, %(year_of_manufacture)s, %(price)s, %(weight)s, %(dimensions)s, %(engine_type)s, %(horsepower)s, %(fuel_capacity)s, %(operational_hours)s, %(warranty_period)s, %(status)s, %(description)s, %(image_url)s, %(employee_id)s::UUID, %(employee_name)s, %(employee_num)s) RETURNING heavy_products.id, heavy_products.created_at, heavy_products.updated_at
2024-10-23 00:27:48,523 - INFO - [generated in 0.00024s] {'name': 'CAT 320D', 'type': 'Excavator', 'brand': 'Caterpillar', 'model': '320D', 'year_of_manufacture': 2019, 'price': 85000.0, 'weight': 24000.0, 'dimensions': '9.2m x 2.8m x 3.0m', 'engine_type': 'Diesel', 'horsepower': 150, 'fuel_capacity': 300.0, 'operational_hours': 1500, 'warranty_period': 24, 'status': 'Available', 'description': 'A reliable excavator for heavy-duty tasks.', 'image_url': 'http://example.com/images/cat_320d.jpg', 'employee_id': UUID('06e4347e-4dfc-490a-a066-686942241770'), 'employee_name': 'kiran kumar', 'employee_num': None}
2024-10-23 00:27:48,539 - INFO - ROLLBACK
2024-10-23 00:27:48,540 - ERROR - Error adding new heavy product: (psycopg2.errors.NotNullViolation) null value in column "employee_num" of relation "heavy_products" violates not-null constraint
DETAIL:  Failing row contains (75ff9a0b-243c-4261-841f-66fb230c5bab, CAT 320D, Excavator, Caterpillar, 320D, 2019, 85000.00, 24000.00, 9.2m x 2.8m x 3.0m, Diesel, 150.00, 300.00, 1500, 24, Available, 2024-10-23 00:27:48.506691, 2024-10-23 00:27:48.506691, A reliable excavator for heavy-duty tasks., http://example.com/images/cat_320d.jpg, 06e4347e-4dfc-490a-a066-686942241770, kiran kumar, null).

[SQL: INSERT INTO heavy_products (id, name, type, brand, model, year_of_manufacture, price, weight, dimensions, engine_type, horsepower, fuel_capacity, operational_hours, warranty_period, status, description, image_url, employee_id, employee_name, employee_num) VALUES (uuid_generate_v4(), %(name)s, %(type)s, %(brand)s, %(model)s, %(year_of_manufacture)s, %(price)s, %(weight)s, %(dimensions)s, %(engine_type)s, %(horsepower)s, %(fuel_capacity)s, %(operational_hours)s, %(warranty_period)s, %(status)s, %(description)s, %(image_url)s, %(employee_id)s::UUID, %(employee_name)s, %(employee_num)s) RETURNING heavy_products.id, heavy_products.created_at, heavy_products.updated_at]
[parameters: {'name': 'CAT 320D', 'type': 'Excavator', 'brand': 'Caterpillar', 'model': '320D', 'year_of_manufacture': 2019, 'price': 85000.0, 'weight': 24000.0, 'dimensions': '9.2m x 2.8m x 3.0m', 'engine_type': 'Diesel', 'horsepower': 150, 'fuel_capacity': 300.0, 'operational_hours': 1500, 'warranty_period': 24, 'status': 'Available', 'description': 'A reliable excavator for heavy-duty tasks.', 'image_url': 'http://example.com/images/cat_320d.jpg', 'employee_id': UUID('06e4347e-4dfc-490a-a066-686942241770'), 'employee_name': 'kiran kumar', 'employee_num': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-10-23 00:27:48,540 - INFO - Database session closed.
2024-10-23 00:27:48,541 - INFO - 127.0.0.1 - - [23/Oct/2024 00:27:48] "[35m[1mPOST /add-heavy-product HTTP/1.1[0m" 500 -
2024-10-23 00:28:35,760 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_products.py', reloading
2024-10-23 00:28:35,942 - INFO -  * Restarting with stat
2024-10-23 00:28:37,126 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 00:28:37,152 - WARNING -  * Debugger is active!
2024-10-23 00:28:37,156 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 00:28:37,272 - INFO - BEGIN (implicit)
2024-10-23 00:28:37,274 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 00:28:37,274 - INFO - [generated in 0.00024s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 00:28:37,279 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 00:28:37,279 - INFO - Entered /add-heavy-product endpoint. Request method: POST
2024-10-23 00:28:37,280 - INFO - Extracting data from request.
2024-10-23 00:28:37,280 - DEBUG - Employee ID received: 06e4347e-4dfc-490a-a066-686942241770
2024-10-23 00:28:37,282 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-23 00:28:37,283 - INFO - [generated in 0.00035s] {'id_1': '06e4347e-4dfc-490a-a066-686942241770', 'param_1': 1}
2024-10-23 00:28:37,285 - INFO - Found employee: kiran kumar (ID: 06e4347e-4dfc-490a-a066-686942241770)
2024-10-23 00:28:37,286 - INFO - New HeavyProduct instance created.
2024-10-23 00:28:37,288 - INFO - INSERT INTO heavy_products (id, name, type, brand, model, year_of_manufacture, price, weight, dimensions, engine_type, horsepower, fuel_capacity, operational_hours, warranty_period, status, description, image_url, employee_id, employee_name, employee_num) VALUES (uuid_generate_v4(), %(name)s, %(type)s, %(brand)s, %(model)s, %(year_of_manufacture)s, %(price)s, %(weight)s, %(dimensions)s, %(engine_type)s, %(horsepower)s, %(fuel_capacity)s, %(operational_hours)s, %(warranty_period)s, %(status)s, %(description)s, %(image_url)s, %(employee_id)s::UUID, %(employee_name)s, %(employee_num)s) RETURNING heavy_products.id, heavy_products.created_at, heavy_products.updated_at
2024-10-23 00:28:37,288 - INFO - [generated in 0.00028s] {'name': 'CAT 320D', 'type': 'Excavator', 'brand': 'Caterpillar', 'model': '320D', 'year_of_manufacture': 2019, 'price': 85000.0, 'weight': 24000.0, 'dimensions': '9.2m x 2.8m x 3.0m', 'engine_type': 'Diesel', 'horsepower': 150, 'fuel_capacity': 300.0, 'operational_hours': 1500, 'warranty_period': 24, 'status': 'Available', 'description': 'A reliable excavator for heavy-duty tasks.', 'image_url': 'http://example.com/images/cat_320d.jpg', 'employee_id': UUID('06e4347e-4dfc-490a-a066-686942241770'), 'employee_name': 'kiran kumar', 'employee_num': None}
2024-10-23 00:28:37,302 - INFO - ROLLBACK
2024-10-23 00:28:37,302 - ERROR - Error adding new heavy product: (psycopg2.errors.NotNullViolation) null value in column "employee_num" of relation "heavy_products" violates not-null constraint
DETAIL:  Failing row contains (ab4381ab-4929-4996-9a5d-ade4152649a4, CAT 320D, Excavator, Caterpillar, 320D, 2019, 85000.00, 24000.00, 9.2m x 2.8m x 3.0m, Diesel, 150.00, 300.00, 1500, 24, Available, 2024-10-23 00:28:37.275398, 2024-10-23 00:28:37.275398, A reliable excavator for heavy-duty tasks., http://example.com/images/cat_320d.jpg, 06e4347e-4dfc-490a-a066-686942241770, kiran kumar, null).

[SQL: INSERT INTO heavy_products (id, name, type, brand, model, year_of_manufacture, price, weight, dimensions, engine_type, horsepower, fuel_capacity, operational_hours, warranty_period, status, description, image_url, employee_id, employee_name, employee_num) VALUES (uuid_generate_v4(), %(name)s, %(type)s, %(brand)s, %(model)s, %(year_of_manufacture)s, %(price)s, %(weight)s, %(dimensions)s, %(engine_type)s, %(horsepower)s, %(fuel_capacity)s, %(operational_hours)s, %(warranty_period)s, %(status)s, %(description)s, %(image_url)s, %(employee_id)s::UUID, %(employee_name)s, %(employee_num)s) RETURNING heavy_products.id, heavy_products.created_at, heavy_products.updated_at]
[parameters: {'name': 'CAT 320D', 'type': 'Excavator', 'brand': 'Caterpillar', 'model': '320D', 'year_of_manufacture': 2019, 'price': 85000.0, 'weight': 24000.0, 'dimensions': '9.2m x 2.8m x 3.0m', 'engine_type': 'Diesel', 'horsepower': 150, 'fuel_capacity': 300.0, 'operational_hours': 1500, 'warranty_period': 24, 'status': 'Available', 'description': 'A reliable excavator for heavy-duty tasks.', 'image_url': 'http://example.com/images/cat_320d.jpg', 'employee_id': UUID('06e4347e-4dfc-490a-a066-686942241770'), 'employee_name': 'kiran kumar', 'employee_num': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-10-23 00:28:37,303 - INFO - Database session closed.
2024-10-23 00:28:37,304 - INFO - 127.0.0.1 - - [23/Oct/2024 00:28:37] "[35m[1mPOST /add-heavy-product HTTP/1.1[0m" 500 -
2024-10-23 00:30:47,668 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\constants.py', reloading
2024-10-23 00:30:47,863 - INFO -  * Restarting with stat
2024-10-23 00:30:49,028 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 00:30:49,063 - WARNING -  * Debugger is active!
2024-10-23 00:30:49,068 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 00:30:49,553 - INFO - BEGIN (implicit)
2024-10-23 00:30:49,556 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 00:30:49,556 - INFO - [generated in 0.00045s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 00:30:49,563 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 00:30:49,563 - INFO - Entered /add-heavy-product endpoint. Request method: POST
2024-10-23 00:30:49,563 - INFO - Extracting data from request.
2024-10-23 00:30:49,563 - ERROR - Missing required field: employee_num
2024-10-23 00:30:49,563 - INFO - ROLLBACK
2024-10-23 00:30:49,564 - INFO - Database session closed.
2024-10-23 00:30:49,564 - INFO - 127.0.0.1 - - [23/Oct/2024 00:30:49] "[31m[1mPOST /add-heavy-product HTTP/1.1[0m" 400 -
2024-10-23 00:32:17,267 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\constants.py', reloading
2024-10-23 00:32:17,435 - INFO -  * Restarting with stat
2024-10-23 00:32:18,589 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 00:32:18,612 - WARNING -  * Debugger is active!
2024-10-23 00:32:18,615 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 00:32:18,726 - INFO - BEGIN (implicit)
2024-10-23 00:32:18,729 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 00:32:18,729 - INFO - [generated in 0.00046s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 00:32:18,736 - ERROR - OTP validation failed: OTP for komalsaikiran05@gmail.com has expired.
2024-10-23 00:32:18,736 - INFO - ROLLBACK
2024-10-23 00:32:18,737 - INFO - 127.0.0.1 - - [23/Oct/2024 00:32:18] "[31m[1mPOST /add-heavy-product HTTP/1.1[0m" 400 -
2024-10-23 00:32:24,816 - INFO - Flask application has stopped.
2024-10-23 00:32:24,927 - INFO - Flask application has stopped.
2024-10-23 00:32:28,691 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-23 00:32:28,739 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-23 00:32:28,739 - INFO - [33mPress CTRL+C to quit[0m
2024-10-23 00:32:28,741 - INFO -  * Restarting with stat
2024-10-23 00:32:29,687 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-23 00:32:29,705 - WARNING -  * Debugger is active!
2024-10-23 00:32:29,708 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 00:32:33,122 - INFO - BEGIN (implicit)
2024-10-23 00:32:33,123 - INFO - INSERT INTO otp_store (email, otp, timestamp) VALUES (%(email)s, %(otp)s, %(timestamp)s) RETURNING otp_store.id
2024-10-23 00:32:33,123 - INFO - [generated in 0.00023s] {'email': 'komalsaikiran05@gmail.com', 'otp': '485063', 'timestamp': datetime.datetime(2024, 10, 23, 0, 32, 33, 29135)}
2024-10-23 00:32:33,130 - INFO - COMMIT
2024-10-23 00:32:33,131 - INFO - Generated OTP for komalsaikiran05@gmail.com: 485063
2024-10-23 00:32:36,211 - INFO - End of generate_otp function for email=komalsaikiran05@gmail.com
2024-10-23 00:32:36,212 - INFO - 127.0.0.1 - - [23/Oct/2024 00:32:36] "POST /generate-otp HTTP/1.1" 200 -
2024-10-23 00:32:43,278 - INFO - Flask application has stopped.
2024-10-23 00:32:43,416 - INFO - Flask application has stopped.
2024-10-23 00:32:48,343 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 00:32:48,376 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-23 00:32:48,376 - INFO - [33mPress CTRL+C to quit[0m
2024-10-23 00:32:48,378 - INFO -  * Restarting with stat
2024-10-23 00:32:49,394 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 00:32:49,414 - WARNING -  * Debugger is active!
2024-10-23 00:32:49,417 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 00:32:56,319 - INFO - BEGIN (implicit)
2024-10-23 00:32:56,322 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 00:32:56,322 - INFO - [generated in 0.00030s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 00:32:56,329 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 00:32:56,329 - INFO - Entered /add-heavy-product endpoint. Request method: POST
2024-10-23 00:32:56,330 - INFO - Extracting data from request.
2024-10-23 00:32:56,330 - DEBUG - Employee ID received: 06e4347e-4dfc-490a-a066-686942241770
2024-10-23 00:32:56,333 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-23 00:32:56,333 - INFO - [generated in 0.00027s] {'id_1': '06e4347e-4dfc-490a-a066-686942241770', 'param_1': 1}
2024-10-23 00:32:56,340 - INFO - Found employee: kiran kumar (ID: 06e4347e-4dfc-490a-a066-686942241770)
2024-10-23 00:32:56,340 - INFO - New HeavyProduct instance created.
2024-10-23 00:32:56,343 - INFO - INSERT INTO heavy_products (id, name, type, brand, model, year_of_manufacture, price, weight, dimensions, engine_type, horsepower, fuel_capacity, operational_hours, warranty_period, status, description, image_url, employee_id, employee_name, employee_num) VALUES (uuid_generate_v4(), %(name)s, %(type)s, %(brand)s, %(model)s, %(year_of_manufacture)s, %(price)s, %(weight)s, %(dimensions)s, %(engine_type)s, %(horsepower)s, %(fuel_capacity)s, %(operational_hours)s, %(warranty_period)s, %(status)s, %(description)s, %(image_url)s, %(employee_id)s::UUID, %(employee_name)s, %(employee_num)s) RETURNING heavy_products.id, heavy_products.created_at, heavy_products.updated_at
2024-10-23 00:32:56,343 - INFO - [generated in 0.00026s] {'name': 'CAT 320D', 'type': 'Excavator', 'brand': 'Caterpillar', 'model': '320D', 'year_of_manufacture': 2019, 'price': 85000.0, 'weight': 24000.0, 'dimensions': '9.2m x 2.8m x 3.0m', 'engine_type': 'Diesel', 'horsepower': 150, 'fuel_capacity': 300.0, 'operational_hours': 1500, 'warranty_period': 24, 'status': 'Available', 'description': 'A reliable excavator for heavy-duty tasks.', 'image_url': 'http://example.com/images/cat_320d.jpg', 'employee_id': UUID('06e4347e-4dfc-490a-a066-686942241770'), 'employee_name': 'kiran kumar', 'employee_num': 'EMP00123'}
2024-10-23 00:32:56,369 - INFO - ROLLBACK
2024-10-23 00:32:56,370 - ERROR - Error adding new heavy product: (psycopg2.errors.CheckViolation) new row for relation "heavy_products" violates check constraint "heavy_products_status_check"
DETAIL:  Failing row contains (efa04d87-64ad-4494-9d50-2e69f71faf78, CAT 320D, Excavator, Caterpillar, 320D, 2019, 85000.00, 24000.00, 9.2m x 2.8m x 3.0m, Diesel, 150.00, 300.00, 1500, 24, Available, 2024-10-23 00:32:56.322938, 2024-10-23 00:32:56.322938, A reliable excavator for heavy-duty tasks., http://example.com/images/cat_320d.jpg, 06e4347e-4dfc-490a-a066-686942241770, kiran kumar, EMP00123).

[SQL: INSERT INTO heavy_products (id, name, type, brand, model, year_of_manufacture, price, weight, dimensions, engine_type, horsepower, fuel_capacity, operational_hours, warranty_period, status, description, image_url, employee_id, employee_name, employee_num) VALUES (uuid_generate_v4(), %(name)s, %(type)s, %(brand)s, %(model)s, %(year_of_manufacture)s, %(price)s, %(weight)s, %(dimensions)s, %(engine_type)s, %(horsepower)s, %(fuel_capacity)s, %(operational_hours)s, %(warranty_period)s, %(status)s, %(description)s, %(image_url)s, %(employee_id)s::UUID, %(employee_name)s, %(employee_num)s) RETURNING heavy_products.id, heavy_products.created_at, heavy_products.updated_at]
[parameters: {'name': 'CAT 320D', 'type': 'Excavator', 'brand': 'Caterpillar', 'model': '320D', 'year_of_manufacture': 2019, 'price': 85000.0, 'weight': 24000.0, 'dimensions': '9.2m x 2.8m x 3.0m', 'engine_type': 'Diesel', 'horsepower': 150, 'fuel_capacity': 300.0, 'operational_hours': 1500, 'warranty_period': 24, 'status': 'Available', 'description': 'A reliable excavator for heavy-duty tasks.', 'image_url': 'http://example.com/images/cat_320d.jpg', 'employee_id': UUID('06e4347e-4dfc-490a-a066-686942241770'), 'employee_name': 'kiran kumar', 'employee_num': 'EMP00123'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-10-23 00:32:56,370 - INFO - Database session closed.
2024-10-23 00:32:56,371 - INFO - 127.0.0.1 - - [23/Oct/2024 00:32:56] "[35m[1mPOST /add-heavy-product HTTP/1.1[0m" 500 -
2024-10-23 00:36:59,232 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\constants.py', reloading
2024-10-23 00:36:59,351 - INFO -  * Restarting with stat
2024-10-23 00:37:42,124 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-23 00:37:42,170 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-23 00:37:42,170 - INFO - [33mPress CTRL+C to quit[0m
2024-10-23 00:37:42,172 - INFO -  * Restarting with stat
2024-10-23 00:37:43,511 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-23 00:37:43,528 - WARNING -  * Debugger is active!
2024-10-23 00:37:43,532 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 00:37:49,758 - INFO - BEGIN (implicit)
2024-10-23 00:37:49,759 - INFO - INSERT INTO otp_store (email, otp, timestamp) VALUES (%(email)s, %(otp)s, %(timestamp)s) RETURNING otp_store.id
2024-10-23 00:37:49,760 - INFO - [generated in 0.00023s] {'email': 'komalsaikiran05@gmail.com', 'otp': '721579', 'timestamp': datetime.datetime(2024, 10, 23, 0, 37, 49, 678164)}
2024-10-23 00:37:49,766 - INFO - COMMIT
2024-10-23 00:37:49,768 - INFO - Generated OTP for komalsaikiran05@gmail.com: 721579
2024-10-23 00:37:54,032 - INFO - End of generate_otp function for email=komalsaikiran05@gmail.com
2024-10-23 00:37:54,033 - INFO - 127.0.0.1 - - [23/Oct/2024 00:37:54] "POST /generate-otp HTTP/1.1" 200 -
2024-10-23 00:38:06,834 - INFO - Flask application has stopped.
2024-10-23 00:38:06,945 - INFO - Flask application has stopped.
2024-10-23 00:38:10,837 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 00:38:10,873 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-23 00:38:10,873 - INFO - [33mPress CTRL+C to quit[0m
2024-10-23 00:38:10,875 - INFO -  * Restarting with stat
2024-10-23 00:38:11,839 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 00:38:11,860 - WARNING -  * Debugger is active!
2024-10-23 00:38:11,864 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 00:38:13,574 - INFO - BEGIN (implicit)
2024-10-23 00:38:13,577 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 00:38:13,577 - INFO - [generated in 0.00031s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 00:38:13,587 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 00:38:13,587 - INFO - Entered /add-heavy-product endpoint. Request method: POST
2024-10-23 00:38:13,587 - INFO - Extracting data from request.
2024-10-23 00:38:13,587 - DEBUG - Employee ID received: 06e4347e-4dfc-490a-a066-686942241770
2024-10-23 00:38:13,591 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-23 00:38:13,591 - INFO - [generated in 0.00030s] {'id_1': '06e4347e-4dfc-490a-a066-686942241770', 'param_1': 1}
2024-10-23 00:38:13,593 - INFO - Found employee: kiran kumar (ID: 06e4347e-4dfc-490a-a066-686942241770)
2024-10-23 00:38:13,594 - INFO - New HeavyProduct instance created.
2024-10-23 00:38:13,597 - INFO - INSERT INTO heavy_products (id, name, type, brand, model, year_of_manufacture, price, weight, dimensions, engine_type, horsepower, fuel_capacity, operational_hours, warranty_period, status, description, image_url, employee_id, employee_name, employee_num) VALUES (uuid_generate_v4(), %(name)s, %(type)s, %(brand)s, %(model)s, %(year_of_manufacture)s, %(price)s, %(weight)s, %(dimensions)s, %(engine_type)s, %(horsepower)s, %(fuel_capacity)s, %(operational_hours)s, %(warranty_period)s, %(status)s, %(description)s, %(image_url)s, %(employee_id)s::UUID, %(employee_name)s, %(employee_num)s) RETURNING heavy_products.id, heavy_products.created_at, heavy_products.updated_at
2024-10-23 00:38:13,597 - INFO - [generated in 0.00037s] {'name': 'CAT 320D', 'type': 'Excavator', 'brand': 'Caterpillar', 'model': '320D', 'year_of_manufacture': 2019, 'price': 85000.0, 'weight': 24000.0, 'dimensions': '9.2m x 2.8m x 3.0m', 'engine_type': 'Diesel', 'horsepower': 150, 'fuel_capacity': 300.0, 'operational_hours': 1500, 'warranty_period': 24, 'status': 'Available', 'description': 'A reliable excavator for heavy-duty tasks.', 'image_url': 'http://example.com/images/cat_320d.jpg', 'employee_id': UUID('06e4347e-4dfc-490a-a066-686942241770'), 'employee_name': 'kiran kumar', 'employee_num': 'EMP00123'}
2024-10-23 00:38:13,613 - INFO - ROLLBACK
2024-10-23 00:38:13,613 - ERROR - Error adding new heavy product: (psycopg2.errors.CheckViolation) new row for relation "heavy_products" violates check constraint "heavy_products_status_check"
DETAIL:  Failing row contains (868d1ed2-1213-4b01-8218-8c60286effa0, CAT 320D, Excavator, Caterpillar, 320D, 2019, 85000.00, 24000.00, 9.2m x 2.8m x 3.0m, Diesel, 150.00, 300.00, 1500, 24, Available, 2024-10-23 00:38:13.578141, 2024-10-23 00:38:13.578141, A reliable excavator for heavy-duty tasks., http://example.com/images/cat_320d.jpg, 06e4347e-4dfc-490a-a066-686942241770, kiran kumar, EMP00123).

[SQL: INSERT INTO heavy_products (id, name, type, brand, model, year_of_manufacture, price, weight, dimensions, engine_type, horsepower, fuel_capacity, operational_hours, warranty_period, status, description, image_url, employee_id, employee_name, employee_num) VALUES (uuid_generate_v4(), %(name)s, %(type)s, %(brand)s, %(model)s, %(year_of_manufacture)s, %(price)s, %(weight)s, %(dimensions)s, %(engine_type)s, %(horsepower)s, %(fuel_capacity)s, %(operational_hours)s, %(warranty_period)s, %(status)s, %(description)s, %(image_url)s, %(employee_id)s::UUID, %(employee_name)s, %(employee_num)s) RETURNING heavy_products.id, heavy_products.created_at, heavy_products.updated_at]
[parameters: {'name': 'CAT 320D', 'type': 'Excavator', 'brand': 'Caterpillar', 'model': '320D', 'year_of_manufacture': 2019, 'price': 85000.0, 'weight': 24000.0, 'dimensions': '9.2m x 2.8m x 3.0m', 'engine_type': 'Diesel', 'horsepower': 150, 'fuel_capacity': 300.0, 'operational_hours': 1500, 'warranty_period': 24, 'status': 'Available', 'description': 'A reliable excavator for heavy-duty tasks.', 'image_url': 'http://example.com/images/cat_320d.jpg', 'employee_id': UUID('06e4347e-4dfc-490a-a066-686942241770'), 'employee_name': 'kiran kumar', 'employee_num': 'EMP00123'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-10-23 00:38:13,614 - INFO - Database session closed.
2024-10-23 00:38:13,614 - INFO - 127.0.0.1 - - [23/Oct/2024 00:38:13] "[35m[1mPOST /add-heavy-product HTTP/1.1[0m" 500 -
2024-10-23 00:47:49,883 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\tables.py', reloading
2024-10-23 00:47:50,148 - INFO -  * Restarting with stat
2024-10-23 00:47:51,026 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-23 00:47:51,065 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-23 00:47:51,065 - INFO - [33mPress CTRL+C to quit[0m
2024-10-23 00:47:51,066 - INFO -  * Restarting with stat
2024-10-23 00:47:51,183 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 00:47:51,205 - WARNING -  * Debugger is active!
2024-10-23 00:47:51,208 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 00:47:51,980 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-23 00:47:51,998 - WARNING -  * Debugger is active!
2024-10-23 00:47:52,001 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 00:47:56,077 - INFO - 127.0.0.1 - - [23/Oct/2024 00:47:56] "[33mPOST /generate-otp HTTP/1.1[0m" 404 -
2024-10-23 00:48:03,609 - INFO - Flask application has stopped.
2024-10-23 00:48:03,724 - INFO - Flask application has stopped.
2024-10-23 00:48:07,364 - INFO - BEGIN (implicit)
2024-10-23 00:48:07,366 - INFO - INSERT INTO otp_store (email, otp, timestamp) VALUES (%(email)s, %(otp)s, %(timestamp)s) RETURNING otp_store.id
2024-10-23 00:48:07,366 - INFO - [generated in 0.00022s] {'email': 'komalsaikiran05@gmail.com', 'otp': '220907', 'timestamp': datetime.datetime(2024, 10, 23, 0, 48, 7, 276114)}
2024-10-23 00:48:07,371 - INFO - COMMIT
2024-10-23 00:48:07,372 - INFO - Generated OTP for komalsaikiran05@gmail.com: 220907
2024-10-23 00:48:10,882 - INFO - End of generate_otp function for email=komalsaikiran05@gmail.com
2024-10-23 00:48:10,882 - INFO - 127.0.0.1 - - [23/Oct/2024 00:48:10] "POST /generate-otp HTTP/1.1" 200 -
2024-10-23 00:48:23,958 - INFO - 127.0.0.1 - - [23/Oct/2024 00:48:23] "[33mPOST /add-heavy-product HTTP/1.1[0m" 404 -
2024-10-23 00:48:27,914 - INFO - Flask application has stopped.
2024-10-23 00:48:28,047 - INFO - Flask application has stopped.
2024-10-23 00:48:33,015 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 00:48:33,048 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-23 00:48:33,048 - INFO - [33mPress CTRL+C to quit[0m
2024-10-23 00:48:33,049 - INFO -  * Restarting with stat
2024-10-23 00:48:34,111 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 00:48:34,158 - WARNING -  * Debugger is active!
2024-10-23 00:48:34,164 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 00:48:35,673 - INFO - BEGIN (implicit)
2024-10-23 00:48:35,675 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 00:48:35,675 - INFO - [generated in 0.00027s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 00:48:35,682 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 00:48:35,682 - INFO - Entered /add-heavy-product endpoint. Request method: POST
2024-10-23 00:48:35,682 - INFO - Extracting data from request.
2024-10-23 00:48:35,682 - DEBUG - Employee ID received: 06e4347e-4dfc-490a-a066-686942241770
2024-10-23 00:48:35,688 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-23 00:48:35,688 - INFO - [generated in 0.00054s] {'id_1': '06e4347e-4dfc-490a-a066-686942241770', 'param_1': 1}
2024-10-23 00:48:35,691 - INFO - Found employee: kiran kumar (ID: 06e4347e-4dfc-490a-a066-686942241770)
2024-10-23 00:48:35,691 - INFO - New HeavyProduct instance created.
2024-10-23 00:48:35,693 - INFO - INSERT INTO heavy_products (id, name, type, brand, model, year_of_manufacture, price, weight, dimensions, engine_type, horsepower, fuel_capacity, operational_hours, warranty_period, status, description, image_url, employee_id, employee_name, employee_num) VALUES (uuid_generate_v4(), %(name)s, %(type)s, %(brand)s, %(model)s, %(year_of_manufacture)s, %(price)s, %(weight)s, %(dimensions)s, %(engine_type)s, %(horsepower)s, %(fuel_capacity)s, %(operational_hours)s, %(warranty_period)s, %(status)s, %(description)s, %(image_url)s, %(employee_id)s::UUID, %(employee_name)s, %(employee_num)s) RETURNING heavy_products.id, heavy_products.created_at, heavy_products.updated_at
2024-10-23 00:48:35,693 - INFO - [generated in 0.00025s] {'name': 'CAT 320D', 'type': 'Excavator', 'brand': 'Caterpillar', 'model': '320D', 'year_of_manufacture': 2019, 'price': 85000.0, 'weight': 24000.0, 'dimensions': '9.2m x 2.8m x 3.0m', 'engine_type': 'Diesel', 'horsepower': 150, 'fuel_capacity': 300.0, 'operational_hours': 1500, 'warranty_period': 24, 'status': 'Available', 'description': 'A reliable excavator for heavy-duty tasks.', 'image_url': 'http://example.com/images/cat_320d.jpg', 'employee_id': UUID('06e4347e-4dfc-490a-a066-686942241770'), 'employee_name': 'kiran kumar', 'employee_num': 'EMP00123'}
2024-10-23 00:48:35,717 - INFO - COMMIT
2024-10-23 00:48:35,794 - INFO - BEGIN (implicit)
2024-10-23 00:48:35,797 - INFO - SELECT heavy_products.id AS heavy_products_id, heavy_products.name AS heavy_products_name, heavy_products.type AS heavy_products_type, heavy_products.brand AS heavy_products_brand, heavy_products.model AS heavy_products_model, heavy_products.year_of_manufacture AS heavy_products_year_of_manufacture, heavy_products.price AS heavy_products_price, heavy_products.weight AS heavy_products_weight, heavy_products.dimensions AS heavy_products_dimensions, heavy_products.engine_type AS heavy_products_engine_type, heavy_products.horsepower AS heavy_products_horsepower, heavy_products.fuel_capacity AS heavy_products_fuel_capacity, heavy_products.operational_hours AS heavy_products_operational_hours, heavy_products.warranty_period AS heavy_products_warranty_period, heavy_products.status AS heavy_products_status, heavy_products.description AS heavy_products_description, heavy_products.image_url AS heavy_products_image_url, heavy_products.created_at AS heavy_products_created_at, heavy_products.updated_at AS heavy_products_updated_at, heavy_products.employee_id AS heavy_products_employee_id, heavy_products.employee_name AS heavy_products_employee_name, heavy_products.employee_num AS heavy_products_employee_num 
FROM heavy_products 
WHERE heavy_products.id = %(pk_1)s::UUID
2024-10-23 00:48:35,798 - INFO - [generated in 0.00032s] {'pk_1': UUID('b35546fe-d56b-46ed-ad13-6811c103fa30')}
2024-10-23 00:48:35,802 - INFO - New heavy product added: CAT 320D (ID: b35546fe-d56b-46ed-ad13-6811c103fa30)
2024-10-23 00:48:35,806 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-23 00:48:35,806 - INFO - [generated in 0.00033s] {'pk_1': UUID('06e4347e-4dfc-490a-a066-686942241770')}
2024-10-23 00:48:35,808 - INFO - Email notification sent successfully with email subject: New Heavy Product Added and body: 
    Dear Admin,

    A new heavy product has been added to the inventory. Here are the details:

    **Product Details:**
    - **Product ID:** b35546fe-d56b-46ed-ad13-6811c103fa30
    - **Name:** CAT 320D
    - **Type:** Excavator
    - **Brand:** Caterpillar
    - **Model:** 320D
    - **Year of Manufacture:** 2019
    - **Price:** $85,000.00
    - **Weight:** 24000.00 kg
    - **Dimensions:** 9.2m x 2.8m x 3.0m
    - **Engine Type:** Diesel
    - **Horsepower:** 150.00
    - **Fuel Capacity:** 300.00 liters
    - **Operational Hours:** 1500
    - **Warranty Period:** 24 months
    - **Status:** Available
    - **Description:** A reliable excavator for heavy-duty tasks.
    - **Image URL:** http://example.com/images/cat_320d.jpg
    - **Created At:** 2024-10-23T00:48:35.676723
    - **Updated At:** 2024-10-23T00:48:35.676723

    **Employee Details:**
    - **Employee ID:** 06e4347e-4dfc-490a-a066-686942241770
    - **Name:** kiran kumar
    - **Employee Number:** EMP00123

    Please review the new product and update the inventory as necessary.

    Best Regards,
    Inventory Management System
    .
2024-10-23 00:48:35,808 - INFO - ROLLBACK
2024-10-23 00:48:35,809 - INFO - Database session closed.
2024-10-23 00:48:35,809 - INFO - 127.0.0.1 - - [23/Oct/2024 00:48:35] "[35m[1mPOST /add-heavy-product HTTP/1.1[0m" 201 -
2024-10-23 00:49:40,597 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_products.py', reloading
2024-10-23 00:49:40,804 - INFO -  * Restarting with stat
2024-10-23 00:49:41,788 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 00:49:41,806 - WARNING -  * Debugger is active!
2024-10-23 00:49:41,809 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 00:50:01,698 - INFO - BEGIN (implicit)
2024-10-23 00:50:01,701 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 00:50:01,701 - INFO - [generated in 0.00025s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 00:50:01,705 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 00:50:01,705 - INFO - Entered /add-heavy-product endpoint. Request method: POST
2024-10-23 00:50:01,705 - INFO - Extracting data from request.
2024-10-23 00:50:01,705 - DEBUG - Employee ID received: 06e4347e-4dfc-490a-a066-686942241770
2024-10-23 00:50:01,708 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-23 00:50:01,709 - INFO - [generated in 0.00021s] {'id_1': '06e4347e-4dfc-490a-a066-686942241770', 'param_1': 1}
2024-10-23 00:50:01,711 - INFO - Found employee: kiran kumar (ID: 06e4347e-4dfc-490a-a066-686942241770)
2024-10-23 00:50:01,711 - INFO - New HeavyProduct instance created.
2024-10-23 00:50:01,715 - INFO - INSERT INTO heavy_products (id, name, type, brand, model, year_of_manufacture, price, weight, dimensions, engine_type, horsepower, fuel_capacity, operational_hours, warranty_period, status, description, image_url, employee_id, employee_name, employee_num) VALUES (uuid_generate_v4(), %(name)s, %(type)s, %(brand)s, %(model)s, %(year_of_manufacture)s, %(price)s, %(weight)s, %(dimensions)s, %(engine_type)s, %(horsepower)s, %(fuel_capacity)s, %(operational_hours)s, %(warranty_period)s, %(status)s, %(description)s, %(image_url)s, %(employee_id)s::UUID, %(employee_name)s, %(employee_num)s) RETURNING heavy_products.id, heavy_products.created_at, heavy_products.updated_at
2024-10-23 00:50:01,715 - INFO - [generated in 0.00030s] {'name': 'CAT 320D', 'type': 'Excavator', 'brand': 'Caterpillar', 'model': '320D', 'year_of_manufacture': 2019, 'price': 85000.0, 'weight': 24000.0, 'dimensions': '9.2m x 2.8m x 3.0m', 'engine_type': 'Diesel', 'horsepower': 150, 'fuel_capacity': 300.0, 'operational_hours': 1500, 'warranty_period': 24, 'status': 'Available', 'description': 'A reliable excavator for heavy-duty tasks.', 'image_url': 'http://example.com/images/cat_320d.jpg', 'employee_id': UUID('06e4347e-4dfc-490a-a066-686942241770'), 'employee_name': 'kiran kumar', 'employee_num': 'EMP00123'}
2024-10-23 00:50:01,727 - INFO - COMMIT
2024-10-23 00:50:01,793 - INFO - BEGIN (implicit)
2024-10-23 00:50:01,795 - INFO - SELECT heavy_products.id AS heavy_products_id, heavy_products.name AS heavy_products_name, heavy_products.type AS heavy_products_type, heavy_products.brand AS heavy_products_brand, heavy_products.model AS heavy_products_model, heavy_products.year_of_manufacture AS heavy_products_year_of_manufacture, heavy_products.price AS heavy_products_price, heavy_products.weight AS heavy_products_weight, heavy_products.dimensions AS heavy_products_dimensions, heavy_products.engine_type AS heavy_products_engine_type, heavy_products.horsepower AS heavy_products_horsepower, heavy_products.fuel_capacity AS heavy_products_fuel_capacity, heavy_products.operational_hours AS heavy_products_operational_hours, heavy_products.warranty_period AS heavy_products_warranty_period, heavy_products.status AS heavy_products_status, heavy_products.description AS heavy_products_description, heavy_products.image_url AS heavy_products_image_url, heavy_products.created_at AS heavy_products_created_at, heavy_products.updated_at AS heavy_products_updated_at, heavy_products.employee_id AS heavy_products_employee_id, heavy_products.employee_name AS heavy_products_employee_name, heavy_products.employee_num AS heavy_products_employee_num 
FROM heavy_products 
WHERE heavy_products.id = %(pk_1)s::UUID
2024-10-23 00:50:01,796 - INFO - [generated in 0.00031s] {'pk_1': UUID('83c7a92e-8c6e-4dc7-baff-b0daa7545f41')}
2024-10-23 00:50:01,799 - INFO - New heavy product added: CAT 320D (ID: 83c7a92e-8c6e-4dc7-baff-b0daa7545f41)
2024-10-23 00:50:01,800 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-23 00:50:01,800 - INFO - [generated in 0.00020s] {'pk_1': UUID('06e4347e-4dfc-490a-a066-686942241770')}
2024-10-23 00:50:01,802 - INFO - Email notification sent successfully with email subject: New Heavy Product Added and body: 
    Dear Admin,

    A new heavy product has been added to the inventory. Here are the details:

    **Product Details:**
    - **Product ID:** 83c7a92e-8c6e-4dc7-baff-b0daa7545f41
    - **Name:** CAT 320D
    - **Type:** Excavator
    - **Brand:** Caterpillar
    - **Model:** 320D
    - **Year of Manufacture:** 2019
    - **Price:** $85,000.00
    - **Weight:** 24000.00 kg
    - **Dimensions:** 9.2m x 2.8m x 3.0m
    - **Engine Type:** Diesel
    - **Horsepower:** 150.00
    - **Fuel Capacity:** 300.00 liters
    - **Operational Hours:** 1500
    - **Warranty Period:** 24 months
    - **Status:** Available
    - **Description:** A reliable excavator for heavy-duty tasks.
    - **Image URL:** http://example.com/images/cat_320d.jpg
    - **Created At:** 2024-10-23T00:50:01.702269
    - **Updated At:** 2024-10-23T00:50:01.702269

    **Employee Details:**
    - **Employee ID:** 06e4347e-4dfc-490a-a066-686942241770
    - **Name:** kiran kumar
    - **Employee Number:** EMP00123

    Please review the new product and update the inventory as necessary.

    Best Regards,
    Inventory Management System
    .
2024-10-23 00:50:01,802 - INFO - ROLLBACK
2024-10-23 00:50:01,803 - INFO - Database session closed.
2024-10-23 00:50:01,804 - INFO - 127.0.0.1 - - [23/Oct/2024 00:50:01] "[35m[1mPOST /add-heavy-product HTTP/1.1[0m" 201 -
2024-10-23 00:51:34,909 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_products.py', reloading
2024-10-23 00:51:35,168 - INFO -  * Restarting with stat
2024-10-23 00:51:36,640 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 00:51:36,719 - WARNING -  * Debugger is active!
2024-10-23 00:51:36,724 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 00:52:39,051 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_products.py', reloading
2024-10-23 00:52:39,251 - INFO -  * Restarting with stat
2024-10-23 00:52:40,428 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 00:52:40,449 - WARNING -  * Debugger is active!
2024-10-23 00:52:40,453 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 00:52:40,557 - INFO - BEGIN (implicit)
2024-10-23 00:52:40,560 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 00:52:40,560 - INFO - [generated in 0.00027s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 00:52:40,563 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 00:52:40,563 - INFO - Entered /add-heavy-product endpoint. Request method: POST
2024-10-23 00:52:40,563 - INFO - Extracting data from request.
2024-10-23 00:52:40,563 - DEBUG - Employee ID received: 06e4347e-4dfc-490a-a066-686942241770
2024-10-23 00:52:40,567 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-23 00:52:40,567 - INFO - [generated in 0.00023s] {'id_1': '06e4347e-4dfc-490a-a066-686942241770', 'param_1': 1}
2024-10-23 00:52:40,570 - INFO - Found employee: kiran kumar (ID: 06e4347e-4dfc-490a-a066-686942241770)
2024-10-23 00:52:40,570 - INFO - New HeavyProduct instance created.
2024-10-23 00:52:40,572 - INFO - INSERT INTO heavy_products (id, name, type, brand, model, year_of_manufacture, price, weight, dimensions, engine_type, horsepower, fuel_capacity, operational_hours, warranty_period, status, description, image_url, employee_id, employee_name, employee_num) VALUES (uuid_generate_v4(), %(name)s, %(type)s, %(brand)s, %(model)s, %(year_of_manufacture)s, %(price)s, %(weight)s, %(dimensions)s, %(engine_type)s, %(horsepower)s, %(fuel_capacity)s, %(operational_hours)s, %(warranty_period)s, %(status)s, %(description)s, %(image_url)s, %(employee_id)s::UUID, %(employee_name)s, %(employee_num)s) RETURNING heavy_products.id, heavy_products.created_at, heavy_products.updated_at
2024-10-23 00:52:40,573 - INFO - [generated in 0.00025s] {'name': 'CAT 320D', 'type': 'Excavator', 'brand': 'Caterpillar', 'model': '320D', 'year_of_manufacture': 2019, 'price': 85000.0, 'weight': 24000.0, 'dimensions': '9.2m x 2.8m x 3.0m', 'engine_type': 'Diesel', 'horsepower': 150, 'fuel_capacity': 300.0, 'operational_hours': 1500, 'warranty_period': 24, 'status': 'Available', 'description': 'A reliable excavator for heavy-duty tasks.', 'image_url': 'http://example.com/images/cat_320d.jpg', 'employee_id': UUID('06e4347e-4dfc-490a-a066-686942241770'), 'employee_name': 'kiran kumar', 'employee_num': 'EMP00123'}
2024-10-23 00:52:40,590 - INFO - COMMIT
2024-10-23 00:52:40,768 - INFO - BEGIN (implicit)
2024-10-23 00:52:40,774 - INFO - SELECT heavy_products.id AS heavy_products_id, heavy_products.name AS heavy_products_name, heavy_products.type AS heavy_products_type, heavy_products.brand AS heavy_products_brand, heavy_products.model AS heavy_products_model, heavy_products.year_of_manufacture AS heavy_products_year_of_manufacture, heavy_products.price AS heavy_products_price, heavy_products.weight AS heavy_products_weight, heavy_products.dimensions AS heavy_products_dimensions, heavy_products.engine_type AS heavy_products_engine_type, heavy_products.horsepower AS heavy_products_horsepower, heavy_products.fuel_capacity AS heavy_products_fuel_capacity, heavy_products.operational_hours AS heavy_products_operational_hours, heavy_products.warranty_period AS heavy_products_warranty_period, heavy_products.status AS heavy_products_status, heavy_products.description AS heavy_products_description, heavy_products.image_url AS heavy_products_image_url, heavy_products.created_at AS heavy_products_created_at, heavy_products.updated_at AS heavy_products_updated_at, heavy_products.employee_id AS heavy_products_employee_id, heavy_products.employee_name AS heavy_products_employee_name, heavy_products.employee_num AS heavy_products_employee_num 
FROM heavy_products 
WHERE heavy_products.id = %(pk_1)s::UUID
2024-10-23 00:52:40,774 - INFO - [generated in 0.00043s] {'pk_1': UUID('72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a')}
2024-10-23 00:52:40,795 - INFO - New heavy product added: CAT 320D (ID: 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a)
2024-10-23 00:52:40,798 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-23 00:52:40,798 - INFO - [generated in 0.00034s] {'pk_1': UUID('06e4347e-4dfc-490a-a066-686942241770')}
2024-10-23 00:52:44,250 - INFO - Email notification sent successfully with email subject: New Heavy Product Added and body: 
    Dear Admin,

    A new heavy product has been added to the inventory. Here are the details:

    **Product Details:**
    - **Product ID:** 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a
    - **Name:** CAT 320D
    - **Type:** Excavator
    - **Brand:** Caterpillar
    - **Model:** 320D
    - **Year of Manufacture:** 2019
    - **Price:** $85,000.00
    - **Weight:** 24000.00 kg
    - **Dimensions:** 9.2m x 2.8m x 3.0m
    - **Engine Type:** Diesel
    - **Horsepower:** 150.00
    - **Fuel Capacity:** 300.00 liters
    - **Operational Hours:** 1500
    - **Warranty Period:** 24 months
    - **Status:** Available
    - **Description:** A reliable excavator for heavy-duty tasks.
    - **Image URL:** http://example.com/images/cat_320d.jpg
    - **Created At:** 2024-10-23T00:52:40.560748
    - **Updated At:** 2024-10-23T00:52:40.560748

    **Employee Details:**
    - **Employee ID:** 06e4347e-4dfc-490a-a066-686942241770
    - **Name:** kiran kumar
    - **Employee Number:** EMP00123

    Please review the new product and update the inventory as necessary.

    Best Regards,
    Inventory Management System
    .
2024-10-23 00:52:44,251 - INFO - ROLLBACK
2024-10-23 00:52:44,252 - INFO - Database session closed.
2024-10-23 00:52:44,253 - INFO - 127.0.0.1 - - [23/Oct/2024 00:52:44] "[35m[1mPOST /add-heavy-product HTTP/1.1[0m" 201 -
2024-10-23 01:08:09,588 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-23 01:08:09,824 - INFO -  * Restarting with stat
2024-10-23 01:08:10,988 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 01:08:11,026 - WARNING -  * Debugger is active!
2024-10-23 01:08:11,030 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 01:10:42,174 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_products.py', reloading
2024-10-23 01:10:42,327 - INFO -  * Restarting with stat
2024-10-23 01:10:43,248 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 01:10:43,264 - WARNING -  * Debugger is active!
2024-10-23 01:10:43,268 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 01:10:59,979 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_products.py', reloading
2024-10-23 01:11:00,146 - INFO -  * Restarting with stat
2024-10-23 01:11:01,202 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 01:11:01,219 - WARNING -  * Debugger is active!
2024-10-23 01:11:01,222 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 01:11:35,776 - INFO - Entered /get-heavy-products endpoint.
2024-10-23 01:11:35,777 - INFO - Query parameters: ImmutableMultiDict([])
2024-10-23 01:11:35,885 - INFO - BEGIN (implicit)
2024-10-23 01:11:35,892 - INFO - SELECT heavy_products.id AS heavy_products_id, heavy_products.name AS heavy_products_name, heavy_products.type AS heavy_products_type, heavy_products.brand AS heavy_products_brand, heavy_products.model AS heavy_products_model, heavy_products.year_of_manufacture AS heavy_products_year_of_manufacture, heavy_products.price AS heavy_products_price, heavy_products.weight AS heavy_products_weight, heavy_products.dimensions AS heavy_products_dimensions, heavy_products.engine_type AS heavy_products_engine_type, heavy_products.horsepower AS heavy_products_horsepower, heavy_products.fuel_capacity AS heavy_products_fuel_capacity, heavy_products.operational_hours AS heavy_products_operational_hours, heavy_products.warranty_period AS heavy_products_warranty_period, heavy_products.status AS heavy_products_status, heavy_products.description AS heavy_products_description, heavy_products.image_url AS heavy_products_image_url, heavy_products.created_at AS heavy_products_created_at, heavy_products.updated_at AS heavy_products_updated_at, heavy_products.employee_id AS heavy_products_employee_id, heavy_products.employee_name AS heavy_products_employee_name, heavy_products.employee_num AS heavy_products_employee_num 
FROM heavy_products
2024-10-23 01:11:35,892 - INFO - [generated in 0.00036s] {}
2024-10-23 01:11:35,932 - INFO - SELECT count(*) AS count_1 
FROM (SELECT heavy_products.id AS heavy_products_id, heavy_products.name AS heavy_products_name, heavy_products.type AS heavy_products_type, heavy_products.brand AS heavy_products_brand, heavy_products.model AS heavy_products_model, heavy_products.year_of_manufacture AS heavy_products_year_of_manufacture, heavy_products.price AS heavy_products_price, heavy_products.weight AS heavy_products_weight, heavy_products.dimensions AS heavy_products_dimensions, heavy_products.engine_type AS heavy_products_engine_type, heavy_products.horsepower AS heavy_products_horsepower, heavy_products.fuel_capacity AS heavy_products_fuel_capacity, heavy_products.operational_hours AS heavy_products_operational_hours, heavy_products.warranty_period AS heavy_products_warranty_period, heavy_products.status AS heavy_products_status, heavy_products.description AS heavy_products_description, heavy_products.image_url AS heavy_products_image_url, heavy_products.created_at AS heavy_products_created_at, heavy_products.updated_at AS heavy_products_updated_at, heavy_products.employee_id AS heavy_products_employee_id, heavy_products.employee_name AS heavy_products_employee_name, heavy_products.employee_num AS heavy_products_employee_num 
FROM heavy_products) AS anon_1
2024-10-23 01:11:35,933 - INFO - [generated in 0.00042s] {}
2024-10-23 01:11:35,943 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-23 01:11:35,943 - INFO - [generated in 0.00032s] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-23 01:11:35,946 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-23 01:11:35,946 - INFO - [cached since 0.003213s ago] {'pk_1': UUID('06e4347e-4dfc-490a-a066-686942241770')}
2024-10-23 01:11:35,947 - INFO - Fetched 5 heavy product(s).
2024-10-23 01:11:39,322 - INFO - ROLLBACK
2024-10-23 01:11:39,324 - INFO - Closed /get-heavy-products endpoint.
2024-10-23 01:11:39,325 - INFO - 127.0.0.1 - - [23/Oct/2024 01:11:39] "GET /get-heavy-products HTTP/1.1" 200 -
2024-10-23 01:12:16,179 - INFO - Entered /get-heavy-products endpoint.
2024-10-23 01:12:16,180 - INFO - Query parameters: ImmutableMultiDict([('created_at', '2024-10-22T22:24:05.059232')])
2024-10-23 01:12:16,180 - DEBUG - Filtering by created_at: 2024-10-22T22:24:05.059232
2024-10-23 01:12:16,276 - INFO - BEGIN (implicit)
2024-10-23 01:12:16,278 - INFO - SELECT heavy_products.id AS heavy_products_id, heavy_products.name AS heavy_products_name, heavy_products.type AS heavy_products_type, heavy_products.brand AS heavy_products_brand, heavy_products.model AS heavy_products_model, heavy_products.year_of_manufacture AS heavy_products_year_of_manufacture, heavy_products.price AS heavy_products_price, heavy_products.weight AS heavy_products_weight, heavy_products.dimensions AS heavy_products_dimensions, heavy_products.engine_type AS heavy_products_engine_type, heavy_products.horsepower AS heavy_products_horsepower, heavy_products.fuel_capacity AS heavy_products_fuel_capacity, heavy_products.operational_hours AS heavy_products_operational_hours, heavy_products.warranty_period AS heavy_products_warranty_period, heavy_products.status AS heavy_products_status, heavy_products.description AS heavy_products_description, heavy_products.image_url AS heavy_products_image_url, heavy_products.created_at AS heavy_products_created_at, heavy_products.updated_at AS heavy_products_updated_at, heavy_products.employee_id AS heavy_products_employee_id, heavy_products.employee_name AS heavy_products_employee_name, heavy_products.employee_num AS heavy_products_employee_num 
FROM heavy_products 
WHERE heavy_products.created_at = %(created_at_1)s
2024-10-23 01:12:16,278 - INFO - [generated in 0.00024s] {'created_at_1': '2024-10-22T22:24:05.059232'}
2024-10-23 01:12:16,288 - INFO - SELECT count(*) AS count_1 
FROM (SELECT heavy_products.id AS heavy_products_id, heavy_products.name AS heavy_products_name, heavy_products.type AS heavy_products_type, heavy_products.brand AS heavy_products_brand, heavy_products.model AS heavy_products_model, heavy_products.year_of_manufacture AS heavy_products_year_of_manufacture, heavy_products.price AS heavy_products_price, heavy_products.weight AS heavy_products_weight, heavy_products.dimensions AS heavy_products_dimensions, heavy_products.engine_type AS heavy_products_engine_type, heavy_products.horsepower AS heavy_products_horsepower, heavy_products.fuel_capacity AS heavy_products_fuel_capacity, heavy_products.operational_hours AS heavy_products_operational_hours, heavy_products.warranty_period AS heavy_products_warranty_period, heavy_products.status AS heavy_products_status, heavy_products.description AS heavy_products_description, heavy_products.image_url AS heavy_products_image_url, heavy_products.created_at AS heavy_products_created_at, heavy_products.updated_at AS heavy_products_updated_at, heavy_products.employee_id AS heavy_products_employee_id, heavy_products.employee_name AS heavy_products_employee_name, heavy_products.employee_num AS heavy_products_employee_num 
FROM heavy_products 
WHERE heavy_products.created_at = %(created_at_1)s) AS anon_1
2024-10-23 01:12:16,288 - INFO - [generated in 0.00086s] {'created_at_1': '2024-10-22T22:24:05.059232'}
2024-10-23 01:12:16,289 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-23 01:12:16,289 - INFO - [cached since 40.35s ago] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-23 01:12:16,291 - INFO - Fetched 2 heavy product(s).
2024-10-23 01:12:19,550 - INFO - ROLLBACK
2024-10-23 01:12:19,552 - INFO - Closed /get-heavy-products endpoint.
2024-10-23 01:12:19,553 - INFO - 127.0.0.1 - - [23/Oct/2024 01:12:19] "GET /get-heavy-products?created_at=2024-10-22T22:24:05.059232 HTTP/1.1" 200 -
2024-10-23 01:14:25,783 - INFO - Flask application has stopped.
2024-10-23 01:14:25,911 - INFO - Flask application has stopped.
2024-10-23 11:11:48,213 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 11:11:48,288 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-23 11:11:48,288 - INFO - [33mPress CTRL+C to quit[0m
2024-10-23 11:11:48,290 - INFO -  * Restarting with stat
2024-10-23 11:11:49,471 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 11:11:49,529 - WARNING -  * Debugger is active!
2024-10-23 11:11:49,549 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 11:11:53,218 - INFO - Entered /get-heavy-products endpoint.
2024-10-23 11:11:53,218 - INFO - Query parameters: ImmutableMultiDict([('created_at', '2024-10-22T22:24:05.059232')])
2024-10-23 11:11:53,226 - DEBUG - Filtering by created_at: 2024-10-22T22:24:05.059232
2024-10-23 11:11:53,303 - INFO - BEGIN (implicit)
2024-10-23 11:11:53,309 - INFO - SELECT heavy_products.id AS heavy_products_id, heavy_products.name AS heavy_products_name, heavy_products.type AS heavy_products_type, heavy_products.brand AS heavy_products_brand, heavy_products.model AS heavy_products_model, heavy_products.year_of_manufacture AS heavy_products_year_of_manufacture, heavy_products.price AS heavy_products_price, heavy_products.weight AS heavy_products_weight, heavy_products.dimensions AS heavy_products_dimensions, heavy_products.engine_type AS heavy_products_engine_type, heavy_products.horsepower AS heavy_products_horsepower, heavy_products.fuel_capacity AS heavy_products_fuel_capacity, heavy_products.operational_hours AS heavy_products_operational_hours, heavy_products.warranty_period AS heavy_products_warranty_period, heavy_products.status AS heavy_products_status, heavy_products.description AS heavy_products_description, heavy_products.image_url AS heavy_products_image_url, heavy_products.created_at AS heavy_products_created_at, heavy_products.updated_at AS heavy_products_updated_at, heavy_products.employee_id AS heavy_products_employee_id, heavy_products.employee_name AS heavy_products_employee_name, heavy_products.employee_num AS heavy_products_employee_num 
FROM heavy_products 
WHERE heavy_products.created_at = %(created_at_1)s
2024-10-23 11:11:53,309 - INFO - [generated in 0.00031s] {'created_at_1': '2024-10-22T22:24:05.059232'}
2024-10-23 11:11:53,327 - INFO - SELECT count(*) AS count_1 
FROM (SELECT heavy_products.id AS heavy_products_id, heavy_products.name AS heavy_products_name, heavy_products.type AS heavy_products_type, heavy_products.brand AS heavy_products_brand, heavy_products.model AS heavy_products_model, heavy_products.year_of_manufacture AS heavy_products_year_of_manufacture, heavy_products.price AS heavy_products_price, heavy_products.weight AS heavy_products_weight, heavy_products.dimensions AS heavy_products_dimensions, heavy_products.engine_type AS heavy_products_engine_type, heavy_products.horsepower AS heavy_products_horsepower, heavy_products.fuel_capacity AS heavy_products_fuel_capacity, heavy_products.operational_hours AS heavy_products_operational_hours, heavy_products.warranty_period AS heavy_products_warranty_period, heavy_products.status AS heavy_products_status, heavy_products.description AS heavy_products_description, heavy_products.image_url AS heavy_products_image_url, heavy_products.created_at AS heavy_products_created_at, heavy_products.updated_at AS heavy_products_updated_at, heavy_products.employee_id AS heavy_products_employee_id, heavy_products.employee_name AS heavy_products_employee_name, heavy_products.employee_num AS heavy_products_employee_num 
FROM heavy_products 
WHERE heavy_products.created_at = %(created_at_1)s) AS anon_1
2024-10-23 11:11:53,327 - INFO - [generated in 0.00034s] {'created_at_1': '2024-10-22T22:24:05.059232'}
2024-10-23 11:11:53,332 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-23 11:11:53,332 - INFO - [generated in 0.00106s] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-23 11:11:53,334 - INFO - Fetched 2 heavy product(s).
2024-10-23 11:11:58,553 - INFO - ROLLBACK
2024-10-23 11:11:58,555 - INFO - Closed /get-heavy-products endpoint.
2024-10-23 11:11:58,557 - INFO - 127.0.0.1 - - [23/Oct/2024 11:11:58] "GET /get-heavy-products?created_at=2024-10-22T22:24:05.059232 HTTP/1.1" 200 -
2024-10-23 11:14:12,798 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-23 11:14:12,984 - INFO -  * Restarting with stat
2024-10-23 11:14:14,758 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 11:14:14,795 - WARNING -  * Debugger is active!
2024-10-23 11:14:14,800 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 11:17:44,997 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_products.py', reloading
2024-10-23 11:17:45,142 - INFO -  * Restarting with stat
2024-10-23 11:17:46,393 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 11:17:46,408 - WARNING -  * Debugger is active!
2024-10-23 11:17:46,411 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 11:20:20,703 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\constants.py', reloading
2024-10-23 11:20:21,060 - INFO -  * Restarting with stat
2024-10-23 11:20:22,165 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 11:20:22,181 - WARNING -  * Debugger is active!
2024-10-23 11:20:22,183 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 11:21:05,260 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_products.py', reloading
2024-10-23 11:21:05,497 - INFO -  * Restarting with stat
2024-10-23 11:21:07,385 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 11:21:07,455 - WARNING -  * Debugger is active!
2024-10-23 11:21:07,604 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 11:26:03,540 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_products.py', reloading
2024-10-23 11:26:03,705 - INFO -  * Restarting with stat
2024-10-23 11:26:04,800 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 11:26:04,835 - WARNING -  * Debugger is active!
2024-10-23 11:26:04,839 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 11:27:10,377 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_products.py', reloading
2024-10-23 11:27:10,610 - INFO -  * Restarting with stat
2024-10-23 11:27:12,648 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 11:27:12,666 - WARNING -  * Debugger is active!
2024-10-23 11:27:12,668 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 11:36:51,917 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_products.py', reloading
2024-10-23 11:36:52,236 - INFO -  * Restarting with stat
2024-10-23 11:36:54,032 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 11:36:54,088 - WARNING -  * Debugger is active!
2024-10-23 11:36:54,093 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 11:40:40,649 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_products.py', reloading
2024-10-23 11:40:40,855 - INFO -  * Restarting with stat
2024-10-23 11:40:42,260 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 11:40:42,292 - WARNING -  * Debugger is active!
2024-10-23 11:40:42,298 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 11:48:19,451 - INFO - Flask application has stopped.
2024-10-23 11:48:19,683 - INFO - Flask application has stopped.
2024-10-23 11:48:25,051 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-23 11:48:25,079 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-23 11:48:25,079 - INFO - [33mPress CTRL+C to quit[0m
2024-10-23 11:48:25,081 - INFO -  * Restarting with stat
2024-10-23 11:48:26,071 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-23 11:48:26,099 - WARNING -  * Debugger is active!
2024-10-23 11:48:26,104 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 11:48:34,757 - INFO - BEGIN (implicit)
2024-10-23 11:48:34,761 - INFO - INSERT INTO otp_store (email, otp, timestamp) VALUES (%(email)s, %(otp)s, %(timestamp)s) RETURNING otp_store.id
2024-10-23 11:48:34,761 - INFO - [generated in 0.00055s] {'email': 'komalsaikiran05@gmail.com', 'otp': '672972', 'timestamp': datetime.datetime(2024, 10, 23, 11, 48, 34, 627468)}
2024-10-23 11:48:34,780 - INFO - COMMIT
2024-10-23 11:48:34,784 - INFO - Generated OTP for komalsaikiran05@gmail.com: 672972
2024-10-23 11:48:38,458 - INFO - End of generate_otp function for email=komalsaikiran05@gmail.com
2024-10-23 11:48:38,459 - INFO - 127.0.0.1 - - [23/Oct/2024 11:48:38] "POST /generate-otp HTTP/1.1" 200 -
2024-10-23 11:48:53,908 - INFO - Flask application has stopped.
2024-10-23 11:48:54,075 - INFO - Flask application has stopped.
2024-10-23 11:48:59,511 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 11:48:59,538 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-23 11:48:59,538 - INFO - [33mPress CTRL+C to quit[0m
2024-10-23 11:48:59,539 - INFO -  * Restarting with stat
2024-10-23 11:49:00,508 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 11:49:00,529 - WARNING -  * Debugger is active!
2024-10-23 11:49:00,533 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 11:49:05,110 - INFO - BEGIN (implicit)
2024-10-23 11:49:05,115 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 11:49:05,116 - INFO - [generated in 0.00040s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 11:49:05,121 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 11:49:05,122 - INFO - Received update request data: {'product_id': '72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a', 'price': 850000.0, 'weight': 24000.0, 'dimensions': '9.6m x 2.9m x 3.5m', 'engine_type': 'Diesel', 'horsepower': 190.0, 'fuel_capacity': 350.0, 'operational_hours': 2500, 'warranty_period': 240, 'status': 'Unavailable', 'description': 'A reliable excavator for heavy-duty tasks.', 'image_url': 'http://example.com/images/cat_320d.jpg', 'employee_id': '06e4347e-4dfc-490a-a066-686942241770', 'email': 'komalsaikiran05@gmail.com', 'otp': '672972'}
2024-10-23 11:49:05,122 - INFO - Fetching product with ID: 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a
2024-10-23 11:49:05,122 - INFO - ROLLBACK
2024-10-23 11:49:05,124 - ERROR - Unexpected error occurred: type object 'HeavyProduct' has no attribute 'query'
2024-10-23 11:49:05,124 - INFO - Update heavy product process completed for product ID 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a.
2024-10-23 11:49:05,125 - INFO - 127.0.0.1 - - [23/Oct/2024 11:49:05] "[35m[1mPUT /update-heavy-product HTTP/1.1[0m" 500 -
2024-10-23 11:53:26,444 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-23 11:53:26,675 - INFO -  * Restarting with stat
2024-10-23 11:53:27,767 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 11:53:27,789 - WARNING -  * Debugger is active!
2024-10-23 11:53:27,793 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 11:54:40,118 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_products.py', reloading
2024-10-23 11:54:40,330 - INFO -  * Restarting with stat
2024-10-23 11:54:41,713 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 11:54:41,737 - WARNING -  * Debugger is active!
2024-10-23 11:54:41,740 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 11:54:41,854 - INFO - BEGIN (implicit)
2024-10-23 11:54:41,860 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 11:54:41,860 - INFO - [generated in 0.00031s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 11:54:41,863 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 11:54:41,864 - INFO - Received update request data: {'product_id': '72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a', 'price': 850000.0, 'weight': 24000.0, 'dimensions': '9.6m x 2.9m x 3.5m', 'engine_type': 'Diesel', 'horsepower': 190.0, 'fuel_capacity': 350.0, 'operational_hours': 2500, 'warranty_period': 240, 'status': 'Unavailable', 'description': 'A reliable excavator for heavy-duty tasks.', 'image_url': 'http://example.com/images/cat_320d.jpg', 'employee_id': '06e4347e-4dfc-490a-a066-686942241770', 'email': 'komalsaikiran05@gmail.com', 'otp': '672972'}
2024-10-23 11:54:41,864 - INFO - Fetching product with ID: 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a
2024-10-23 11:54:41,864 - INFO - ROLLBACK
2024-10-23 11:54:41,865 - ERROR - Unexpected error occurred: type object 'HeavyProduct' has no attribute 'query'
2024-10-23 11:54:41,865 - INFO - Update heavy product process completed for product ID 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a.
2024-10-23 11:54:41,865 - INFO - 127.0.0.1 - - [23/Oct/2024 11:54:41] "[35m[1mPUT /update-heavy-product HTTP/1.1[0m" 500 -
2024-10-23 11:56:16,215 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_products.py', reloading
2024-10-23 11:56:16,436 - INFO -  * Restarting with stat
2024-10-23 11:56:18,170 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 11:56:18,198 - WARNING -  * Debugger is active!
2024-10-23 11:56:18,204 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 11:56:18,345 - INFO - BEGIN (implicit)
2024-10-23 11:56:18,349 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 11:56:18,351 - INFO - [generated in 0.00072s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 11:56:18,358 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 11:56:18,358 - INFO - Received update request data: {'product_id': '72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a', 'price': 850000.0, 'weight': 24000.0, 'dimensions': '9.6m x 2.9m x 3.5m', 'engine_type': 'Diesel', 'horsepower': 190.0, 'fuel_capacity': 350.0, 'operational_hours': 2500, 'warranty_period': 240, 'status': 'Unavailable', 'description': 'A reliable excavator for heavy-duty tasks.', 'image_url': 'http://example.com/images/cat_320d.jpg', 'employee_id': '06e4347e-4dfc-490a-a066-686942241770', 'email': 'komalsaikiran05@gmail.com', 'otp': '672972'}
2024-10-23 11:56:18,358 - ERROR - Product ID is missing from the request body.
2024-10-23 11:56:18,358 - INFO - ROLLBACK
2024-10-23 11:56:18,360 - INFO - Update heavy product process completed for product ID None.
2024-10-23 11:56:18,360 - INFO - 127.0.0.1 - - [23/Oct/2024 11:56:18] "[31m[1mPUT /update-heavy-product HTTP/1.1[0m" 400 -
2024-10-23 11:56:29,927 - INFO - BEGIN (implicit)
2024-10-23 11:56:29,927 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 11:56:29,928 - INFO - [cached since 11.58s ago] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 11:56:29,934 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 11:56:29,934 - INFO - Received update request data: {'id': '72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a', 'price': 850000.0, 'weight': 24000.0, 'dimensions': '9.6m x 2.9m x 3.5m', 'engine_type': 'Diesel', 'horsepower': 190.0, 'fuel_capacity': 350.0, 'operational_hours': 2500, 'warranty_period': 240, 'status': 'Unavailable', 'description': 'A reliable excavator for heavy-duty tasks.', 'image_url': 'http://example.com/images/cat_320d.jpg', 'employee_id': '06e4347e-4dfc-490a-a066-686942241770', 'email': 'komalsaikiran05@gmail.com', 'otp': '672972'}
2024-10-23 11:56:29,935 - INFO - Fetching product with ID: 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a
2024-10-23 11:56:29,935 - INFO - ROLLBACK
2024-10-23 11:56:29,935 - ERROR - Unexpected error occurred: type object 'HeavyProduct' has no attribute 'query'
2024-10-23 11:56:29,937 - INFO - Update heavy product process completed for product ID 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a.
2024-10-23 11:56:29,937 - INFO - 127.0.0.1 - - [23/Oct/2024 11:56:29] "[35m[1mPUT /update-heavy-product HTTP/1.1[0m" 500 -
2024-10-23 11:58:28,508 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_products.py', reloading
2024-10-23 11:58:28,777 - INFO -  * Restarting with stat
2024-10-23 11:58:30,303 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 11:58:30,353 - WARNING -  * Debugger is active!
2024-10-23 11:58:30,366 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 11:58:30,558 - INFO - BEGIN (implicit)
2024-10-23 11:58:30,563 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 11:58:30,563 - INFO - [generated in 0.00038s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 11:58:30,569 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 11:58:30,570 - INFO - Received update request data: {'id': '72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a', 'price': 850000.0, 'weight': 24000.0, 'dimensions': '9.6m x 2.9m x 3.5m', 'engine_type': 'Diesel', 'horsepower': 190.0, 'fuel_capacity': 350.0, 'operational_hours': 2500, 'warranty_period': 240, 'status': 'Unavailable', 'description': 'A reliable excavator for heavy-duty tasks.', 'image_url': 'http://example.com/images/cat_320d.jpg', 'employee_id': '06e4347e-4dfc-490a-a066-686942241770', 'email': 'komalsaikiran05@gmail.com', 'otp': '672972'}
2024-10-23 11:58:30,570 - INFO - Fetching product with ID: 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a
2024-10-23 11:58:30,573 - INFO - SELECT heavy_products.id AS heavy_products_id, heavy_products.name AS heavy_products_name, heavy_products.type AS heavy_products_type, heavy_products.brand AS heavy_products_brand, heavy_products.model AS heavy_products_model, heavy_products.year_of_manufacture AS heavy_products_year_of_manufacture, heavy_products.price AS heavy_products_price, heavy_products.weight AS heavy_products_weight, heavy_products.dimensions AS heavy_products_dimensions, heavy_products.engine_type AS heavy_products_engine_type, heavy_products.horsepower AS heavy_products_horsepower, heavy_products.fuel_capacity AS heavy_products_fuel_capacity, heavy_products.operational_hours AS heavy_products_operational_hours, heavy_products.warranty_period AS heavy_products_warranty_period, heavy_products.status AS heavy_products_status, heavy_products.description AS heavy_products_description, heavy_products.image_url AS heavy_products_image_url, heavy_products.created_at AS heavy_products_created_at, heavy_products.updated_at AS heavy_products_updated_at, heavy_products.employee_id AS heavy_products_employee_id, heavy_products.employee_name AS heavy_products_employee_name, heavy_products.employee_num AS heavy_products_employee_num 
FROM heavy_products 
WHERE heavy_products.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-23 11:58:30,573 - INFO - [generated in 0.00031s] {'id_1': '72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a', 'param_1': 1}
2024-10-23 11:58:30,580 - INFO - Product 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a found in the database.
2024-10-23 11:58:30,581 - INFO - Updating product 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a with fields: {'price': 850000.0, 'weight': 24000.0, 'dimensions': '9.6m x 2.9m x 3.5m', 'engine_type': 'Diesel', 'horsepower': 190.0, 'fuel_capacity': 350.0, 'operational_hours': 2500, 'warranty_period': 240, 'status': 'Unavailable', 'description': 'A reliable excavator for heavy-duty tasks.', 'image_url': 'http://example.com/images/cat_320d.jpg', 'employee_id': '06e4347e-4dfc-490a-a066-686942241770'}
2024-10-23 11:58:30,584 - INFO - UPDATE heavy_products SET price=%(price)s, dimensions=%(dimensions)s, horsepower=%(horsepower)s, fuel_capacity=%(fuel_capacity)s, operational_hours=%(operational_hours)s, warranty_period=%(warranty_period)s, status=%(status)s, updated_at=now(), employee_id=%(employee_id)s::UUID WHERE heavy_products.id = %(heavy_products_id)s::UUID
2024-10-23 11:58:30,584 - INFO - [generated in 0.00035s] {'price': 850000.0, 'dimensions': '9.6m x 2.9m x 3.5m', 'horsepower': 190.0, 'fuel_capacity': 350.0, 'operational_hours': 2500, 'warranty_period': 240, 'status': 'Unavailable', 'employee_id': '06e4347e-4dfc-490a-a066-686942241770', 'heavy_products_id': UUID('72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a')}
2024-10-23 11:58:30,597 - INFO - COMMIT
2024-10-23 11:58:30,598 - INFO - Product 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a updated successfully in the database.
2024-10-23 11:58:34,826 - INFO - Email notification sent for product 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a update.
2024-10-23 11:58:34,828 - INFO - Update heavy product process completed for product ID 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a.
2024-10-23 11:58:34,830 - INFO - 127.0.0.1 - - [23/Oct/2024 11:58:34] "PUT /update-heavy-product HTTP/1.1" 200 -
2024-10-23 11:59:28,275 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_products.py', reloading
2024-10-23 11:59:28,437 - INFO -  * Restarting with stat
2024-10-23 11:59:29,496 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 11:59:29,518 - WARNING -  * Debugger is active!
2024-10-23 11:59:29,523 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 12:10:58,782 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_products.py', reloading
2024-10-23 12:10:58,978 - INFO -  * Restarting with stat
2024-10-23 12:11:00,645 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 12:11:00,722 - WARNING -  * Debugger is active!
2024-10-23 12:11:00,729 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 12:12:13,079 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-23 12:12:13,288 - INFO -  * Restarting with stat
2024-10-23 12:12:14,821 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 12:12:14,869 - WARNING -  * Debugger is active!
2024-10-23 12:12:14,878 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 12:12:15,051 - INFO - BEGIN (implicit)
2024-10-23 12:12:15,056 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 12:12:15,056 - INFO - [generated in 0.00030s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 12:12:15,064 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 12:12:15,064 - INFO - Received update request data: {'id': '72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a', 'price': 850000.0, 'weight': 24000.0, 'dimensions': '9.6m x 2.9m x 3.5m', 'engine_type': 'Diesel', 'horsepower': 190.0, 'fuel_capacity': 350.0, 'operational_hours': 2500, 'warranty_period': 240, 'status': 'Unavailable', 'description': 'A reliable excavator for heavy-duty tasks.', 'image_url': 'http://example.com/images/cat_320d.jpg', 'employee_id': '06e4347e-4dfc-490a-a066-686942241770', 'email': 'komalsaikiran05@gmail.com', 'otp': '672972'}
2024-10-23 12:12:15,064 - ERROR - Product ID is missing from the request body.
2024-10-23 12:12:15,064 - INFO - ROLLBACK
2024-10-23 12:12:15,064 - INFO - Update heavy product process completed for product ID None.
2024-10-23 12:12:15,065 - INFO - 127.0.0.1 - - [23/Oct/2024 12:12:15] "[31m[1mPUT /update-heavy-product HTTP/1.1[0m" 400 -
2024-10-23 12:15:02,289 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_products.py', reloading
2024-10-23 12:15:02,483 - INFO -  * Restarting with stat
2024-10-23 12:15:03,651 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 12:15:03,667 - WARNING -  * Debugger is active!
2024-10-23 12:15:03,670 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 12:16:08,171 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-23 12:16:08,442 - INFO -  * Restarting with stat
2024-10-23 12:16:10,118 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 12:16:10,142 - WARNING -  * Debugger is active!
2024-10-23 12:16:10,147 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 12:16:10,262 - INFO - BEGIN (implicit)
2024-10-23 12:16:10,268 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 12:16:10,268 - INFO - [generated in 0.00036s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 12:16:10,272 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 12:16:10,272 - INFO - Received update request data: {'id': '72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a', 'price': 850000.0, 'weight': 24000.0, 'dimensions': '9.6m x 2.9m x 3.5m', 'engine_type': 'Diesel', 'horsepower': 190.0, 'fuel_capacity': 350.0, 'operational_hours': 2500, 'warranty_period': 240, 'status': 'Unavailable', 'description': 'A reliable excavator for heavy-duty tasks.', 'image_url': 'http://example.com/images/cat_320d.jpg', 'employee_id': '06e4347e-4dfc-490a-a066-686942241770', 'email': 'komalsaikiran05@gmail.com', 'otp': '672972'}
2024-10-23 12:16:10,273 - INFO - Fetching product with ID: 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a
2024-10-23 12:16:10,273 - INFO - ROLLBACK
2024-10-23 12:16:10,273 - ERROR - Unexpected error occurred: type object 'HeavyProduct' has no attribute 'query'
2024-10-23 12:16:10,273 - INFO - Update heavy product process completed for product ID 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a.
2024-10-23 12:16:10,274 - INFO - 127.0.0.1 - - [23/Oct/2024 12:16:10] "[35m[1mPUT /update-heavy-product HTTP/1.1[0m" 500 -
2024-10-23 12:17:44,134 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_products.py', reloading
2024-10-23 12:17:44,285 - INFO -  * Restarting with stat
2024-10-23 12:17:45,562 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 12:17:45,600 - WARNING -  * Debugger is active!
2024-10-23 12:17:45,604 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 12:18:11,581 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_products.py', reloading
2024-10-23 12:18:11,716 - INFO -  * Restarting with stat
2024-10-23 12:18:12,815 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 12:18:12,838 - WARNING -  * Debugger is active!
2024-10-23 12:18:12,842 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 12:18:13,175 - INFO - BEGIN (implicit)
2024-10-23 12:18:13,178 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 12:18:13,178 - INFO - [generated in 0.00022s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 12:18:13,182 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 12:18:13,182 - INFO - Received update request data: {'id': '72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a', 'price': 850000.0, 'weight': 24000.0, 'dimensions': '9.6m x 2.9m x 3.5m', 'engine_type': 'Diesel', 'horsepower': 190.0, 'fuel_capacity': 350.0, 'operational_hours': 2500, 'warranty_period': 240, 'status': 'Unavailable', 'description': 'A reliable excavator for heavy-duty tasks.', 'image_url': 'http://example.com/images/cat_320d.jpg', 'employee_id': '06e4347e-4dfc-490a-a066-686942241770', 'email': 'komalsaikiran05@gmail.com', 'otp': '672972'}
2024-10-23 12:18:13,182 - INFO - Fetching product with ID: 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a
2024-10-23 12:18:13,186 - INFO - SELECT heavy_products.id AS heavy_products_id, heavy_products.name AS heavy_products_name, heavy_products.type AS heavy_products_type, heavy_products.brand AS heavy_products_brand, heavy_products.model AS heavy_products_model, heavy_products.year_of_manufacture AS heavy_products_year_of_manufacture, heavy_products.price AS heavy_products_price, heavy_products.weight AS heavy_products_weight, heavy_products.dimensions AS heavy_products_dimensions, heavy_products.engine_type AS heavy_products_engine_type, heavy_products.horsepower AS heavy_products_horsepower, heavy_products.fuel_capacity AS heavy_products_fuel_capacity, heavy_products.operational_hours AS heavy_products_operational_hours, heavy_products.warranty_period AS heavy_products_warranty_period, heavy_products.status AS heavy_products_status, heavy_products.description AS heavy_products_description, heavy_products.image_url AS heavy_products_image_url, heavy_products.created_at AS heavy_products_created_at, heavy_products.updated_at AS heavy_products_updated_at, heavy_products.employee_id AS heavy_products_employee_id, heavy_products.employee_name AS heavy_products_employee_name, heavy_products.employee_num AS heavy_products_employee_num 
FROM heavy_products 
WHERE heavy_products.id = %(pk_1)s::UUID
2024-10-23 12:18:13,186 - INFO - [generated in 0.00049s] {'pk_1': '72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a'}
2024-10-23 12:18:13,190 - INFO - Product 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a found in the database.
2024-10-23 12:18:13,191 - DEBUG - Employee ID received for update: 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a
2024-10-23 12:18:13,193 - INFO - UPDATE heavy_products SET updated_at=now(), employee_id=%(employee_id)s::UUID WHERE heavy_products.id = %(heavy_products_id)s::UUID
2024-10-23 12:18:13,194 - INFO - [generated in 0.00031s] {'employee_id': '06e4347e-4dfc-490a-a066-686942241770', 'heavy_products_id': UUID('72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a')}
2024-10-23 12:18:13,207 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-23 12:18:13,208 - INFO - [generated in 0.00054s] {'id_1': '72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a', 'param_1': 1}
2024-10-23 12:18:13,210 - ERROR - Employee with ID 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a not found.
2024-10-23 12:18:13,210 - INFO - ROLLBACK
2024-10-23 12:18:13,211 - INFO - Update heavy product process completed for product ID 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a.
2024-10-23 12:18:13,211 - INFO - 127.0.0.1 - - [23/Oct/2024 12:18:13] "[33mPUT /update-heavy-product HTTP/1.1[0m" 404 -
2024-10-23 12:18:58,173 - INFO - Entered /get-heavy-products endpoint.
2024-10-23 12:18:58,173 - INFO - Query parameters: ImmutableMultiDict([])
2024-10-23 12:18:58,268 - INFO - BEGIN (implicit)
2024-10-23 12:18:58,269 - INFO - SELECT heavy_products.id AS heavy_products_id, heavy_products.name AS heavy_products_name, heavy_products.type AS heavy_products_type, heavy_products.brand AS heavy_products_brand, heavy_products.model AS heavy_products_model, heavy_products.year_of_manufacture AS heavy_products_year_of_manufacture, heavy_products.price AS heavy_products_price, heavy_products.weight AS heavy_products_weight, heavy_products.dimensions AS heavy_products_dimensions, heavy_products.engine_type AS heavy_products_engine_type, heavy_products.horsepower AS heavy_products_horsepower, heavy_products.fuel_capacity AS heavy_products_fuel_capacity, heavy_products.operational_hours AS heavy_products_operational_hours, heavy_products.warranty_period AS heavy_products_warranty_period, heavy_products.status AS heavy_products_status, heavy_products.description AS heavy_products_description, heavy_products.image_url AS heavy_products_image_url, heavy_products.created_at AS heavy_products_created_at, heavy_products.updated_at AS heavy_products_updated_at, heavy_products.employee_id AS heavy_products_employee_id, heavy_products.employee_name AS heavy_products_employee_name, heavy_products.employee_num AS heavy_products_employee_num 
FROM heavy_products
2024-10-23 12:18:58,269 - INFO - [generated in 0.00029s] {}
2024-10-23 12:18:58,280 - INFO - SELECT count(*) AS count_1 
FROM (SELECT heavy_products.id AS heavy_products_id, heavy_products.name AS heavy_products_name, heavy_products.type AS heavy_products_type, heavy_products.brand AS heavy_products_brand, heavy_products.model AS heavy_products_model, heavy_products.year_of_manufacture AS heavy_products_year_of_manufacture, heavy_products.price AS heavy_products_price, heavy_products.weight AS heavy_products_weight, heavy_products.dimensions AS heavy_products_dimensions, heavy_products.engine_type AS heavy_products_engine_type, heavy_products.horsepower AS heavy_products_horsepower, heavy_products.fuel_capacity AS heavy_products_fuel_capacity, heavy_products.operational_hours AS heavy_products_operational_hours, heavy_products.warranty_period AS heavy_products_warranty_period, heavy_products.status AS heavy_products_status, heavy_products.description AS heavy_products_description, heavy_products.image_url AS heavy_products_image_url, heavy_products.created_at AS heavy_products_created_at, heavy_products.updated_at AS heavy_products_updated_at, heavy_products.employee_id AS heavy_products_employee_id, heavy_products.employee_name AS heavy_products_employee_name, heavy_products.employee_num AS heavy_products_employee_num 
FROM heavy_products) AS anon_1
2024-10-23 12:18:58,280 - INFO - [generated in 0.00028s] {}
2024-10-23 12:18:58,285 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-23 12:18:58,285 - INFO - [generated in 0.00102s] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-23 12:18:58,288 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-23 12:18:58,288 - INFO - [cached since 0.003975s ago] {'pk_1': UUID('06e4347e-4dfc-490a-a066-686942241770')}
2024-10-23 12:18:58,290 - INFO - Fetched 5 heavy product(s).
2024-10-23 12:19:01,997 - INFO - ROLLBACK
2024-10-23 12:19:01,999 - INFO - Closed /get-heavy-products endpoint.
2024-10-23 12:19:02,001 - INFO - 127.0.0.1 - - [23/Oct/2024 12:19:02] "GET /get-heavy-products HTTP/1.1" 200 -
2024-10-23 12:19:41,494 - INFO - Entered /get-heavy-products endpoint.
2024-10-23 12:19:41,494 - INFO - Query parameters: ImmutableMultiDict([('employee_id', '06e4347e-4dfc-490a-a066-686942241770')])
2024-10-23 12:19:41,495 - DEBUG - Filtering by employee_id: 06e4347e-4dfc-490a-a066-686942241770
2024-10-23 12:19:41,569 - INFO - BEGIN (implicit)
2024-10-23 12:19:41,571 - INFO - SELECT heavy_products.id AS heavy_products_id, heavy_products.name AS heavy_products_name, heavy_products.type AS heavy_products_type, heavy_products.brand AS heavy_products_brand, heavy_products.model AS heavy_products_model, heavy_products.year_of_manufacture AS heavy_products_year_of_manufacture, heavy_products.price AS heavy_products_price, heavy_products.weight AS heavy_products_weight, heavy_products.dimensions AS heavy_products_dimensions, heavy_products.engine_type AS heavy_products_engine_type, heavy_products.horsepower AS heavy_products_horsepower, heavy_products.fuel_capacity AS heavy_products_fuel_capacity, heavy_products.operational_hours AS heavy_products_operational_hours, heavy_products.warranty_period AS heavy_products_warranty_period, heavy_products.status AS heavy_products_status, heavy_products.description AS heavy_products_description, heavy_products.image_url AS heavy_products_image_url, heavy_products.created_at AS heavy_products_created_at, heavy_products.updated_at AS heavy_products_updated_at, heavy_products.employee_id AS heavy_products_employee_id, heavy_products.employee_name AS heavy_products_employee_name, heavy_products.employee_num AS heavy_products_employee_num 
FROM heavy_products 
WHERE heavy_products.employee_id = %(employee_id_1)s::UUID
2024-10-23 12:19:41,571 - INFO - [generated in 0.00056s] {'employee_id_1': '06e4347e-4dfc-490a-a066-686942241770'}
2024-10-23 12:19:41,577 - INFO - SELECT count(*) AS count_1 
FROM (SELECT heavy_products.id AS heavy_products_id, heavy_products.name AS heavy_products_name, heavy_products.type AS heavy_products_type, heavy_products.brand AS heavy_products_brand, heavy_products.model AS heavy_products_model, heavy_products.year_of_manufacture AS heavy_products_year_of_manufacture, heavy_products.price AS heavy_products_price, heavy_products.weight AS heavy_products_weight, heavy_products.dimensions AS heavy_products_dimensions, heavy_products.engine_type AS heavy_products_engine_type, heavy_products.horsepower AS heavy_products_horsepower, heavy_products.fuel_capacity AS heavy_products_fuel_capacity, heavy_products.operational_hours AS heavy_products_operational_hours, heavy_products.warranty_period AS heavy_products_warranty_period, heavy_products.status AS heavy_products_status, heavy_products.description AS heavy_products_description, heavy_products.image_url AS heavy_products_image_url, heavy_products.created_at AS heavy_products_created_at, heavy_products.updated_at AS heavy_products_updated_at, heavy_products.employee_id AS heavy_products_employee_id, heavy_products.employee_name AS heavy_products_employee_name, heavy_products.employee_num AS heavy_products_employee_num 
FROM heavy_products 
WHERE heavy_products.employee_id = %(employee_id_1)s::UUID) AS anon_1
2024-10-23 12:19:41,577 - INFO - [generated in 0.00042s] {'employee_id_1': '06e4347e-4dfc-490a-a066-686942241770'}
2024-10-23 12:19:41,579 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-23 12:19:41,579 - INFO - [cached since 43.3s ago] {'pk_1': UUID('06e4347e-4dfc-490a-a066-686942241770')}
2024-10-23 12:19:41,580 - INFO - Fetched 3 heavy product(s).
2024-10-23 12:19:45,113 - INFO - ROLLBACK
2024-10-23 12:19:45,114 - INFO - Closed /get-heavy-products endpoint.
2024-10-23 12:19:45,115 - INFO - 127.0.0.1 - - [23/Oct/2024 12:19:45] "GET /get-heavy-products?employee_id=06e4347e-4dfc-490a-a066-686942241770 HTTP/1.1" 200 -
2024-10-23 12:20:24,143 - INFO - BEGIN (implicit)
2024-10-23 12:20:24,143 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 12:20:24,143 - INFO - [cached since 131s ago] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 12:20:24,147 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 12:20:24,147 - INFO - Received update request data: {'id': '72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a', 'price': 850000.0, 'weight': 24000.0, 'dimensions': '9.6m x 2.9m x 3.5m', 'engine_type': 'Diesel', 'horsepower': 190.0, 'fuel_capacity': 350.0, 'operational_hours': 2500, 'warranty_period': 240, 'status': 'Unavailable', 'description': 'A reliable excavator for heavy-duty tasks.', 'image_url': 'http://example.com/images/cat_320d.jpg', 'employee_id': '06e4347e-4dfc-490a-a066-686942241770', 'email': 'komalsaikiran05@gmail.com', 'otp': '672972'}
2024-10-23 12:20:24,147 - INFO - Fetching product with ID: 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a
2024-10-23 12:20:24,147 - INFO - SELECT heavy_products.id AS heavy_products_id, heavy_products.name AS heavy_products_name, heavy_products.type AS heavy_products_type, heavy_products.brand AS heavy_products_brand, heavy_products.model AS heavy_products_model, heavy_products.year_of_manufacture AS heavy_products_year_of_manufacture, heavy_products.price AS heavy_products_price, heavy_products.weight AS heavy_products_weight, heavy_products.dimensions AS heavy_products_dimensions, heavy_products.engine_type AS heavy_products_engine_type, heavy_products.horsepower AS heavy_products_horsepower, heavy_products.fuel_capacity AS heavy_products_fuel_capacity, heavy_products.operational_hours AS heavy_products_operational_hours, heavy_products.warranty_period AS heavy_products_warranty_period, heavy_products.status AS heavy_products_status, heavy_products.description AS heavy_products_description, heavy_products.image_url AS heavy_products_image_url, heavy_products.created_at AS heavy_products_created_at, heavy_products.updated_at AS heavy_products_updated_at, heavy_products.employee_id AS heavy_products_employee_id, heavy_products.employee_name AS heavy_products_employee_name, heavy_products.employee_num AS heavy_products_employee_num 
FROM heavy_products 
WHERE heavy_products.id = %(pk_1)s::UUID
2024-10-23 12:20:24,147 - INFO - [cached since 131s ago] {'pk_1': '72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a'}
2024-10-23 12:20:24,150 - INFO - Product 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a found in the database.
2024-10-23 12:20:24,150 - DEBUG - Employee ID received for update: 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a
2024-10-23 12:20:24,152 - INFO - UPDATE heavy_products SET updated_at=now(), employee_id=%(employee_id)s::UUID WHERE heavy_products.id = %(heavy_products_id)s::UUID
2024-10-23 12:20:24,152 - INFO - [cached since 131s ago] {'employee_id': '06e4347e-4dfc-490a-a066-686942241770', 'heavy_products_id': UUID('72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a')}
2024-10-23 12:20:24,163 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-23 12:20:24,163 - INFO - [cached since 131s ago] {'id_1': '72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a', 'param_1': 1}
2024-10-23 12:20:24,164 - ERROR - Employee with ID 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a not found.
2024-10-23 12:20:24,165 - INFO - ROLLBACK
2024-10-23 12:20:24,165 - INFO - Update heavy product process completed for product ID 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a.
2024-10-23 12:20:24,166 - INFO - 127.0.0.1 - - [23/Oct/2024 12:20:24] "[33mPUT /update-heavy-product HTTP/1.1[0m" 404 -
2024-10-23 12:22:36,556 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_products.py', reloading
2024-10-23 12:22:36,707 - INFO -  * Restarting with stat
2024-10-23 12:22:38,185 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 12:22:38,223 - WARNING -  * Debugger is active!
2024-10-23 12:22:38,228 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 12:22:38,359 - INFO - BEGIN (implicit)
2024-10-23 12:22:38,365 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 12:22:38,366 - INFO - [generated in 0.00077s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 12:22:38,373 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 12:22:38,373 - INFO - Received update request data: {'id': '72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a', 'price': 850000.0, 'weight': 24000.0, 'dimensions': '9.6m x 2.9m x 3.5m', 'engine_type': 'Diesel', 'horsepower': 190.0, 'fuel_capacity': 350.0, 'operational_hours': 2500, 'warranty_period': 240, 'status': 'Unavailable', 'description': 'A reliable excavator for heavy-duty tasks.', 'image_url': 'http://example.com/images/cat_320d.jpg', 'employee_id': '06e4347e-4dfc-490a-a066-686942241770', 'email': 'komalsaikiran05@gmail.com', 'otp': '672972'}
2024-10-23 12:22:38,374 - INFO - Fetching product with ID: 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a
2024-10-23 12:22:38,379 - INFO - SELECT heavy_products.id AS heavy_products_id, heavy_products.name AS heavy_products_name, heavy_products.type AS heavy_products_type, heavy_products.brand AS heavy_products_brand, heavy_products.model AS heavy_products_model, heavy_products.year_of_manufacture AS heavy_products_year_of_manufacture, heavy_products.price AS heavy_products_price, heavy_products.weight AS heavy_products_weight, heavy_products.dimensions AS heavy_products_dimensions, heavy_products.engine_type AS heavy_products_engine_type, heavy_products.horsepower AS heavy_products_horsepower, heavy_products.fuel_capacity AS heavy_products_fuel_capacity, heavy_products.operational_hours AS heavy_products_operational_hours, heavy_products.warranty_period AS heavy_products_warranty_period, heavy_products.status AS heavy_products_status, heavy_products.description AS heavy_products_description, heavy_products.image_url AS heavy_products_image_url, heavy_products.created_at AS heavy_products_created_at, heavy_products.updated_at AS heavy_products_updated_at, heavy_products.employee_id AS heavy_products_employee_id, heavy_products.employee_name AS heavy_products_employee_name, heavy_products.employee_num AS heavy_products_employee_num 
FROM heavy_products 
WHERE heavy_products.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-23 12:22:38,379 - INFO - [generated in 0.00056s] {'id_1': '72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a', 'param_1': 1}
2024-10-23 12:22:38,385 - INFO - Product 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a found in the database.
2024-10-23 12:22:38,385 - DEBUG - Employee ID received for update: 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a
2024-10-23 12:22:38,391 - INFO - UPDATE heavy_products SET updated_at=now(), employee_id=%(employee_id)s::UUID WHERE heavy_products.id = %(heavy_products_id)s::UUID
2024-10-23 12:22:38,391 - INFO - [generated in 0.00056s] {'employee_id': '06e4347e-4dfc-490a-a066-686942241770', 'heavy_products_id': UUID('72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a')}
2024-10-23 12:22:38,403 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-23 12:22:38,404 - INFO - [generated in 0.00096s] {'id_1': '72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a', 'param_1': 1}
2024-10-23 12:22:38,408 - ERROR - Employee with ID 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a not found.
2024-10-23 12:22:38,409 - INFO - ROLLBACK
2024-10-23 12:22:38,411 - INFO - Update heavy product process completed for product ID 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a.
2024-10-23 12:22:38,411 - INFO - 127.0.0.1 - - [23/Oct/2024 12:22:38] "[33mPUT /update-heavy-product HTTP/1.1[0m" 404 -
2024-10-23 12:25:36,613 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_products.py', reloading
2024-10-23 12:25:36,755 - INFO -  * Restarting with stat
2024-10-23 12:25:37,545 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 12:25:37,560 - WARNING -  * Debugger is active!
2024-10-23 12:25:37,563 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 12:25:51,725 - INFO - BEGIN (implicit)
2024-10-23 12:25:51,729 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 12:25:51,729 - INFO - [generated in 0.00027s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 12:25:51,732 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 12:25:51,733 - INFO - Received update request data: {'id': '72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a', 'price': 850000.0, 'weight': 24000.0, 'dimensions': '9.6m x 2.9m x 3.5m', 'engine_type': 'Diesel', 'horsepower': 190.0, 'fuel_capacity': 350.0, 'operational_hours': 2500, 'warranty_period': 240, 'status': 'Unavailable', 'description': 'A reliable excavator for heavy-duty tasks.', 'image_url': 'http://example.com/images/cat_320d.jpg', 'employee_id': '06e4347e-4dfc-490a-a066-686942241770', 'email': 'komalsaikiran05@gmail.com', 'otp': '672972'}
2024-10-23 12:25:51,733 - INFO - Fetching product with ID: 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a
2024-10-23 12:25:51,738 - INFO - SELECT heavy_products.id AS heavy_products_id, heavy_products.name AS heavy_products_name, heavy_products.type AS heavy_products_type, heavy_products.brand AS heavy_products_brand, heavy_products.model AS heavy_products_model, heavy_products.year_of_manufacture AS heavy_products_year_of_manufacture, heavy_products.price AS heavy_products_price, heavy_products.weight AS heavy_products_weight, heavy_products.dimensions AS heavy_products_dimensions, heavy_products.engine_type AS heavy_products_engine_type, heavy_products.horsepower AS heavy_products_horsepower, heavy_products.fuel_capacity AS heavy_products_fuel_capacity, heavy_products.operational_hours AS heavy_products_operational_hours, heavy_products.warranty_period AS heavy_products_warranty_period, heavy_products.status AS heavy_products_status, heavy_products.description AS heavy_products_description, heavy_products.image_url AS heavy_products_image_url, heavy_products.created_at AS heavy_products_created_at, heavy_products.updated_at AS heavy_products_updated_at, heavy_products.employee_id AS heavy_products_employee_id, heavy_products.employee_name AS heavy_products_employee_name, heavy_products.employee_num AS heavy_products_employee_num 
FROM heavy_products 
WHERE heavy_products.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-23 12:25:51,738 - INFO - [generated in 0.00053s] {'id_1': '72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a', 'param_1': 1}
2024-10-23 12:25:51,742 - INFO - Product 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a found in the database.
2024-10-23 12:25:51,742 - DEBUG - Employee ID received for update: 06e4347e-4dfc-490a-a066-686942241770
2024-10-23 12:25:51,745 - INFO - UPDATE heavy_products SET updated_at=now(), employee_id=%(employee_id)s::UUID WHERE heavy_products.id = %(heavy_products_id)s::UUID
2024-10-23 12:25:51,745 - INFO - [generated in 0.00030s] {'employee_id': '06e4347e-4dfc-490a-a066-686942241770', 'heavy_products_id': UUID('72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a')}
2024-10-23 12:25:51,749 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-23 12:25:51,749 - INFO - [generated in 0.00028s] {'id_1': '06e4347e-4dfc-490a-a066-686942241770', 'param_1': 1}
2024-10-23 12:25:51,751 - INFO - Found employee: kiran kumar (ID: 06e4347e-4dfc-490a-a066-686942241770)
2024-10-23 12:25:51,751 - INFO - Updating product 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a with fields: {'price': 850000.0, 'weight': 24000.0, 'dimensions': '9.6m x 2.9m x 3.5m', 'engine_type': 'Diesel', 'horsepower': 190.0, 'fuel_capacity': 350.0, 'operational_hours': 2500, 'warranty_period': 240, 'status': 'Unavailable', 'description': 'A reliable excavator for heavy-duty tasks.', 'image_url': 'http://example.com/images/cat_320d.jpg', 'employee_id': '06e4347e-4dfc-490a-a066-686942241770', 'employee_name': 'kiran kumar', 'employee_num': 'EMP00123'}
2024-10-23 12:25:51,753 - INFO - COMMIT
2024-10-23 12:25:51,754 - INFO - Product 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a updated successfully in the database.
2024-10-23 12:25:51,811 - INFO - BEGIN (implicit)
2024-10-23 12:25:51,813 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-23 12:25:51,813 - INFO - [generated in 0.00031s] {'pk_1': UUID('06e4347e-4dfc-490a-a066-686942241770')}
2024-10-23 12:25:55,081 - INFO - Email notification sent for product 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a update.
2024-10-23 12:25:55,085 - INFO - SELECT heavy_products.id AS heavy_products_id, heavy_products.name AS heavy_products_name, heavy_products.type AS heavy_products_type, heavy_products.brand AS heavy_products_brand, heavy_products.model AS heavy_products_model, heavy_products.year_of_manufacture AS heavy_products_year_of_manufacture, heavy_products.price AS heavy_products_price, heavy_products.weight AS heavy_products_weight, heavy_products.dimensions AS heavy_products_dimensions, heavy_products.engine_type AS heavy_products_engine_type, heavy_products.horsepower AS heavy_products_horsepower, heavy_products.fuel_capacity AS heavy_products_fuel_capacity, heavy_products.operational_hours AS heavy_products_operational_hours, heavy_products.warranty_period AS heavy_products_warranty_period, heavy_products.status AS heavy_products_status, heavy_products.description AS heavy_products_description, heavy_products.image_url AS heavy_products_image_url, heavy_products.created_at AS heavy_products_created_at, heavy_products.updated_at AS heavy_products_updated_at, heavy_products.employee_id AS heavy_products_employee_id, heavy_products.employee_name AS heavy_products_employee_name, heavy_products.employee_num AS heavy_products_employee_num 
FROM heavy_products 
WHERE heavy_products.id = %(pk_1)s::UUID
2024-10-23 12:25:55,086 - INFO - [generated in 0.00079s] {'pk_1': UUID('72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a')}
2024-10-23 12:25:55,091 - INFO - ROLLBACK
2024-10-23 12:25:55,092 - INFO - Update heavy product process completed for product ID 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a.
2024-10-23 12:25:55,093 - INFO - 127.0.0.1 - - [23/Oct/2024 12:25:55] "PUT /update-heavy-product HTTP/1.1" 200 -
2024-10-23 12:27:07,934 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_products.py', reloading
2024-10-23 12:27:08,083 - INFO -  * Restarting with stat
2024-10-23 12:27:08,893 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 12:27:08,909 - WARNING -  * Debugger is active!
2024-10-23 12:27:08,912 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 12:28:28,406 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_products.py', reloading
2024-10-23 12:28:28,510 - INFO -  * Restarting with stat
2024-10-23 12:28:29,440 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 12:28:29,460 - WARNING -  * Debugger is active!
2024-10-23 12:28:29,464 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 12:28:29,948 - INFO - BEGIN (implicit)
2024-10-23 12:28:29,953 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 12:28:29,954 - INFO - [generated in 0.00139s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 12:28:29,959 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 12:28:29,959 - INFO - Received update request data: {'id': '72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a', 'price': 850000.0, 'weight': 24000.0, 'dimensions': '9.6m x 2.9m x 3.5m', 'engine_type': 'Diesel', 'horsepower': 190.0, 'fuel_capacity': 350.0, 'operational_hours': 2500, 'warranty_period': 240, 'status': 'Unavailable', 'description': 'A reliable excavator for heavy-duty tasks.', 'image_url': 'http://example.com/images/cat_320d.jpg', 'employee_id': '06e4347e-4dfc-490a-a066-686942241770', 'email': 'komalsaikiran05@gmail.com', 'otp': '672972'}
2024-10-23 12:28:29,960 - INFO - Fetching product with ID: 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a
2024-10-23 12:28:29,963 - INFO - SELECT heavy_products.id AS heavy_products_id, heavy_products.name AS heavy_products_name, heavy_products.type AS heavy_products_type, heavy_products.brand AS heavy_products_brand, heavy_products.model AS heavy_products_model, heavy_products.year_of_manufacture AS heavy_products_year_of_manufacture, heavy_products.price AS heavy_products_price, heavy_products.weight AS heavy_products_weight, heavy_products.dimensions AS heavy_products_dimensions, heavy_products.engine_type AS heavy_products_engine_type, heavy_products.horsepower AS heavy_products_horsepower, heavy_products.fuel_capacity AS heavy_products_fuel_capacity, heavy_products.operational_hours AS heavy_products_operational_hours, heavy_products.warranty_period AS heavy_products_warranty_period, heavy_products.status AS heavy_products_status, heavy_products.description AS heavy_products_description, heavy_products.image_url AS heavy_products_image_url, heavy_products.created_at AS heavy_products_created_at, heavy_products.updated_at AS heavy_products_updated_at, heavy_products.employee_id AS heavy_products_employee_id, heavy_products.employee_name AS heavy_products_employee_name, heavy_products.employee_num AS heavy_products_employee_num 
FROM heavy_products 
WHERE heavy_products.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-23 12:28:29,963 - INFO - [generated in 0.00024s] {'id_1': '72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a', 'param_1': 1}
2024-10-23 12:28:29,965 - INFO - Product 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a found in the database.
2024-10-23 12:28:29,966 - DEBUG - Employee ID received for update: 06e4347e-4dfc-490a-a066-686942241770
2024-10-23 12:28:29,969 - INFO - UPDATE heavy_products SET updated_at=now(), employee_id=%(employee_id)s::UUID WHERE heavy_products.id = %(heavy_products_id)s::UUID
2024-10-23 12:28:29,969 - INFO - [generated in 0.00058s] {'employee_id': '06e4347e-4dfc-490a-a066-686942241770', 'heavy_products_id': UUID('72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a')}
2024-10-23 12:28:29,978 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-23 12:28:29,978 - INFO - [generated in 0.00095s] {'id_1': '06e4347e-4dfc-490a-a066-686942241770', 'param_1': 1}
2024-10-23 12:28:29,981 - INFO - Found employee: kiran kumar (ID: 06e4347e-4dfc-490a-a066-686942241770)
2024-10-23 12:28:29,981 - INFO - Updating product 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a with fields: {'price': 850000.0, 'weight': 24000.0, 'dimensions': '9.6m x 2.9m x 3.5m', 'engine_type': 'Diesel', 'horsepower': 190.0, 'fuel_capacity': 350.0, 'operational_hours': 2500, 'warranty_period': 240, 'status': 'Unavailable', 'description': 'A reliable excavator for heavy-duty tasks.', 'image_url': 'http://example.com/images/cat_320d.jpg', 'employee_id': '06e4347e-4dfc-490a-a066-686942241770', 'employee_name': 'kiran kumar', 'employee_num': 'EMP00123'}
2024-10-23 12:28:29,981 - INFO - COMMIT
2024-10-23 12:28:29,984 - INFO - Product 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a updated successfully in the database.
2024-10-23 12:28:30,057 - INFO - BEGIN (implicit)
2024-10-23 12:28:30,059 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-23 12:28:30,059 - INFO - [generated in 0.00080s] {'pk_1': UUID('06e4347e-4dfc-490a-a066-686942241770')}
2024-10-23 12:28:33,456 - INFO - Email notification sent for product 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a update.
2024-10-23 12:28:33,459 - INFO - SELECT heavy_products.id AS heavy_products_id, heavy_products.name AS heavy_products_name, heavy_products.type AS heavy_products_type, heavy_products.brand AS heavy_products_brand, heavy_products.model AS heavy_products_model, heavy_products.year_of_manufacture AS heavy_products_year_of_manufacture, heavy_products.price AS heavy_products_price, heavy_products.weight AS heavy_products_weight, heavy_products.dimensions AS heavy_products_dimensions, heavy_products.engine_type AS heavy_products_engine_type, heavy_products.horsepower AS heavy_products_horsepower, heavy_products.fuel_capacity AS heavy_products_fuel_capacity, heavy_products.operational_hours AS heavy_products_operational_hours, heavy_products.warranty_period AS heavy_products_warranty_period, heavy_products.status AS heavy_products_status, heavy_products.description AS heavy_products_description, heavy_products.image_url AS heavy_products_image_url, heavy_products.created_at AS heavy_products_created_at, heavy_products.updated_at AS heavy_products_updated_at, heavy_products.employee_id AS heavy_products_employee_id, heavy_products.employee_name AS heavy_products_employee_name, heavy_products.employee_num AS heavy_products_employee_num 
FROM heavy_products 
WHERE heavy_products.id = %(pk_1)s::UUID
2024-10-23 12:28:33,459 - INFO - [generated in 0.00058s] {'pk_1': UUID('72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a')}
2024-10-23 12:28:33,464 - INFO - ROLLBACK
2024-10-23 12:28:33,466 - ERROR - Unexpected error occurred: 'HeavyProduct' object has no attribute 'product_id'
2024-10-23 12:28:33,466 - INFO - Update heavy product process completed for product ID 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a.
2024-10-23 12:28:33,467 - INFO - 127.0.0.1 - - [23/Oct/2024 12:28:33] "[35m[1mPUT /update-heavy-product HTTP/1.1[0m" 500 -
2024-10-23 12:29:12,052 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_products.py', reloading
2024-10-23 12:29:12,228 - INFO -  * Restarting with stat
2024-10-23 12:29:13,295 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 12:29:13,312 - WARNING -  * Debugger is active!
2024-10-23 12:29:13,316 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 12:29:13,422 - INFO - BEGIN (implicit)
2024-10-23 12:29:13,425 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 12:29:13,425 - INFO - [generated in 0.00022s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 12:29:13,428 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 12:29:13,428 - INFO - Received update request data: {'id': '72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a', 'price': 850000.0, 'weight': 24000.0, 'dimensions': '9.6m x 2.9m x 3.5m', 'engine_type': 'Diesel', 'horsepower': 190.0, 'fuel_capacity': 350.0, 'operational_hours': 2500, 'warranty_period': 240, 'status': 'Unavailable', 'description': 'A reliable excavator for heavy-duty tasks.', 'image_url': 'http://example.com/images/cat_320d.jpg', 'employee_id': '06e4347e-4dfc-490a-a066-686942241770', 'email': 'komalsaikiran05@gmail.com', 'otp': '672972'}
2024-10-23 12:29:13,429 - INFO - Fetching product with ID: 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a
2024-10-23 12:29:13,431 - INFO - SELECT heavy_products.id AS heavy_products_id, heavy_products.name AS heavy_products_name, heavy_products.type AS heavy_products_type, heavy_products.brand AS heavy_products_brand, heavy_products.model AS heavy_products_model, heavy_products.year_of_manufacture AS heavy_products_year_of_manufacture, heavy_products.price AS heavy_products_price, heavy_products.weight AS heavy_products_weight, heavy_products.dimensions AS heavy_products_dimensions, heavy_products.engine_type AS heavy_products_engine_type, heavy_products.horsepower AS heavy_products_horsepower, heavy_products.fuel_capacity AS heavy_products_fuel_capacity, heavy_products.operational_hours AS heavy_products_operational_hours, heavy_products.warranty_period AS heavy_products_warranty_period, heavy_products.status AS heavy_products_status, heavy_products.description AS heavy_products_description, heavy_products.image_url AS heavy_products_image_url, heavy_products.created_at AS heavy_products_created_at, heavy_products.updated_at AS heavy_products_updated_at, heavy_products.employee_id AS heavy_products_employee_id, heavy_products.employee_name AS heavy_products_employee_name, heavy_products.employee_num AS heavy_products_employee_num 
FROM heavy_products 
WHERE heavy_products.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-23 12:29:13,431 - INFO - [generated in 0.00049s] {'id_1': '72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a', 'param_1': 1}
2024-10-23 12:29:13,434 - INFO - Product 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a found in the database.
2024-10-23 12:29:13,434 - DEBUG - Employee ID received for update: 06e4347e-4dfc-490a-a066-686942241770
2024-10-23 12:29:13,436 - INFO - UPDATE heavy_products SET updated_at=now(), employee_id=%(employee_id)s::UUID WHERE heavy_products.id = %(heavy_products_id)s::UUID
2024-10-23 12:29:13,436 - INFO - [generated in 0.00018s] {'employee_id': '06e4347e-4dfc-490a-a066-686942241770', 'heavy_products_id': UUID('72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a')}
2024-10-23 12:29:13,440 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-23 12:29:13,441 - INFO - [generated in 0.00026s] {'id_1': '06e4347e-4dfc-490a-a066-686942241770', 'param_1': 1}
2024-10-23 12:29:13,442 - INFO - Found employee: kiran kumar (ID: 06e4347e-4dfc-490a-a066-686942241770)
2024-10-23 12:29:13,442 - INFO - Updating product 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a with fields: {'price': 850000.0, 'weight': 24000.0, 'dimensions': '9.6m x 2.9m x 3.5m', 'engine_type': 'Diesel', 'horsepower': 190.0, 'fuel_capacity': 350.0, 'operational_hours': 2500, 'warranty_period': 240, 'status': 'Unavailable', 'description': 'A reliable excavator for heavy-duty tasks.', 'image_url': 'http://example.com/images/cat_320d.jpg', 'employee_id': '06e4347e-4dfc-490a-a066-686942241770', 'employee_name': 'kiran kumar', 'employee_num': 'EMP00123'}
2024-10-23 12:29:13,443 - INFO - COMMIT
2024-10-23 12:29:13,444 - INFO - Product 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a updated successfully in the database.
2024-10-23 12:29:13,521 - INFO - BEGIN (implicit)
2024-10-23 12:29:13,524 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-23 12:29:13,524 - INFO - [generated in 0.00079s] {'pk_1': UUID('06e4347e-4dfc-490a-a066-686942241770')}
2024-10-23 12:29:16,771 - INFO - Email notification sent for product 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a update.
2024-10-23 12:29:16,776 - INFO - SELECT heavy_products.id AS heavy_products_id, heavy_products.name AS heavy_products_name, heavy_products.type AS heavy_products_type, heavy_products.brand AS heavy_products_brand, heavy_products.model AS heavy_products_model, heavy_products.year_of_manufacture AS heavy_products_year_of_manufacture, heavy_products.price AS heavy_products_price, heavy_products.weight AS heavy_products_weight, heavy_products.dimensions AS heavy_products_dimensions, heavy_products.engine_type AS heavy_products_engine_type, heavy_products.horsepower AS heavy_products_horsepower, heavy_products.fuel_capacity AS heavy_products_fuel_capacity, heavy_products.operational_hours AS heavy_products_operational_hours, heavy_products.warranty_period AS heavy_products_warranty_period, heavy_products.status AS heavy_products_status, heavy_products.description AS heavy_products_description, heavy_products.image_url AS heavy_products_image_url, heavy_products.created_at AS heavy_products_created_at, heavy_products.updated_at AS heavy_products_updated_at, heavy_products.employee_id AS heavy_products_employee_id, heavy_products.employee_name AS heavy_products_employee_name, heavy_products.employee_num AS heavy_products_employee_num 
FROM heavy_products 
WHERE heavy_products.id = %(pk_1)s::UUID
2024-10-23 12:29:16,776 - INFO - [generated in 0.00091s] {'pk_1': UUID('72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a')}
2024-10-23 12:29:16,784 - INFO - ROLLBACK
2024-10-23 12:29:16,786 - INFO - Update heavy product process completed for product ID 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a.
2024-10-23 12:29:16,788 - INFO - 127.0.0.1 - - [23/Oct/2024 12:29:16] "PUT /update-heavy-product HTTP/1.1" 200 -
2024-10-23 12:34:59,573 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_products.py', reloading
2024-10-23 12:34:59,721 - INFO -  * Restarting with stat
2024-10-23 12:35:00,563 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 12:35:00,579 - WARNING -  * Debugger is active!
2024-10-23 12:35:00,583 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 12:35:33,953 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_products.py', reloading
2024-10-23 12:35:34,078 - INFO -  * Restarting with stat
2024-10-23 12:35:34,944 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 12:35:34,961 - WARNING -  * Debugger is active!
2024-10-23 12:35:34,966 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 12:36:39,624 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-23 12:36:39,746 - INFO -  * Restarting with stat
2024-10-23 12:36:40,825 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 12:36:40,842 - WARNING -  * Debugger is active!
2024-10-23 12:36:40,845 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 12:36:40,951 - INFO - BEGIN (implicit)
2024-10-23 12:36:40,955 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 12:36:40,955 - INFO - [generated in 0.00021s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 12:36:40,958 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 12:36:40,958 - INFO - Received update request data: {'id': '72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a', 'price': 850000.0, 'weight': 24000.0, 'dimensions': '9.6m x 2.9m x 3.5m', 'engine_type': 'Diesel', 'horsepower': 190.0, 'fuel_capacity': 350.0, 'operational_hours': 2500, 'warranty_period': 240, 'status': 'Unavailable', 'description': 'A reliable excavator for heavy-duty tasks.', 'image_url': 'http://example.com/images/cat_320d.jpg', 'employee_id': '06e4347e-4dfc-490a-a066-686942241770', 'email': 'komalsaikiran05@gmail.com', 'otp': '672972'}
2024-10-23 12:36:40,958 - INFO - Fetching product with ID: 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a
2024-10-23 12:36:40,960 - INFO - SELECT heavy_products.id AS heavy_products_id, heavy_products.name AS heavy_products_name, heavy_products.type AS heavy_products_type, heavy_products.brand AS heavy_products_brand, heavy_products.model AS heavy_products_model, heavy_products.year_of_manufacture AS heavy_products_year_of_manufacture, heavy_products.price AS heavy_products_price, heavy_products.weight AS heavy_products_weight, heavy_products.dimensions AS heavy_products_dimensions, heavy_products.engine_type AS heavy_products_engine_type, heavy_products.horsepower AS heavy_products_horsepower, heavy_products.fuel_capacity AS heavy_products_fuel_capacity, heavy_products.operational_hours AS heavy_products_operational_hours, heavy_products.warranty_period AS heavy_products_warranty_period, heavy_products.status AS heavy_products_status, heavy_products.description AS heavy_products_description, heavy_products.image_url AS heavy_products_image_url, heavy_products.created_at AS heavy_products_created_at, heavy_products.updated_at AS heavy_products_updated_at, heavy_products.employee_id AS heavy_products_employee_id, heavy_products.employee_name AS heavy_products_employee_name, heavy_products.employee_num AS heavy_products_employee_num 
FROM heavy_products 
WHERE heavy_products.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-23 12:36:40,960 - INFO - [generated in 0.00019s] {'id_1': '72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a', 'param_1': 1}
2024-10-23 12:36:40,962 - INFO - Product 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a found in the database.
2024-10-23 12:36:40,962 - DEBUG - Employee ID received for update: 06e4347e-4dfc-490a-a066-686942241770
2024-10-23 12:36:40,965 - INFO - UPDATE heavy_products SET updated_at=now(), employee_id=%(employee_id)s::UUID WHERE heavy_products.id = %(heavy_products_id)s::UUID
2024-10-23 12:36:40,965 - INFO - [generated in 0.00039s] {'employee_id': '06e4347e-4dfc-490a-a066-686942241770', 'heavy_products_id': UUID('72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a')}
2024-10-23 12:36:40,972 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-23 12:36:40,973 - INFO - [generated in 0.00026s] {'id_1': '06e4347e-4dfc-490a-a066-686942241770', 'param_1': 1}
2024-10-23 12:36:40,974 - INFO - Found employee: kiran kumar (ID: 06e4347e-4dfc-490a-a066-686942241770)
2024-10-23 12:36:40,974 - INFO - Updating product 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a with fields: {'price': 850000.0, 'weight': 24000.0, 'dimensions': '9.6m x 2.9m x 3.5m', 'engine_type': 'Diesel', 'horsepower': 190.0, 'fuel_capacity': 350.0, 'operational_hours': 2500, 'warranty_period': 240, 'status': 'Unavailable', 'description': 'A reliable excavator for heavy-duty tasks.', 'image_url': 'http://example.com/images/cat_320d.jpg', 'employee_id': '06e4347e-4dfc-490a-a066-686942241770', 'employee_name': 'kiran kumar', 'employee_num': 'EMP00123'}
2024-10-23 12:36:40,975 - INFO - COMMIT
2024-10-23 12:36:40,976 - INFO - Product 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a updated successfully in the database.
2024-10-23 12:36:41,051 - INFO - BEGIN (implicit)
2024-10-23 12:36:41,053 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-23 12:36:41,053 - INFO - [generated in 0.00037s] {'pk_1': UUID('06e4347e-4dfc-490a-a066-686942241770')}
2024-10-23 12:36:44,757 - INFO - Email notification sent for product 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a update.
2024-10-23 12:36:44,764 - INFO - SELECT heavy_products.id AS heavy_products_id, heavy_products.name AS heavy_products_name, heavy_products.type AS heavy_products_type, heavy_products.brand AS heavy_products_brand, heavy_products.model AS heavy_products_model, heavy_products.year_of_manufacture AS heavy_products_year_of_manufacture, heavy_products.price AS heavy_products_price, heavy_products.weight AS heavy_products_weight, heavy_products.dimensions AS heavy_products_dimensions, heavy_products.engine_type AS heavy_products_engine_type, heavy_products.horsepower AS heavy_products_horsepower, heavy_products.fuel_capacity AS heavy_products_fuel_capacity, heavy_products.operational_hours AS heavy_products_operational_hours, heavy_products.warranty_period AS heavy_products_warranty_period, heavy_products.status AS heavy_products_status, heavy_products.description AS heavy_products_description, heavy_products.image_url AS heavy_products_image_url, heavy_products.created_at AS heavy_products_created_at, heavy_products.updated_at AS heavy_products_updated_at, heavy_products.employee_id AS heavy_products_employee_id, heavy_products.employee_name AS heavy_products_employee_name, heavy_products.employee_num AS heavy_products_employee_num 
FROM heavy_products 
WHERE heavy_products.id = %(pk_1)s::UUID
2024-10-23 12:36:44,765 - INFO - [generated in 0.00194s] {'pk_1': UUID('72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a')}
2024-10-23 12:36:44,772 - INFO - ROLLBACK
2024-10-23 12:36:44,772 - INFO - Update heavy product process completed for product ID 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a.
2024-10-23 12:36:44,773 - INFO - 127.0.0.1 - - [23/Oct/2024 12:36:44] "PUT /update-heavy-product HTTP/1.1" 200 -
2024-10-23 12:38:01,084 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-23 12:38:01,239 - INFO -  * Restarting with stat
2024-10-23 12:38:02,260 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 12:38:02,276 - WARNING -  * Debugger is active!
2024-10-23 12:38:02,281 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 12:38:02,383 - INFO - BEGIN (implicit)
2024-10-23 12:38:02,387 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 12:38:02,387 - INFO - [generated in 0.00026s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 12:38:02,390 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 12:38:02,391 - INFO - Received update request data: {'id': '72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a', 'price': 850000.0, 'weight': 24000.0, 'dimensions': '9.6m x 2.9m x 3.5m', 'engine_type': 'Diesel', 'horsepower': 190.0, 'fuel_capacity': 350.0, 'operational_hours': 2500, 'warranty_period': 240, 'status': 'Unavailable', 'description': 'A reliable excavator for heavy-duty tasks.', 'image_url': 'http://example.com/images/cat_320d.jpg', 'employee_id': '06e4347e-4dfc-490a-a066-686942241770', 'email': 'komalsaikiran05@gmail.com', 'otp': '672972'}
2024-10-23 12:38:02,391 - INFO - Fetching product with ID: 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a
2024-10-23 12:38:02,395 - INFO - SELECT heavy_products.id AS heavy_products_id, heavy_products.name AS heavy_products_name, heavy_products.type AS heavy_products_type, heavy_products.brand AS heavy_products_brand, heavy_products.model AS heavy_products_model, heavy_products.year_of_manufacture AS heavy_products_year_of_manufacture, heavy_products.price AS heavy_products_price, heavy_products.weight AS heavy_products_weight, heavy_products.dimensions AS heavy_products_dimensions, heavy_products.engine_type AS heavy_products_engine_type, heavy_products.horsepower AS heavy_products_horsepower, heavy_products.fuel_capacity AS heavy_products_fuel_capacity, heavy_products.operational_hours AS heavy_products_operational_hours, heavy_products.warranty_period AS heavy_products_warranty_period, heavy_products.status AS heavy_products_status, heavy_products.description AS heavy_products_description, heavy_products.image_url AS heavy_products_image_url, heavy_products.created_at AS heavy_products_created_at, heavy_products.updated_at AS heavy_products_updated_at, heavy_products.employee_id AS heavy_products_employee_id, heavy_products.employee_name AS heavy_products_employee_name, heavy_products.employee_num AS heavy_products_employee_num 
FROM heavy_products 
WHERE heavy_products.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-23 12:38:02,395 - INFO - [generated in 0.00035s] {'id_1': '72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a', 'param_1': 1}
2024-10-23 12:38:02,399 - INFO - Product 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a found in the database.
2024-10-23 12:38:02,399 - DEBUG - Employee ID received for update: 06e4347e-4dfc-490a-a066-686942241770
2024-10-23 12:38:02,401 - INFO - UPDATE heavy_products SET updated_at=now(), employee_id=%(employee_id)s::UUID WHERE heavy_products.id = %(heavy_products_id)s::UUID
2024-10-23 12:38:02,401 - INFO - [generated in 0.00032s] {'employee_id': '06e4347e-4dfc-490a-a066-686942241770', 'heavy_products_id': UUID('72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a')}
2024-10-23 12:38:02,405 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-23 12:38:02,405 - INFO - [generated in 0.00030s] {'id_1': '06e4347e-4dfc-490a-a066-686942241770', 'param_1': 1}
2024-10-23 12:38:02,409 - INFO - Found employee: kiran kumar (ID: 06e4347e-4dfc-490a-a066-686942241770)
2024-10-23 12:38:02,409 - INFO - Updating product 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a with fields: {'price': 850000.0, 'weight': 24000.0, 'dimensions': '9.6m x 2.9m x 3.5m', 'engine_type': 'Diesel', 'horsepower': 190.0, 'fuel_capacity': 350.0, 'operational_hours': 2500, 'warranty_period': 240, 'status': 'Unavailable', 'description': 'A reliable excavator for heavy-duty tasks.', 'image_url': 'http://example.com/images/cat_320d.jpg', 'employee_id': '06e4347e-4dfc-490a-a066-686942241770', 'employee_name': 'kiran kumar', 'employee_num': 'EMP00123'}
2024-10-23 12:38:02,410 - INFO - COMMIT
2024-10-23 12:38:02,412 - INFO - Product 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a updated successfully in the database.
2024-10-23 12:38:02,484 - INFO - BEGIN (implicit)
2024-10-23 12:38:02,487 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-23 12:38:02,487 - INFO - [generated in 0.00051s] {'pk_1': UUID('06e4347e-4dfc-490a-a066-686942241770')}
2024-10-23 12:38:06,286 - INFO - Email notification sent for product 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a update.
2024-10-23 12:38:06,288 - INFO - SELECT heavy_products.id AS heavy_products_id, heavy_products.name AS heavy_products_name, heavy_products.type AS heavy_products_type, heavy_products.brand AS heavy_products_brand, heavy_products.model AS heavy_products_model, heavy_products.year_of_manufacture AS heavy_products_year_of_manufacture, heavy_products.price AS heavy_products_price, heavy_products.weight AS heavy_products_weight, heavy_products.dimensions AS heavy_products_dimensions, heavy_products.engine_type AS heavy_products_engine_type, heavy_products.horsepower AS heavy_products_horsepower, heavy_products.fuel_capacity AS heavy_products_fuel_capacity, heavy_products.operational_hours AS heavy_products_operational_hours, heavy_products.warranty_period AS heavy_products_warranty_period, heavy_products.status AS heavy_products_status, heavy_products.description AS heavy_products_description, heavy_products.image_url AS heavy_products_image_url, heavy_products.created_at AS heavy_products_created_at, heavy_products.updated_at AS heavy_products_updated_at, heavy_products.employee_id AS heavy_products_employee_id, heavy_products.employee_name AS heavy_products_employee_name, heavy_products.employee_num AS heavy_products_employee_num 
FROM heavy_products 
WHERE heavy_products.id = %(pk_1)s::UUID
2024-10-23 12:38:06,288 - INFO - [generated in 0.00036s] {'pk_1': UUID('72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a')}
2024-10-23 12:38:06,293 - INFO - ROLLBACK
2024-10-23 12:38:06,293 - INFO - Update heavy product process completed for product ID 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a.
2024-10-23 12:38:06,294 - INFO - 127.0.0.1 - - [23/Oct/2024 12:38:06] "PUT /update-heavy-product HTTP/1.1" 200 -
2024-10-23 12:38:18,852 - INFO - BEGIN (implicit)
2024-10-23 12:38:18,852 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 12:38:18,852 - INFO - [cached since 16.47s ago] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 12:38:18,854 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 12:38:18,855 - INFO - Received update request data: {'id': '72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a', 'price': 850000.0, 'weight': 24000.0, 'dimensions': '9.6m x 2.9m x 3.5m', 'engine_type': 'Diesel', 'horsepower': 190.0, 'fuel_capacity': 350.0, 'operational_hours': 2500, 'warranty_period': 240, 'status': 'Unavailable', 'description': 'A reliable excavator for heavy-duty tasks.', 'image_url': 'http://example.com/images/cat_320d.jpg', 'employee_id': '06e4347e-4dfc-490a-a066-686942241770', 'email': 'komalsaikiran05@gmail.com', 'otp': '672972'}
2024-10-23 12:38:18,855 - INFO - Fetching product with ID: 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a
2024-10-23 12:38:18,855 - INFO - SELECT heavy_products.id AS heavy_products_id, heavy_products.name AS heavy_products_name, heavy_products.type AS heavy_products_type, heavy_products.brand AS heavy_products_brand, heavy_products.model AS heavy_products_model, heavy_products.year_of_manufacture AS heavy_products_year_of_manufacture, heavy_products.price AS heavy_products_price, heavy_products.weight AS heavy_products_weight, heavy_products.dimensions AS heavy_products_dimensions, heavy_products.engine_type AS heavy_products_engine_type, heavy_products.horsepower AS heavy_products_horsepower, heavy_products.fuel_capacity AS heavy_products_fuel_capacity, heavy_products.operational_hours AS heavy_products_operational_hours, heavy_products.warranty_period AS heavy_products_warranty_period, heavy_products.status AS heavy_products_status, heavy_products.description AS heavy_products_description, heavy_products.image_url AS heavy_products_image_url, heavy_products.created_at AS heavy_products_created_at, heavy_products.updated_at AS heavy_products_updated_at, heavy_products.employee_id AS heavy_products_employee_id, heavy_products.employee_name AS heavy_products_employee_name, heavy_products.employee_num AS heavy_products_employee_num 
FROM heavy_products 
WHERE heavy_products.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-23 12:38:18,855 - INFO - [cached since 16.46s ago] {'id_1': '72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a', 'param_1': 1}
2024-10-23 12:38:18,858 - INFO - Product 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a found in the database.
2024-10-23 12:38:18,858 - DEBUG - Employee ID received for update: 06e4347e-4dfc-490a-a066-686942241770
2024-10-23 12:38:18,859 - INFO - UPDATE heavy_products SET updated_at=now(), employee_id=%(employee_id)s::UUID WHERE heavy_products.id = %(heavy_products_id)s::UUID
2024-10-23 12:38:18,859 - INFO - [cached since 16.46s ago] {'employee_id': '06e4347e-4dfc-490a-a066-686942241770', 'heavy_products_id': UUID('72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a')}
2024-10-23 12:38:18,860 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-23 12:38:18,860 - INFO - [cached since 16.46s ago] {'id_1': '06e4347e-4dfc-490a-a066-686942241770', 'param_1': 1}
2024-10-23 12:38:18,861 - INFO - Found employee: kiran kumar (ID: 06e4347e-4dfc-490a-a066-686942241770)
2024-10-23 12:38:18,861 - INFO - Updating product 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a with fields: {'price': 850000.0, 'weight': 24000.0, 'dimensions': '9.6m x 2.9m x 3.5m', 'engine_type': 'Diesel', 'horsepower': 190.0, 'fuel_capacity': 350.0, 'operational_hours': 2500, 'warranty_period': 240, 'status': 'Unavailable', 'description': 'A reliable excavator for heavy-duty tasks.', 'image_url': 'http://example.com/images/cat_320d.jpg', 'employee_id': '06e4347e-4dfc-490a-a066-686942241770', 'employee_name': 'kiran kumar', 'employee_num': 'EMP00123'}
2024-10-23 12:38:18,862 - INFO - COMMIT
2024-10-23 12:38:18,864 - INFO - Product 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a updated successfully in the database.
2024-10-23 12:38:18,918 - INFO - BEGIN (implicit)
2024-10-23 12:38:18,919 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-23 12:38:18,919 - INFO - [cached since 16.43s ago] {'pk_1': UUID('06e4347e-4dfc-490a-a066-686942241770')}
2024-10-23 12:38:23,267 - INFO - Email notification sent for product 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a update.
2024-10-23 12:38:23,269 - INFO - SELECT heavy_products.id AS heavy_products_id, heavy_products.name AS heavy_products_name, heavy_products.type AS heavy_products_type, heavy_products.brand AS heavy_products_brand, heavy_products.model AS heavy_products_model, heavy_products.year_of_manufacture AS heavy_products_year_of_manufacture, heavy_products.price AS heavy_products_price, heavy_products.weight AS heavy_products_weight, heavy_products.dimensions AS heavy_products_dimensions, heavy_products.engine_type AS heavy_products_engine_type, heavy_products.horsepower AS heavy_products_horsepower, heavy_products.fuel_capacity AS heavy_products_fuel_capacity, heavy_products.operational_hours AS heavy_products_operational_hours, heavy_products.warranty_period AS heavy_products_warranty_period, heavy_products.status AS heavy_products_status, heavy_products.description AS heavy_products_description, heavy_products.image_url AS heavy_products_image_url, heavy_products.created_at AS heavy_products_created_at, heavy_products.updated_at AS heavy_products_updated_at, heavy_products.employee_id AS heavy_products_employee_id, heavy_products.employee_name AS heavy_products_employee_name, heavy_products.employee_num AS heavy_products_employee_num 
FROM heavy_products 
WHERE heavy_products.id = %(pk_1)s::UUID
2024-10-23 12:38:23,269 - INFO - [cached since 16.98s ago] {'pk_1': UUID('72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a')}
2024-10-23 12:38:23,276 - INFO - ROLLBACK
2024-10-23 12:38:23,278 - INFO - Update heavy product process completed for product ID 72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a.
2024-10-23 12:38:23,279 - INFO - 127.0.0.1 - - [23/Oct/2024 12:38:23] "PUT /update-heavy-product HTTP/1.1" 200 -
2024-10-23 12:43:42,037 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-23 12:43:42,217 - INFO -  * Restarting with stat
2024-10-23 12:43:43,551 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 12:43:43,570 - WARNING -  * Debugger is active!
2024-10-23 12:43:43,574 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 12:44:47,476 - INFO - Flask application has stopped.
2024-10-23 12:44:47,597 - INFO - Flask application has stopped.
2024-10-23 12:44:51,328 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-23 12:44:51,361 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-23 12:44:51,361 - INFO - [33mPress CTRL+C to quit[0m
2024-10-23 12:44:51,362 - INFO -  * Restarting with stat
2024-10-23 12:44:52,269 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-23 12:44:52,303 - WARNING -  * Debugger is active!
2024-10-23 12:44:52,310 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 12:44:56,254 - INFO - BEGIN (implicit)
2024-10-23 12:44:56,255 - INFO - INSERT INTO otp_store (email, otp, timestamp) VALUES (%(email)s, %(otp)s, %(timestamp)s) RETURNING otp_store.id
2024-10-23 12:44:56,255 - INFO - [generated in 0.00019s] {'email': 'komalsaikiran05@gmail.com', 'otp': '131217', 'timestamp': datetime.datetime(2024, 10, 23, 12, 44, 56, 172426)}
2024-10-23 12:44:56,263 - INFO - COMMIT
2024-10-23 12:44:56,265 - INFO - Generated OTP for komalsaikiran05@gmail.com: 131217
2024-10-23 12:44:59,113 - INFO - End of generate_otp function for email=komalsaikiran05@gmail.com
2024-10-23 12:44:59,113 - INFO - 127.0.0.1 - - [23/Oct/2024 12:44:59] "POST /generate-otp HTTP/1.1" 200 -
2024-10-23 12:45:16,106 - INFO - Flask application has stopped.
2024-10-23 12:45:16,214 - INFO - Flask application has stopped.
2024-10-23 12:45:20,714 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 12:45:20,755 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-23 12:45:20,755 - INFO - [33mPress CTRL+C to quit[0m
2024-10-23 12:45:20,757 - INFO -  * Restarting with stat
2024-10-23 12:45:21,776 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 12:45:21,797 - WARNING -  * Debugger is active!
2024-10-23 12:45:21,801 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 12:45:24,988 - INFO - BEGIN (implicit)
2024-10-23 12:45:24,991 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 12:45:24,993 - INFO - [generated in 0.00033s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 12:45:24,995 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 12:45:24,995 - INFO - Entered /add-heavy-product endpoint. Request method: POST
2024-10-23 12:45:24,996 - INFO - Extracting data from request.
2024-10-23 12:45:24,996 - DEBUG - Employee ID received: 06e4347e-4dfc-490a-a066-686942241770
2024-10-23 12:45:24,998 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-23 12:45:24,998 - INFO - [generated in 0.00031s] {'id_1': '06e4347e-4dfc-490a-a066-686942241770', 'param_1': 1}
2024-10-23 12:45:25,001 - INFO - Found employee: kiran kumar (ID: 06e4347e-4dfc-490a-a066-686942241770)
2024-10-23 12:45:25,002 - INFO - New HeavyProduct instance created.
2024-10-23 12:45:25,004 - INFO - INSERT INTO heavy_products (id, name, type, brand, model, year_of_manufacture, price, weight, dimensions, engine_type, horsepower, fuel_capacity, operational_hours, warranty_period, status, description, image_url, employee_id, employee_name, employee_num) VALUES (uuid_generate_v4(), %(name)s, %(type)s, %(brand)s, %(model)s, %(year_of_manufacture)s, %(price)s, %(weight)s, %(dimensions)s, %(engine_type)s, %(horsepower)s, %(fuel_capacity)s, %(operational_hours)s, %(warranty_period)s, %(status)s, %(description)s, %(image_url)s, %(employee_id)s::UUID, %(employee_name)s, %(employee_num)s) RETURNING heavy_products.id, heavy_products.created_at, heavy_products.updated_at
2024-10-23 12:45:25,005 - INFO - [generated in 0.00028s] {'name': 'CAT 320D', 'type': 'Excavator', 'brand': 'Caterpillar', 'model': '320D', 'year_of_manufacture': 2019, 'price': 85000.0, 'weight': 24000.0, 'dimensions': '9.2m x 2.8m x 3.0m', 'engine_type': 'Diesel', 'horsepower': 150, 'fuel_capacity': 300.0, 'operational_hours': 1500, 'warranty_period': 24, 'status': 'Available', 'description': 'A reliable excavator for heavy-duty tasks.', 'image_url': 'http://example.com/images/cat_320d.jpg', 'employee_id': UUID('06e4347e-4dfc-490a-a066-686942241770'), 'employee_name': 'kiran kumar', 'employee_num': 'EMP00123'}
2024-10-23 12:45:25,037 - INFO - COMMIT
2024-10-23 12:45:25,228 - INFO - BEGIN (implicit)
2024-10-23 12:45:25,231 - INFO - SELECT heavy_products.id AS heavy_products_id, heavy_products.name AS heavy_products_name, heavy_products.type AS heavy_products_type, heavy_products.brand AS heavy_products_brand, heavy_products.model AS heavy_products_model, heavy_products.year_of_manufacture AS heavy_products_year_of_manufacture, heavy_products.price AS heavy_products_price, heavy_products.weight AS heavy_products_weight, heavy_products.dimensions AS heavy_products_dimensions, heavy_products.engine_type AS heavy_products_engine_type, heavy_products.horsepower AS heavy_products_horsepower, heavy_products.fuel_capacity AS heavy_products_fuel_capacity, heavy_products.operational_hours AS heavy_products_operational_hours, heavy_products.warranty_period AS heavy_products_warranty_period, heavy_products.status AS heavy_products_status, heavy_products.description AS heavy_products_description, heavy_products.image_url AS heavy_products_image_url, heavy_products.created_at AS heavy_products_created_at, heavy_products.updated_at AS heavy_products_updated_at, heavy_products.employee_id AS heavy_products_employee_id, heavy_products.employee_name AS heavy_products_employee_name, heavy_products.employee_num AS heavy_products_employee_num 
FROM heavy_products 
WHERE heavy_products.id = %(pk_1)s::UUID
2024-10-23 12:45:25,232 - INFO - [generated in 0.00052s] {'pk_1': UUID('6d1a8d74-685a-4b20-b10f-9a7598ff58b7')}
2024-10-23 12:45:25,237 - INFO - New heavy product added: CAT 320D (ID: 6d1a8d74-685a-4b20-b10f-9a7598ff58b7)
2024-10-23 12:45:25,241 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-23 12:45:25,241 - INFO - [generated in 0.00028s] {'pk_1': UUID('06e4347e-4dfc-490a-a066-686942241770')}
2024-10-23 12:45:28,717 - INFO - Email notification sent successfully with email subject: New Heavy Product Added and body: 
    Dear Admin,

    A new heavy product has been added to the inventory. Here are the details:

    **Product Details:**
    - **Product ID:** 6d1a8d74-685a-4b20-b10f-9a7598ff58b7
    - **Name:** CAT 320D
    - **Type:** Excavator
    - **Brand:** Caterpillar
    - **Model:** 320D
    - **Year of Manufacture:** 2019
    - **Price:** $85,000.00
    - **Weight:** 24000.00 kg
    - **Dimensions:** 9.2m x 2.8m x 3.0m
    - **Engine Type:** Diesel
    - **Horsepower:** 150.00
    - **Fuel Capacity:** 300.00 liters
    - **Operational Hours:** 1500
    - **Warranty Period:** 24 months
    - **Status:** Available
    - **Description:** A reliable excavator for heavy-duty tasks.
    - **Image URL:** http://example.com/images/cat_320d.jpg
    - **Created At:** 2024-10-23T12:45:24.993549
    - **Updated At:** 2024-10-23T12:45:24.993549

    **Employee Details:**
    - **Employee ID:** 06e4347e-4dfc-490a-a066-686942241770
    - **Name:** kiran kumar
    - **Employee Number:** EMP00123

    Please review the new product and update the inventory as necessary.

    Best Regards,
    Inventory Management System
    .
2024-10-23 12:45:28,717 - INFO - ROLLBACK
2024-10-23 12:45:28,718 - INFO - Database session closed.
2024-10-23 12:45:28,718 - INFO - 127.0.0.1 - - [23/Oct/2024 12:45:28] "[35m[1mPOST /add-heavy-product HTTP/1.1[0m" 201 -
2024-10-23 12:45:30,714 - INFO - BEGIN (implicit)
2024-10-23 12:45:30,714 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 12:45:30,715 - INFO - [cached since 5.723s ago] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 12:45:30,717 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 12:45:30,717 - INFO - Entered /add-heavy-product endpoint. Request method: POST
2024-10-23 12:45:30,717 - INFO - Extracting data from request.
2024-10-23 12:45:30,717 - DEBUG - Employee ID received: 06e4347e-4dfc-490a-a066-686942241770
2024-10-23 12:45:30,718 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-23 12:45:30,718 - INFO - [cached since 5.72s ago] {'id_1': '06e4347e-4dfc-490a-a066-686942241770', 'param_1': 1}
2024-10-23 12:45:30,721 - INFO - Found employee: kiran kumar (ID: 06e4347e-4dfc-490a-a066-686942241770)
2024-10-23 12:45:30,721 - INFO - New HeavyProduct instance created.
2024-10-23 12:45:30,722 - INFO - INSERT INTO heavy_products (id, name, type, brand, model, year_of_manufacture, price, weight, dimensions, engine_type, horsepower, fuel_capacity, operational_hours, warranty_period, status, description, image_url, employee_id, employee_name, employee_num) VALUES (uuid_generate_v4(), %(name)s, %(type)s, %(brand)s, %(model)s, %(year_of_manufacture)s, %(price)s, %(weight)s, %(dimensions)s, %(engine_type)s, %(horsepower)s, %(fuel_capacity)s, %(operational_hours)s, %(warranty_period)s, %(status)s, %(description)s, %(image_url)s, %(employee_id)s::UUID, %(employee_name)s, %(employee_num)s) RETURNING heavy_products.id, heavy_products.created_at, heavy_products.updated_at
2024-10-23 12:45:30,722 - INFO - [cached since 5.718s ago] {'name': 'CAT 320D', 'type': 'Excavator', 'brand': 'Caterpillar', 'model': '320D', 'year_of_manufacture': 2019, 'price': 85000.0, 'weight': 24000.0, 'dimensions': '9.2m x 2.8m x 3.0m', 'engine_type': 'Diesel', 'horsepower': 150, 'fuel_capacity': 300.0, 'operational_hours': 1500, 'warranty_period': 24, 'status': 'Available', 'description': 'A reliable excavator for heavy-duty tasks.', 'image_url': 'http://example.com/images/cat_320d.jpg', 'employee_id': UUID('06e4347e-4dfc-490a-a066-686942241770'), 'employee_name': 'kiran kumar', 'employee_num': 'EMP00123'}
2024-10-23 12:45:30,736 - INFO - COMMIT
2024-10-23 12:45:30,799 - INFO - BEGIN (implicit)
2024-10-23 12:45:30,800 - INFO - SELECT heavy_products.id AS heavy_products_id, heavy_products.name AS heavy_products_name, heavy_products.type AS heavy_products_type, heavy_products.brand AS heavy_products_brand, heavy_products.model AS heavy_products_model, heavy_products.year_of_manufacture AS heavy_products_year_of_manufacture, heavy_products.price AS heavy_products_price, heavy_products.weight AS heavy_products_weight, heavy_products.dimensions AS heavy_products_dimensions, heavy_products.engine_type AS heavy_products_engine_type, heavy_products.horsepower AS heavy_products_horsepower, heavy_products.fuel_capacity AS heavy_products_fuel_capacity, heavy_products.operational_hours AS heavy_products_operational_hours, heavy_products.warranty_period AS heavy_products_warranty_period, heavy_products.status AS heavy_products_status, heavy_products.description AS heavy_products_description, heavy_products.image_url AS heavy_products_image_url, heavy_products.created_at AS heavy_products_created_at, heavy_products.updated_at AS heavy_products_updated_at, heavy_products.employee_id AS heavy_products_employee_id, heavy_products.employee_name AS heavy_products_employee_name, heavy_products.employee_num AS heavy_products_employee_num 
FROM heavy_products 
WHERE heavy_products.id = %(pk_1)s::UUID
2024-10-23 12:45:30,800 - INFO - [cached since 5.568s ago] {'pk_1': UUID('f28ac774-1b40-4c64-a9f4-d799f709bcee')}
2024-10-23 12:45:30,802 - INFO - New heavy product added: CAT 320D (ID: f28ac774-1b40-4c64-a9f4-d799f709bcee)
2024-10-23 12:45:30,803 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-23 12:45:30,803 - INFO - [cached since 5.562s ago] {'pk_1': UUID('06e4347e-4dfc-490a-a066-686942241770')}
2024-10-23 12:45:34,138 - INFO - Email notification sent successfully with email subject: New Heavy Product Added and body: 
    Dear Admin,

    A new heavy product has been added to the inventory. Here are the details:

    **Product Details:**
    - **Product ID:** f28ac774-1b40-4c64-a9f4-d799f709bcee
    - **Name:** CAT 320D
    - **Type:** Excavator
    - **Brand:** Caterpillar
    - **Model:** 320D
    - **Year of Manufacture:** 2019
    - **Price:** $85,000.00
    - **Weight:** 24000.00 kg
    - **Dimensions:** 9.2m x 2.8m x 3.0m
    - **Engine Type:** Diesel
    - **Horsepower:** 150.00
    - **Fuel Capacity:** 300.00 liters
    - **Operational Hours:** 1500
    - **Warranty Period:** 24 months
    - **Status:** Available
    - **Description:** A reliable excavator for heavy-duty tasks.
    - **Image URL:** http://example.com/images/cat_320d.jpg
    - **Created At:** 2024-10-23T12:45:30.715892
    - **Updated At:** 2024-10-23T12:45:30.715892

    **Employee Details:**
    - **Employee ID:** 06e4347e-4dfc-490a-a066-686942241770
    - **Name:** kiran kumar
    - **Employee Number:** EMP00123

    Please review the new product and update the inventory as necessary.

    Best Regards,
    Inventory Management System
    .
2024-10-23 12:45:34,140 - INFO - ROLLBACK
2024-10-23 12:45:34,141 - INFO - Database session closed.
2024-10-23 12:45:34,142 - INFO - 127.0.0.1 - - [23/Oct/2024 12:45:34] "[35m[1mPOST /add-heavy-product HTTP/1.1[0m" 201 -
2024-10-23 12:48:38,573 - INFO - 127.0.0.1 - - [23/Oct/2024 12:48:38] "[31m[1mDELETE /delete-heavy-product?id=6d1a8d74-685a-4b20-b10f-9a7598ff58b7 HTTP/1.1[0m" 415 -
2024-10-23 12:49:36,290 - ERROR - OTP validation failed: Email and OTP are required.
2024-10-23 12:49:36,290 - INFO - 127.0.0.1 - - [23/Oct/2024 12:49:36] "[31m[1mDELETE /delete-heavy-product?id=6d1a8d74-685a-4b20-b10f-9a7598ff58b7 HTTP/1.1[0m" 400 -
2024-10-23 12:49:49,677 - ERROR - OTP validation failed: Email and OTP are required.
2024-10-23 12:49:49,678 - INFO - 127.0.0.1 - - [23/Oct/2024 12:49:49] "[31m[1mDELETE /delete-heavy-product?id=6d1a8d74-685a-4b20-b10f-9a7598ff58b7&email&otp HTTP/1.1[0m" 400 -
2024-10-23 12:50:18,962 - INFO - 127.0.0.1 - - [23/Oct/2024 12:50:18] "[31m[1mDELETE /delete-heavy-product?id=6d1a8d74-685a-4b20-b10f-9a7598ff58b7&email=komalsaikiran05@gmail.com&otp=131217 HTTP/1.1[0m" 415 -
2024-10-23 12:50:30,447 - ERROR - OTP validation failed: Email and OTP are required.
2024-10-23 12:50:30,448 - INFO - 127.0.0.1 - - [23/Oct/2024 12:50:30] "[31m[1mDELETE /delete-heavy-product?id=6d1a8d74-685a-4b20-b10f-9a7598ff58b7&email=komalsaikiran05@gmail.com&otp= HTTP/1.1[0m" 400 -
2024-10-23 12:50:35,869 - ERROR - OTP validation failed: Email and OTP are required.
2024-10-23 12:50:35,870 - INFO - 127.0.0.1 - - [23/Oct/2024 12:50:35] "[31m[1mDELETE /delete-heavy-product?id=6d1a8d74-685a-4b20-b10f-9a7598ff58b7&email=komalsaikiran05@gmail.com&otp=131217 HTTP/1.1[0m" 400 -
2024-10-23 12:51:07,160 - INFO - BEGIN (implicit)
2024-10-23 12:51:07,161 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 12:51:07,161 - INFO - [cached since 342.2s ago] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 12:51:07,166 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 12:51:07,166 - INFO - Fetching product with ID: 6d1a8d74-685a-4b20-b10f-9a7598ff58b7
2024-10-23 12:51:07,168 - INFO - SELECT heavy_products.id AS heavy_products_id, heavy_products.name AS heavy_products_name, heavy_products.type AS heavy_products_type, heavy_products.brand AS heavy_products_brand, heavy_products.model AS heavy_products_model, heavy_products.year_of_manufacture AS heavy_products_year_of_manufacture, heavy_products.price AS heavy_products_price, heavy_products.weight AS heavy_products_weight, heavy_products.dimensions AS heavy_products_dimensions, heavy_products.engine_type AS heavy_products_engine_type, heavy_products.horsepower AS heavy_products_horsepower, heavy_products.fuel_capacity AS heavy_products_fuel_capacity, heavy_products.operational_hours AS heavy_products_operational_hours, heavy_products.warranty_period AS heavy_products_warranty_period, heavy_products.status AS heavy_products_status, heavy_products.description AS heavy_products_description, heavy_products.image_url AS heavy_products_image_url, heavy_products.created_at AS heavy_products_created_at, heavy_products.updated_at AS heavy_products_updated_at, heavy_products.employee_id AS heavy_products_employee_id, heavy_products.employee_name AS heavy_products_employee_name, heavy_products.employee_num AS heavy_products_employee_num 
FROM heavy_products 
WHERE heavy_products.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-23 12:51:07,168 - INFO - [generated in 0.00081s] {'id_1': '6d1a8d74-685a-4b20-b10f-9a7598ff58b7', 'param_1': 1}
2024-10-23 12:51:07,172 - INFO - Deleting product 6d1a8d74-685a-4b20-b10f-9a7598ff58b7 from the database.
2024-10-23 12:51:07,175 - INFO - DELETE FROM heavy_products WHERE heavy_products.id = %(id)s::UUID
2024-10-23 12:51:07,175 - INFO - [generated in 0.00030s] {'id': UUID('6d1a8d74-685a-4b20-b10f-9a7598ff58b7')}
2024-10-23 12:51:07,177 - INFO - COMMIT
2024-10-23 12:51:07,178 - INFO - Product 6d1a8d74-685a-4b20-b10f-9a7598ff58b7 deleted successfully from the database.
2024-10-23 12:51:10,410 - INFO - Email notification sent for product 6d1a8d74-685a-4b20-b10f-9a7598ff58b7 deletion.
2024-10-23 12:51:10,411 - INFO - Delete heavy product process completed for product ID 6d1a8d74-685a-4b20-b10f-9a7598ff58b7.
2024-10-23 12:51:10,412 - INFO - 127.0.0.1 - - [23/Oct/2024 12:51:10] "DELETE /delete-heavy-product?id=6d1a8d74-685a-4b20-b10f-9a7598ff58b7 HTTP/1.1" 200 -
2024-10-23 14:16:17,521 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\tables.py', reloading
2024-10-23 14:16:17,920 - INFO -  * Restarting with stat
2024-10-23 14:16:19,668 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 14:16:19,728 - WARNING -  * Debugger is active!
2024-10-23 14:16:19,736 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 14:18:39,834 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\tables.py', reloading
2024-10-23 14:18:40,059 - INFO -  * Restarting with stat
2024-10-23 14:18:41,202 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 14:18:41,218 - WARNING -  * Debugger is active!
2024-10-23 14:18:41,221 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 14:23:03,932 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\tables.py', reloading
2024-10-23 14:23:04,119 - INFO -  * Restarting with stat
2024-10-23 14:23:05,236 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 14:23:05,256 - WARNING -  * Debugger is active!
2024-10-23 14:23:05,260 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 14:26:52,302 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_dealers.py', reloading
2024-10-23 14:26:52,464 - INFO -  * Restarting with stat
2024-10-23 14:26:57,255 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 14:26:57,318 - WARNING -  * Debugger is active!
2024-10-23 14:26:57,324 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 14:29:23,653 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-23 14:29:23,807 - INFO -  * Restarting with stat
2024-10-23 14:29:24,999 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 14:29:25,025 - WARNING -  * Debugger is active!
2024-10-23 14:29:25,029 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 14:30:16,176 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_dealers.py', reloading
2024-10-23 14:30:16,339 - INFO -  * Restarting with stat
2024-10-23 14:30:17,486 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 14:30:17,504 - WARNING -  * Debugger is active!
2024-10-23 14:30:17,507 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 14:32:52,405 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-23 14:32:52,585 - INFO -  * Restarting with stat
2024-10-23 14:32:53,913 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-23 14:32:53,928 - WARNING -  * Debugger is active!
2024-10-23 14:32:53,931 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 14:36:15,707 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-23 14:36:15,771 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-23 14:36:15,771 - INFO - [33mPress CTRL+C to quit[0m
2024-10-23 14:36:15,774 - INFO -  * Restarting with stat
2024-10-23 14:36:16,774 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-23 14:36:16,792 - WARNING -  * Debugger is active!
2024-10-23 14:36:16,796 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 14:36:22,453 - INFO - 127.0.0.1 - - [23/Oct/2024 14:36:22] "[33mPOST /generate-otp HTTP/1.1[0m" 404 -
2024-10-23 14:36:30,768 - INFO - Flask application has stopped.
2024-10-23 14:36:31,004 - INFO - Flask application has stopped.
2024-10-23 14:36:35,590 - INFO - BEGIN (implicit)
2024-10-23 14:36:35,591 - INFO - INSERT INTO otp_store (email, otp, timestamp) VALUES (%(email)s, %(otp)s, %(timestamp)s) RETURNING otp_store.id
2024-10-23 14:36:35,591 - INFO - [generated in 0.00023s] {'email': 'komalsaikiran05@gmail.com', 'otp': '650980', 'timestamp': datetime.datetime(2024, 10, 23, 14, 36, 35, 467941)}
2024-10-23 14:36:35,601 - INFO - COMMIT
2024-10-23 14:36:35,602 - INFO - Generated OTP for komalsaikiran05@gmail.com: 650980
2024-10-23 14:36:46,045 - INFO - End of generate_otp function for email=komalsaikiran05@gmail.com
2024-10-23 14:36:46,045 - INFO - 127.0.0.1 - - [23/Oct/2024 14:36:46] "POST /generate-otp HTTP/1.1" 200 -
2024-10-23 14:36:54,734 - INFO - Flask application has stopped.
2024-10-23 14:36:54,914 - INFO - Flask application has stopped.
2024-10-23 14:37:01,087 - INFO - Starting the Flask application <Flask 'app_dealers'>.
2024-10-23 14:37:01,111 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-23 14:37:01,111 - INFO - [33mPress CTRL+C to quit[0m
2024-10-23 14:37:01,112 - INFO -  * Restarting with stat
2024-10-23 14:37:02,077 - INFO - Starting the Flask application <Flask 'app_dealers'>.
2024-10-23 14:37:02,103 - WARNING -  * Debugger is active!
2024-10-23 14:37:02,108 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 14:37:11,323 - INFO - BEGIN (implicit)
2024-10-23 14:37:11,326 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 14:37:11,326 - INFO - [generated in 0.00032s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 14:37:11,332 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 14:37:11,333 - INFO - Received request to add new dealer
2024-10-23 14:37:11,333 - DEBUG - Request payload: {'dealer_code': 'Dealer12', 'opportunity_owner': 'Kiran', 'otp': '650980', 'email': 'komalsaikiran05@gmail.com'}
2024-10-23 14:37:11,335 - INFO - INSERT INTO heavy_machineries_dealer (dealer_id, dealer_code, opportunity_owner) VALUES (%(dealer_id)s, %(dealer_code)s, %(opportunity_owner)s)
2024-10-23 14:37:11,335 - INFO - [generated in 0.00050s] {'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Kiran'}
2024-10-23 14:37:11,338 - INFO - COMMIT
2024-10-23 14:37:11,563 - INFO - BEGIN (implicit)
2024-10-23 14:37:11,568 - INFO - SELECT heavy_machineries_dealer.dealer_id AS heavy_machineries_dealer_dealer_id, heavy_machineries_dealer.dealer_code AS heavy_machineries_dealer_dealer_code, heavy_machineries_dealer.opportunity_owner AS heavy_machineries_dealer_opportunity_owner 
FROM heavy_machineries_dealer 
WHERE heavy_machineries_dealer.dealer_id = %(pk_1)s
2024-10-23 14:37:11,569 - INFO - [generated in 0.00114s] {'pk_1': '92190686-a328-4f16-b798-b940f5e3808f'}
2024-10-23 14:37:11,573 - INFO - Dealer added successfully: 92190686-a328-4f16-b798-b940f5e3808f
2024-10-23 14:37:23,395 - INFO - ROLLBACK
2024-10-23 14:37:23,397 - INFO - End of add_dealer function
2024-10-23 14:37:23,398 - INFO - 127.0.0.1 - - [23/Oct/2024 14:37:23] "[35m[1mPOST /add-dealer HTTP/1.1[0m" 201 -
2024-10-23 14:38:08,193 - INFO - Received request to get all dealers
2024-10-23 14:38:08,309 - INFO - BEGIN (implicit)
2024-10-23 14:38:08,310 - INFO - SELECT heavy_machineries_dealer.dealer_id AS heavy_machineries_dealer_dealer_id, heavy_machineries_dealer.dealer_code AS heavy_machineries_dealer_dealer_code, heavy_machineries_dealer.opportunity_owner AS heavy_machineries_dealer_opportunity_owner 
FROM heavy_machineries_dealer
2024-10-23 14:38:08,311 - INFO - [generated in 0.00037s] {}
2024-10-23 14:38:08,314 - INFO - Dealers retrieved successfully. Count: 1
2024-10-23 14:38:15,953 - INFO - ROLLBACK
2024-10-23 14:38:15,954 - INFO - End of get_all_dealers function
2024-10-23 14:38:15,956 - INFO - 127.0.0.1 - - [23/Oct/2024 14:38:15] "GET /get-all-dealers HTTP/1.1" 200 -
2024-10-23 14:39:09,029 - INFO - Received request to get all dealers
2024-10-23 14:39:09,147 - INFO - BEGIN (implicit)
2024-10-23 14:39:09,147 - INFO - SELECT heavy_machineries_dealer.dealer_id AS heavy_machineries_dealer_dealer_id, heavy_machineries_dealer.dealer_code AS heavy_machineries_dealer_dealer_code, heavy_machineries_dealer.opportunity_owner AS heavy_machineries_dealer_opportunity_owner 
FROM heavy_machineries_dealer
2024-10-23 14:39:09,148 - INFO - [cached since 60.84s ago] {}
2024-10-23 14:39:09,150 - INFO - Dealers retrieved successfully. Count: 1
2024-10-23 14:39:13,762 - INFO - ROLLBACK
2024-10-23 14:39:13,763 - INFO - End of get_all_dealers function
2024-10-23 14:39:13,763 - INFO - 127.0.0.1 - - [23/Oct/2024 14:39:13] "GET /get-all-dealers?dealer_id=92190686-a328-4f16-b798-b940f5e3808f HTTP/1.1" 200 -
2024-10-23 14:44:39,185 - INFO - Flask application has stopped.
2024-10-23 14:44:39,354 - INFO - Flask application has stopped.
2024-10-23 16:29:38,938 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-23 16:29:38,996 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-23 16:29:38,996 - INFO - [33mPress CTRL+C to quit[0m
2024-10-23 16:29:38,998 - INFO -  * Restarting with stat
2024-10-23 16:29:39,986 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-23 16:29:40,007 - WARNING -  * Debugger is active!
2024-10-23 16:29:40,017 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 16:29:44,592 - ERROR - Database error occurred while generating OTP for komalsaikiran05@gmail.com: Mapper 'Mapper[HeavyMachineriesDealer(heavy_machineries_dealer)]' has no property 'opportunities'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.
2024-10-23 16:29:44,593 - INFO - End of generate_otp function for email=komalsaikiran05@gmail.com
2024-10-23 16:29:44,594 - INFO - 127.0.0.1 - - [23/Oct/2024 16:29:44] "[35m[1mPOST /generate-otp HTTP/1.1[0m" 500 -
2024-10-23 16:32:42,908 - ERROR - Database error occurred while generating OTP for komalsaikiran05@gmail.com: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[HeavyMachineryOpportunity(heavy_machinery_opportunities)]'. Original exception was: Mapper 'Mapper[HeavyMachineriesDealer(heavy_machineries_dealer)]' has no property 'opportunities'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.
2024-10-23 16:32:42,908 - INFO - End of generate_otp function for email=komalsaikiran05@gmail.com
2024-10-23 16:32:42,908 - INFO - 127.0.0.1 - - [23/Oct/2024 16:32:42] "[35m[1mPOST /generate-otp HTTP/1.1[0m" 500 -
2024-10-23 16:34:45,207 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\tables.py', reloading
2024-10-23 16:34:45,318 - INFO -  * Restarting with stat
2024-10-23 16:34:46,106 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-23 16:34:46,123 - WARNING -  * Debugger is active!
2024-10-23 16:34:46,126 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 16:35:16,314 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\tables.py', reloading
2024-10-23 16:35:16,453 - INFO -  * Restarting with stat
2024-10-23 16:35:17,315 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-23 16:35:17,332 - WARNING -  * Debugger is active!
2024-10-23 16:35:17,335 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 16:35:23,981 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\tables.py', reloading
2024-10-23 16:35:24,119 - INFO -  * Restarting with stat
2024-10-23 16:35:26,076 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-23 16:35:26,094 - WARNING -  * Debugger is active!
2024-10-23 16:35:26,098 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 16:35:51,831 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\tables.py', reloading
2024-10-23 16:35:51,973 - INFO -  * Restarting with stat
2024-10-23 16:35:53,267 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-23 16:35:53,289 - WARNING -  * Debugger is active!
2024-10-23 16:35:53,293 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 16:35:53,421 - INFO - BEGIN (implicit)
2024-10-23 16:35:53,423 - INFO - INSERT INTO otp_store (email, otp, timestamp) VALUES (%(email)s, %(otp)s, %(timestamp)s) RETURNING otp_store.id
2024-10-23 16:35:53,424 - INFO - [generated in 0.00073s] {'email': 'komalsaikiran05@gmail.com', 'otp': '983799', 'timestamp': datetime.datetime(2024, 10, 23, 16, 35, 53, 342240)}
2024-10-23 16:35:53,436 - INFO - COMMIT
2024-10-23 16:35:53,438 - INFO - Generated OTP for komalsaikiran05@gmail.com: 983799
2024-10-23 16:35:56,844 - INFO - End of generate_otp function for email=komalsaikiran05@gmail.com
2024-10-23 16:35:56,845 - INFO - 127.0.0.1 - - [23/Oct/2024 16:35:56] "POST /generate-otp HTTP/1.1" 200 -
2024-10-23 16:36:22,459 - INFO - Flask application has stopped.
2024-10-23 16:36:22,585 - INFO - Flask application has stopped.
2024-10-23 16:36:29,160 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-23 16:36:29,195 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-23 16:36:29,195 - INFO - [33mPress CTRL+C to quit[0m
2024-10-23 16:36:29,198 - INFO -  * Restarting with stat
2024-10-23 16:36:30,035 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-23 16:36:30,054 - WARNING -  * Debugger is active!
2024-10-23 16:36:30,058 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 16:41:16,210 - INFO - 127.0.0.1 - - [23/Oct/2024 16:41:16] "[33mGET /get-employees HTTP/1.1[0m" 404 -
2024-10-23 16:43:21,627 - INFO - BEGIN (implicit)
2024-10-23 16:43:21,632 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 16:43:21,632 - INFO - [generated in 0.00031s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 16:43:21,637 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 16:43:21,637 - INFO - Received request to create new customer
2024-10-23 16:43:21,637 - DEBUG - Request payload: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'close_date': '2024-12-31T18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': '06e4347e-4dfc-490a-a066-686942241770', 'otp': '983799', 'email': 'komalsaikiran05@gmail.com'}
2024-10-23 16:43:21,637 - INFO - Generated opportunity_id: 931217d5-872f-473c-b982-a1403c6e38ff
2024-10-23 16:43:21,850 - INFO - Payload after adding created_date and opportunity_id: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'close_date': '2024-12-31T18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': '06e4347e-4dfc-490a-a066-686942241770', 'otp': '983799', 'email': 'komalsaikiran05@gmail.com', 'created_date': datetime.datetime(2024, 10, 23, 16, 43, 21, 850141, tzinfo=<DstTzInfo 'Asia/Kolkata' IST+5:30:00 STD>), 'opportunity_id': '931217d5-872f-473c-b982-a1403c6e38ff'}
2024-10-23 16:43:21,852 - INFO - SELECT heavy_machineries_accounts.account_id AS heavy_machineries_accounts_account_id, heavy_machineries_accounts.account_name AS heavy_machineries_accounts_account_name 
FROM heavy_machineries_accounts 
WHERE heavy_machineries_accounts.account_name = %(account_name_1)s 
 LIMIT %(param_1)s
2024-10-23 16:43:21,852 - INFO - [generated in 0.00030s] {'account_name_1': 'Mahindra Ltd', 'param_1': 1}
2024-10-23 16:43:21,855 - INFO - INSERT INTO heavy_machineries_accounts (account_id, account_name) VALUES (%(account_id)s, %(account_name)s)
2024-10-23 16:43:21,855 - INFO - [generated in 0.00022s] {'account_id': '1dd94bd6-a49a-48af-b03c-cf22795dc1cd', 'account_name': 'Mahindra Ltd'}
2024-10-23 16:43:21,860 - INFO - COMMIT
2024-10-23 16:43:21,863 - INFO - New account added: Mahindra Ltd
2024-10-23 16:43:25,609 - INFO - BEGIN (implicit)
2024-10-23 16:43:25,611 - INFO - SELECT heavy_machineries_dealer.dealer_id AS heavy_machineries_dealer_dealer_id, heavy_machineries_dealer.dealer_code AS heavy_machineries_dealer_dealer_code, heavy_machineries_dealer.opportunity_owner AS heavy_machineries_dealer_opportunity_owner 
FROM heavy_machineries_dealer 
WHERE heavy_machineries_dealer.dealer_id = %(dealer_id_1)s AND heavy_machineries_dealer.dealer_code = %(dealer_code_1)s AND heavy_machineries_dealer.opportunity_owner = %(opportunity_owner_1)s 
 LIMIT %(param_1)s
2024-10-23 16:43:25,611 - INFO - [generated in 0.00023s] {'dealer_id_1': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code_1': 'Dealer12', 'opportunity_owner_1': 'Ramesh Kumar', 'param_1': 1}
2024-10-23 16:43:25,615 - INFO - Dealer with ID 92190686-a328-4f16-b798-b940f5e3808f not found, but no need to create new dealer. Proceeding with existing dealers.
2024-10-23 16:43:25,621 - ERROR - Invalid date format for close_date: time data '2024-12-31T18:30:00' does not match format '%Y-%m-%d %H:%M:%S'
2024-10-23 16:43:29,040 - INFO - ROLLBACK
2024-10-23 16:43:29,041 - INFO - End of create_new_customer function
2024-10-23 16:43:29,042 - INFO - 127.0.0.1 - - [23/Oct/2024 16:43:29] "[31m[1mPOST /new-customer HTTP/1.1[0m" 400 -
2024-10-23 16:44:36,777 - INFO - BEGIN (implicit)
2024-10-23 16:44:36,777 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 16:44:36,777 - INFO - [cached since 75.15s ago] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 16:44:36,781 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 16:44:36,781 - INFO - Received request to create new customer
2024-10-23 16:44:36,781 - DEBUG - Request payload: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': '06e4347e-4dfc-490a-a066-686942241770', 'otp': '983799', 'email': 'komalsaikiran05@gmail.com'}
2024-10-23 16:44:36,781 - INFO - Generated opportunity_id: da37d936-e316-4e93-9e3e-6d5dd4940f63
2024-10-23 16:44:36,781 - INFO - Payload after adding created_date and opportunity_id: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': '06e4347e-4dfc-490a-a066-686942241770', 'otp': '983799', 'email': 'komalsaikiran05@gmail.com', 'created_date': datetime.datetime(2024, 10, 23, 16, 44, 36, 781352, tzinfo=<DstTzInfo 'Asia/Kolkata' IST+5:30:00 STD>), 'opportunity_id': 'da37d936-e316-4e93-9e3e-6d5dd4940f63'}
2024-10-23 16:44:36,782 - INFO - SELECT heavy_machineries_accounts.account_id AS heavy_machineries_accounts_account_id, heavy_machineries_accounts.account_name AS heavy_machineries_accounts_account_name 
FROM heavy_machineries_accounts 
WHERE heavy_machineries_accounts.account_name = %(account_name_1)s 
 LIMIT %(param_1)s
2024-10-23 16:44:36,782 - INFO - [cached since 74.93s ago] {'account_name_1': 'Mahindra Ltd', 'param_1': 1}
2024-10-23 16:44:36,783 - INFO - Account found: Mahindra Ltd
2024-10-23 16:44:36,783 - INFO - SELECT heavy_machineries_dealer.dealer_id AS heavy_machineries_dealer_dealer_id, heavy_machineries_dealer.dealer_code AS heavy_machineries_dealer_dealer_code, heavy_machineries_dealer.opportunity_owner AS heavy_machineries_dealer_opportunity_owner 
FROM heavy_machineries_dealer 
WHERE heavy_machineries_dealer.dealer_id = %(dealer_id_1)s AND heavy_machineries_dealer.dealer_code = %(dealer_code_1)s AND heavy_machineries_dealer.opportunity_owner = %(opportunity_owner_1)s 
 LIMIT %(param_1)s
2024-10-23 16:44:36,783 - INFO - [cached since 71.17s ago] {'dealer_id_1': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code_1': 'Dealer12', 'opportunity_owner_1': 'Ramesh Kumar', 'param_1': 1}
2024-10-23 16:44:36,784 - INFO - Dealer with ID 92190686-a328-4f16-b798-b940f5e3808f not found, but no need to create new dealer. Proceeding with existing dealers.
2024-10-23 16:44:36,784 - INFO - Parsed close_date: 2024-12-31 18:30:00
2024-10-23 16:44:36,784 - INFO - Determined stage from probability: Decision Makers
2024-10-23 16:44:36,784 - INFO - Currency conversions for amount 12000000: {'USD': 120000000, 'AUD': 60000000, 'CAD': 12000000, 'JPY': 21120000.0, 'EUR': 144000.0, 'GBP': 240000000, 'CNY': 72000000, 'INR': 12000000}
2024-10-23 16:44:36,784 - INFO - ROLLBACK
2024-10-23 16:44:36,785 - ERROR - Error in creating customer: Entity namespace for "employee" has no property "employee_id"
2024-10-23 16:44:36,785 - INFO - End of create_new_customer function
2024-10-23 16:44:36,785 - INFO - 127.0.0.1 - - [23/Oct/2024 16:44:36] "[35m[1mPOST /new-customer HTTP/1.1[0m" 500 -
2024-10-23 16:46:03,563 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_opportunity.py', reloading
2024-10-23 16:46:03,734 - INFO -  * Restarting with stat
2024-10-23 16:46:04,947 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-23 16:46:04,969 - WARNING -  * Debugger is active!
2024-10-23 16:46:04,973 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 16:46:05,112 - INFO - BEGIN (implicit)
2024-10-23 16:46:05,116 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 16:46:05,116 - INFO - [generated in 0.00045s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 16:46:05,120 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 16:46:05,120 - INFO - Received request to create new customer
2024-10-23 16:46:05,120 - DEBUG - Request payload: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': '06e4347e-4dfc-490a-a066-686942241770', 'otp': '983799', 'email': 'komalsaikiran05@gmail.com'}
2024-10-23 16:46:05,121 - INFO - Generated opportunity_id: 9b954fe5-4c8a-4eb6-9010-049fa023142a
2024-10-23 16:46:05,205 - INFO - Payload after adding created_date and opportunity_id: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': '06e4347e-4dfc-490a-a066-686942241770', 'otp': '983799', 'email': 'komalsaikiran05@gmail.com', 'created_date': datetime.datetime(2024, 10, 23, 16, 46, 5, 205145, tzinfo=<DstTzInfo 'Asia/Kolkata' IST+5:30:00 STD>), 'opportunity_id': '9b954fe5-4c8a-4eb6-9010-049fa023142a'}
2024-10-23 16:46:05,206 - INFO - SELECT heavy_machineries_accounts.account_id AS heavy_machineries_accounts_account_id, heavy_machineries_accounts.account_name AS heavy_machineries_accounts_account_name 
FROM heavy_machineries_accounts 
WHERE heavy_machineries_accounts.account_name = %(account_name_1)s 
 LIMIT %(param_1)s
2024-10-23 16:46:05,207 - INFO - [generated in 0.00037s] {'account_name_1': 'Mahindra Ltd', 'param_1': 1}
2024-10-23 16:46:05,210 - INFO - Account found: Mahindra Ltd
2024-10-23 16:46:05,211 - INFO - SELECT heavy_machineries_dealer.dealer_id AS heavy_machineries_dealer_dealer_id, heavy_machineries_dealer.dealer_code AS heavy_machineries_dealer_dealer_code, heavy_machineries_dealer.opportunity_owner AS heavy_machineries_dealer_opportunity_owner 
FROM heavy_machineries_dealer 
WHERE heavy_machineries_dealer.dealer_id = %(dealer_id_1)s AND heavy_machineries_dealer.dealer_code = %(dealer_code_1)s AND heavy_machineries_dealer.opportunity_owner = %(opportunity_owner_1)s 
 LIMIT %(param_1)s
2024-10-23 16:46:05,211 - INFO - [generated in 0.00023s] {'dealer_id_1': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code_1': 'Dealer12', 'opportunity_owner_1': 'Ramesh Kumar', 'param_1': 1}
2024-10-23 16:46:05,213 - INFO - Dealer with ID 92190686-a328-4f16-b798-b940f5e3808f not found, but no need to create new dealer. Proceeding with existing dealers.
2024-10-23 16:46:05,216 - INFO - Parsed close_date: 2024-12-31 18:30:00
2024-10-23 16:46:05,216 - INFO - Determined stage from probability: Decision Makers
2024-10-23 16:46:05,216 - INFO - Currency conversions for amount 12000000: {'USD': 120000000, 'AUD': 60000000, 'CAD': 12000000, 'JPY': 21120000.0, 'EUR': 144000.0, 'GBP': 240000000, 'CNY': 72000000, 'INR': 12000000}
2024-10-23 16:46:05,219 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id IS NULL 
 LIMIT %(param_1)s
2024-10-23 16:46:05,219 - INFO - [generated in 0.00028s] {'param_1': 1}
2024-10-23 16:46:05,222 - ERROR - Employee with ID None not found.
2024-10-23 16:46:08,525 - INFO - ROLLBACK
2024-10-23 16:46:08,526 - INFO - End of create_new_customer function
2024-10-23 16:46:08,528 - INFO - 127.0.0.1 - - [23/Oct/2024 16:46:08] "[33mPOST /new-customer HTTP/1.1[0m" 404 -
2024-10-23 16:47:00,126 - INFO - BEGIN (implicit)
2024-10-23 16:47:00,127 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 16:47:00,127 - INFO - [cached since 55.01s ago] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 16:47:00,131 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 16:47:00,131 - INFO - Received request to create new customer
2024-10-23 16:47:00,132 - DEBUG - Request payload: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'otp': '983799', 'email': 'komalsaikiran05@gmail.com'}
2024-10-23 16:47:00,132 - INFO - Generated opportunity_id: a443f3cc-bf97-47a5-b6f7-d1952b6c441d
2024-10-23 16:47:00,132 - INFO - Payload after adding created_date and opportunity_id: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'otp': '983799', 'email': 'komalsaikiran05@gmail.com', 'created_date': datetime.datetime(2024, 10, 23, 16, 47, 0, 132207, tzinfo=<DstTzInfo 'Asia/Kolkata' IST+5:30:00 STD>), 'opportunity_id': 'a443f3cc-bf97-47a5-b6f7-d1952b6c441d'}
2024-10-23 16:47:00,134 - INFO - SELECT heavy_machineries_accounts.account_id AS heavy_machineries_accounts_account_id, heavy_machineries_accounts.account_name AS heavy_machineries_accounts_account_name 
FROM heavy_machineries_accounts 
WHERE heavy_machineries_accounts.account_name = %(account_name_1)s 
 LIMIT %(param_1)s
2024-10-23 16:47:00,134 - INFO - [cached since 54.93s ago] {'account_name_1': 'Mahindra Ltd', 'param_1': 1}
2024-10-23 16:47:00,136 - INFO - Account found: Mahindra Ltd
2024-10-23 16:47:00,138 - INFO - SELECT heavy_machineries_dealer.dealer_id AS heavy_machineries_dealer_dealer_id, heavy_machineries_dealer.dealer_code AS heavy_machineries_dealer_dealer_code, heavy_machineries_dealer.opportunity_owner AS heavy_machineries_dealer_opportunity_owner 
FROM heavy_machineries_dealer 
WHERE heavy_machineries_dealer.dealer_id = %(dealer_id_1)s AND heavy_machineries_dealer.dealer_code = %(dealer_code_1)s AND heavy_machineries_dealer.opportunity_owner = %(opportunity_owner_1)s 
 LIMIT %(param_1)s
2024-10-23 16:47:00,138 - INFO - [cached since 54.93s ago] {'dealer_id_1': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code_1': 'Dealer12', 'opportunity_owner_1': 'Ramesh Kumar', 'param_1': 1}
2024-10-23 16:47:00,140 - INFO - Dealer with ID 92190686-a328-4f16-b798-b940f5e3808f not found, but no need to create new dealer. Proceeding with existing dealers.
2024-10-23 16:47:00,140 - INFO - Parsed close_date: 2024-12-31 18:30:00
2024-10-23 16:47:00,140 - INFO - Determined stage from probability: Decision Makers
2024-10-23 16:47:00,140 - INFO - Currency conversions for amount 12000000: {'USD': 120000000, 'AUD': 60000000, 'CAD': 12000000, 'JPY': 21120000.0, 'EUR': 144000.0, 'GBP': 240000000, 'CNY': 72000000, 'INR': 12000000}
2024-10-23 16:47:00,141 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id IS NULL 
 LIMIT %(param_1)s
2024-10-23 16:47:00,142 - INFO - [cached since 54.92s ago] {'param_1': 1}
2024-10-23 16:47:00,144 - ERROR - Employee with ID None not found.
2024-10-23 16:47:03,419 - INFO - ROLLBACK
2024-10-23 16:47:03,421 - INFO - End of create_new_customer function
2024-10-23 16:47:03,422 - INFO - 127.0.0.1 - - [23/Oct/2024 16:47:03] "[33mPOST /new-customer HTTP/1.1[0m" 404 -
2024-10-23 16:50:01,468 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_opportunity.py', reloading
2024-10-23 16:50:01,660 - INFO -  * Restarting with stat
2024-10-23 16:50:02,754 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-23 16:50:02,773 - WARNING -  * Debugger is active!
2024-10-23 16:50:02,777 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 16:50:03,691 - INFO - BEGIN (implicit)
2024-10-23 16:50:03,694 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 16:50:03,694 - INFO - [generated in 0.00041s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 16:50:03,698 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 16:50:03,698 - INFO - Received request to create new customer
2024-10-23 16:50:03,698 - DEBUG - Request payload: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'otp': '983799', 'email': 'komalsaikiran05@gmail.com'}
2024-10-23 16:50:03,698 - INFO - Generated opportunity_id: b203109b-3125-45ec-bb8d-e4ec0890a95c
2024-10-23 16:50:03,770 - INFO - Payload after adding created_date and opportunity_id: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'otp': '983799', 'email': 'komalsaikiran05@gmail.com', 'created_date': datetime.datetime(2024, 10, 23, 16, 50, 3, 770375, tzinfo=<DstTzInfo 'Asia/Kolkata' IST+5:30:00 STD>), 'opportunity_id': 'b203109b-3125-45ec-bb8d-e4ec0890a95c'}
2024-10-23 16:50:03,771 - INFO - SELECT heavy_machineries_accounts.account_id AS heavy_machineries_accounts_account_id, heavy_machineries_accounts.account_name AS heavy_machineries_accounts_account_name 
FROM heavy_machineries_accounts 
WHERE heavy_machineries_accounts.account_name = %(account_name_1)s 
 LIMIT %(param_1)s
2024-10-23 16:50:03,771 - INFO - [generated in 0.00018s] {'account_name_1': 'Mahindra Ltd', 'param_1': 1}
2024-10-23 16:50:03,773 - INFO - Account found: Mahindra Ltd
2024-10-23 16:50:03,775 - INFO - SELECT heavy_machineries_dealer.dealer_id AS heavy_machineries_dealer_dealer_id, heavy_machineries_dealer.dealer_code AS heavy_machineries_dealer_dealer_code, heavy_machineries_dealer.opportunity_owner AS heavy_machineries_dealer_opportunity_owner 
FROM heavy_machineries_dealer 
WHERE heavy_machineries_dealer.dealer_id = %(dealer_id_1)s AND heavy_machineries_dealer.dealer_code = %(dealer_code_1)s AND heavy_machineries_dealer.opportunity_owner = %(opportunity_owner_1)s 
 LIMIT %(param_1)s
2024-10-23 16:50:03,776 - INFO - [generated in 0.00033s] {'dealer_id_1': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code_1': 'Dealer12', 'opportunity_owner_1': 'Ramesh Kumar', 'param_1': 1}
2024-10-23 16:50:03,778 - INFO - Dealer with ID 92190686-a328-4f16-b798-b940f5e3808f not found, but no need to create new dealer. Proceeding with existing dealers.
2024-10-23 16:50:03,780 - INFO - Parsed close_date: 2024-12-31 18:30:00
2024-10-23 16:50:03,780 - INFO - Determined stage from probability: Decision Makers
2024-10-23 16:50:03,780 - INFO - Currency conversions for amount 12000000: {'USD': 120000000, 'AUD': 60000000, 'CAD': 12000000, 'JPY': 21120000.0, 'EUR': 144000.0, 'GBP': 240000000, 'CNY': 72000000, 'INR': 12000000}
2024-10-23 16:50:03,780 - INFO - ROLLBACK
2024-10-23 16:50:03,781 - ERROR - Error in creating customer: type object 'Employee' has no attribute 'query'
2024-10-23 16:50:07,420 - INFO - End of create_new_customer function
2024-10-23 16:50:07,421 - INFO - 127.0.0.1 - - [23/Oct/2024 16:50:07] "[35m[1mPOST /new-customer HTTP/1.1[0m" 500 -
2024-10-23 16:51:37,059 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\tables.py', reloading
2024-10-23 16:51:37,193 - INFO -  * Restarting with stat
2024-10-23 16:51:38,329 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-23 16:51:38,349 - WARNING -  * Debugger is active!
2024-10-23 16:51:38,352 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 16:51:38,997 - INFO - BEGIN (implicit)
2024-10-23 16:51:39,001 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 16:51:39,001 - INFO - [generated in 0.00032s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 16:51:39,005 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 16:51:39,006 - INFO - Received request to create new customer
2024-10-23 16:51:39,006 - DEBUG - Request payload: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'otp': '983799', 'email': 'komalsaikiran05@gmail.com'}
2024-10-23 16:51:39,006 - INFO - Generated opportunity_id: 09677bbf-9b6c-4a87-9df9-60d9b745376a
2024-10-23 16:51:39,096 - INFO - Payload after adding created_date and opportunity_id: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'otp': '983799', 'email': 'komalsaikiran05@gmail.com', 'created_date': datetime.datetime(2024, 10, 23, 16, 51, 39, 96564, tzinfo=<DstTzInfo 'Asia/Kolkata' IST+5:30:00 STD>), 'opportunity_id': '09677bbf-9b6c-4a87-9df9-60d9b745376a'}
2024-10-23 16:51:39,099 - INFO - SELECT heavy_machineries_accounts.account_id AS heavy_machineries_accounts_account_id, heavy_machineries_accounts.account_name AS heavy_machineries_accounts_account_name 
FROM heavy_machineries_accounts 
WHERE heavy_machineries_accounts.account_name = %(account_name_1)s 
 LIMIT %(param_1)s
2024-10-23 16:51:39,099 - INFO - [generated in 0.00027s] {'account_name_1': 'Mahindra Ltd', 'param_1': 1}
2024-10-23 16:51:39,101 - INFO - Account found: Mahindra Ltd
2024-10-23 16:51:39,102 - INFO - SELECT heavy_machineries_dealer.dealer_id AS heavy_machineries_dealer_dealer_id, heavy_machineries_dealer.dealer_code AS heavy_machineries_dealer_dealer_code, heavy_machineries_dealer.opportunity_owner AS heavy_machineries_dealer_opportunity_owner 
FROM heavy_machineries_dealer 
WHERE heavy_machineries_dealer.dealer_id = %(dealer_id_1)s AND heavy_machineries_dealer.dealer_code = %(dealer_code_1)s AND heavy_machineries_dealer.opportunity_owner = %(opportunity_owner_1)s 
 LIMIT %(param_1)s
2024-10-23 16:51:39,103 - INFO - [generated in 0.00040s] {'dealer_id_1': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code_1': 'Dealer12', 'opportunity_owner_1': 'Ramesh Kumar', 'param_1': 1}
2024-10-23 16:51:39,105 - INFO - Dealer with ID 92190686-a328-4f16-b798-b940f5e3808f not found, but no need to create new dealer. Proceeding with existing dealers.
2024-10-23 16:51:39,109 - INFO - Parsed close_date: 2024-12-31 18:30:00
2024-10-23 16:51:39,109 - INFO - Determined stage from probability: Decision Makers
2024-10-23 16:51:39,110 - INFO - Currency conversions for amount 12000000: {'USD': 120000000, 'AUD': 60000000, 'CAD': 12000000, 'JPY': 21120000.0, 'EUR': 144000.0, 'GBP': 240000000, 'CNY': 72000000, 'INR': 12000000}
2024-10-23 16:51:39,113 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id IS NULL 
 LIMIT %(param_1)s
2024-10-23 16:51:39,113 - INFO - [generated in 0.00051s] {'param_1': 1}
2024-10-23 16:51:39,116 - ERROR - Employee with ID None not found.
2024-10-23 16:51:42,631 - INFO - ROLLBACK
2024-10-23 16:51:42,632 - INFO - End of create_new_customer function
2024-10-23 16:51:42,632 - INFO - 127.0.0.1 - - [23/Oct/2024 16:51:42] "[33mPOST /new-customer HTTP/1.1[0m" 404 -
2024-10-23 16:56:31,985 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_opportunity.py', reloading
2024-10-23 16:56:32,103 - INFO -  * Restarting with stat
2024-10-23 16:56:33,217 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-23 16:56:33,242 - WARNING -  * Debugger is active!
2024-10-23 16:56:33,246 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 16:56:33,380 - INFO - BEGIN (implicit)
2024-10-23 16:56:33,386 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 16:56:33,386 - INFO - [generated in 0.00044s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 16:56:33,390 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 16:56:33,391 - INFO - Received request to create new customer
2024-10-23 16:56:33,391 - DEBUG - Request payload: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'otp': '983799', 'email': 'komalsaikiran05@gmail.com'}
2024-10-23 16:56:33,392 - INFO - Generated opportunity_id: fc6561d1-492a-4f7d-b903-e2ecde305dce
2024-10-23 16:56:33,489 - INFO - Payload after adding created_date and opportunity_id: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'otp': '983799', 'email': 'komalsaikiran05@gmail.com', 'created_date': datetime.datetime(2024, 10, 23, 16, 56, 33, 489841, tzinfo=<DstTzInfo 'Asia/Kolkata' IST+5:30:00 STD>), 'opportunity_id': 'fc6561d1-492a-4f7d-b903-e2ecde305dce'}
2024-10-23 16:56:33,492 - INFO - SELECT heavy_machineries_accounts.account_id AS heavy_machineries_accounts_account_id, heavy_machineries_accounts.account_name AS heavy_machineries_accounts_account_name 
FROM heavy_machineries_accounts 
WHERE heavy_machineries_accounts.account_name = %(account_name_1)s 
 LIMIT %(param_1)s
2024-10-23 16:56:33,492 - INFO - [generated in 0.00041s] {'account_name_1': 'Mahindra Ltd', 'param_1': 1}
2024-10-23 16:56:33,494 - INFO - Account found: Mahindra Ltd
2024-10-23 16:56:33,496 - INFO - SELECT heavy_machineries_dealer.dealer_id AS heavy_machineries_dealer_dealer_id, heavy_machineries_dealer.dealer_code AS heavy_machineries_dealer_dealer_code, heavy_machineries_dealer.opportunity_owner AS heavy_machineries_dealer_opportunity_owner 
FROM heavy_machineries_dealer 
WHERE heavy_machineries_dealer.dealer_id = %(dealer_id_1)s AND heavy_machineries_dealer.dealer_code = %(dealer_code_1)s AND heavy_machineries_dealer.opportunity_owner = %(opportunity_owner_1)s 
 LIMIT %(param_1)s
2024-10-23 16:56:33,496 - INFO - [generated in 0.00033s] {'dealer_id_1': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code_1': 'Dealer12', 'opportunity_owner_1': 'Ramesh Kumar', 'param_1': 1}
2024-10-23 16:56:33,500 - INFO - Dealer with ID 92190686-a328-4f16-b798-b940f5e3808f not found, but no need to create new dealer. Proceeding with existing dealers.
2024-10-23 16:56:33,503 - INFO - Parsed close_date: 2024-12-31 18:30:00
2024-10-23 16:56:33,503 - INFO - Determined stage from probability: Decision Makers
2024-10-23 16:56:33,503 - INFO - Currency conversions for amount 12000000: {'USD': 120000000, 'AUD': 60000000, 'CAD': 12000000, 'JPY': 21120000.0, 'EUR': 144000.0, 'GBP': 240000000, 'CNY': 72000000, 'INR': 12000000}
2024-10-23 16:56:33,505 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id IS NULL 
 LIMIT %(param_1)s
2024-10-23 16:56:33,505 - INFO - [generated in 0.00031s] {'param_1': 1}
2024-10-23 16:56:33,509 - INFO - ROLLBACK
2024-10-23 16:56:33,509 - ERROR - Error in creating customer: 'NoneType' object has no attribute 'employee_id'
2024-10-23 16:56:38,472 - INFO - End of create_new_customer function
2024-10-23 16:56:38,473 - INFO - 127.0.0.1 - - [23/Oct/2024 16:56:38] "[35m[1mPOST /new-customer HTTP/1.1[0m" 500 -
2024-10-23 16:59:27,980 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_opportunity.py', reloading
2024-10-23 16:59:28,144 - INFO -  * Restarting with stat
2024-10-23 16:59:29,113 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-23 16:59:29,138 - WARNING -  * Debugger is active!
2024-10-23 16:59:29,143 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 16:59:29,416 - INFO - BEGIN (implicit)
2024-10-23 16:59:29,419 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 16:59:29,419 - INFO - [generated in 0.00028s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 16:59:29,422 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 16:59:29,422 - INFO - Received request to create new customer
2024-10-23 16:59:29,422 - DEBUG - Request payload: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'otp': '983799', 'email': 'komalsaikiran05@gmail.com'}
2024-10-23 16:59:29,422 - INFO - Generated opportunity_id: 08edc454-f970-466b-b6d8-86f599dafbbf
2024-10-23 16:59:29,502 - INFO - Payload after adding created_date and opportunity_id: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'otp': '983799', 'email': 'komalsaikiran05@gmail.com', 'created_date': datetime.datetime(2024, 10, 23, 16, 59, 29, 502866, tzinfo=<DstTzInfo 'Asia/Kolkata' IST+5:30:00 STD>), 'opportunity_id': '08edc454-f970-466b-b6d8-86f599dafbbf'}
2024-10-23 16:59:29,504 - INFO - SELECT heavy_machineries_accounts.account_id AS heavy_machineries_accounts_account_id, heavy_machineries_accounts.account_name AS heavy_machineries_accounts_account_name 
FROM heavy_machineries_accounts 
WHERE heavy_machineries_accounts.account_name = %(account_name_1)s 
 LIMIT %(param_1)s
2024-10-23 16:59:29,504 - INFO - [generated in 0.00020s] {'account_name_1': 'Mahindra Ltd', 'param_1': 1}
2024-10-23 16:59:29,505 - INFO - Account found: Mahindra Ltd
2024-10-23 16:59:29,507 - INFO - SELECT heavy_machineries_dealer.dealer_id AS heavy_machineries_dealer_dealer_id, heavy_machineries_dealer.dealer_code AS heavy_machineries_dealer_dealer_code, heavy_machineries_dealer.opportunity_owner AS heavy_machineries_dealer_opportunity_owner 
FROM heavy_machineries_dealer 
WHERE heavy_machineries_dealer.dealer_id = %(dealer_id_1)s AND heavy_machineries_dealer.dealer_code = %(dealer_code_1)s AND heavy_machineries_dealer.opportunity_owner = %(opportunity_owner_1)s 
 LIMIT %(param_1)s
2024-10-23 16:59:29,507 - INFO - [generated in 0.00052s] {'dealer_id_1': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code_1': 'Dealer12', 'opportunity_owner_1': 'Ramesh Kumar', 'param_1': 1}
2024-10-23 16:59:29,509 - INFO - Dealer with ID 92190686-a328-4f16-b798-b940f5e3808f not found, but no need to create new dealer. Proceeding with existing dealers.
2024-10-23 16:59:29,512 - INFO - Parsed close_date: 2024-12-31 18:30:00
2024-10-23 16:59:29,512 - INFO - Determined stage from probability: Decision Makers
2024-10-23 16:59:29,512 - INFO - Currency conversions for amount 12000000: {'USD': 120000000, 'AUD': 60000000, 'CAD': 12000000, 'JPY': 21120000.0, 'EUR': 144000.0, 'GBP': 240000000, 'CNY': 72000000, 'INR': 12000000}
2024-10-23 16:59:29,515 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id IS NULL 
 LIMIT %(param_1)s
2024-10-23 16:59:29,515 - INFO - [generated in 0.00021s] {'param_1': 1}
2024-10-23 16:59:29,517 - ERROR - Employee with ID None not found.
2024-10-23 16:59:33,890 - INFO - ROLLBACK
2024-10-23 16:59:33,891 - INFO - End of create_new_customer function
2024-10-23 16:59:33,892 - INFO - 127.0.0.1 - - [23/Oct/2024 16:59:33] "[33mPOST /new-customer HTTP/1.1[0m" 404 -
2024-10-23 17:01:51,751 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\tables.py', reloading
2024-10-23 17:01:51,928 - INFO -  * Restarting with stat
2024-10-23 17:01:52,848 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-23 17:01:52,870 - WARNING -  * Debugger is active!
2024-10-23 17:01:52,873 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 17:01:53,409 - INFO - BEGIN (implicit)
2024-10-23 17:01:53,413 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 17:01:53,413 - INFO - [generated in 0.00063s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 17:01:53,419 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 17:01:53,419 - INFO - Received request to create new customer
2024-10-23 17:01:53,420 - DEBUG - Request payload: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'otp': '983799', 'email': 'komalsaikiran05@gmail.com'}
2024-10-23 17:01:53,420 - INFO - Generated opportunity_id: a553f8b6-12c9-4aab-9d6d-814c54aedb74
2024-10-23 17:01:53,504 - INFO - Payload after adding created_date and opportunity_id: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'otp': '983799', 'email': 'komalsaikiran05@gmail.com', 'created_date': datetime.datetime(2024, 10, 23, 17, 1, 53, 503583, tzinfo=<DstTzInfo 'Asia/Kolkata' IST+5:30:00 STD>), 'opportunity_id': 'a553f8b6-12c9-4aab-9d6d-814c54aedb74'}
2024-10-23 17:01:53,505 - INFO - SELECT heavy_machineries_accounts.account_id AS heavy_machineries_accounts_account_id, heavy_machineries_accounts.account_name AS heavy_machineries_accounts_account_name 
FROM heavy_machineries_accounts 
WHERE heavy_machineries_accounts.account_name = %(account_name_1)s 
 LIMIT %(param_1)s
2024-10-23 17:01:53,505 - INFO - [generated in 0.00019s] {'account_name_1': 'Mahindra Ltd', 'param_1': 1}
2024-10-23 17:01:53,506 - INFO - Account found: Mahindra Ltd
2024-10-23 17:01:53,508 - INFO - SELECT heavy_machineries_dealer.dealer_id AS heavy_machineries_dealer_dealer_id, heavy_machineries_dealer.dealer_code AS heavy_machineries_dealer_dealer_code, heavy_machineries_dealer.opportunity_owner AS heavy_machineries_dealer_opportunity_owner 
FROM heavy_machineries_dealer 
WHERE heavy_machineries_dealer.dealer_id = %(dealer_id_1)s AND heavy_machineries_dealer.dealer_code = %(dealer_code_1)s AND heavy_machineries_dealer.opportunity_owner = %(opportunity_owner_1)s 
 LIMIT %(param_1)s
2024-10-23 17:01:53,509 - INFO - [generated in 0.00033s] {'dealer_id_1': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code_1': 'Dealer12', 'opportunity_owner_1': 'Ramesh Kumar', 'param_1': 1}
2024-10-23 17:01:53,510 - INFO - Dealer with ID 92190686-a328-4f16-b798-b940f5e3808f not found, but no need to create new dealer. Proceeding with existing dealers.
2024-10-23 17:01:53,513 - INFO - Parsed close_date: 2024-12-31 18:30:00
2024-10-23 17:01:53,513 - INFO - Determined stage from probability: Decision Makers
2024-10-23 17:01:53,513 - INFO - Currency conversions for amount 12000000: {'USD': 120000000, 'AUD': 60000000, 'CAD': 12000000, 'JPY': 21120000.0, 'EUR': 144000.0, 'GBP': 240000000, 'CNY': 72000000, 'INR': 12000000}
2024-10-23 17:01:53,516 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id IS NULL 
 LIMIT %(param_1)s
2024-10-23 17:01:53,516 - INFO - [generated in 0.00024s] {'param_1': 1}
2024-10-23 17:01:53,518 - ERROR - Employee with ID None not found.
2024-10-23 17:01:57,376 - INFO - ROLLBACK
2024-10-23 17:01:57,378 - INFO - End of create_new_customer function
2024-10-23 17:01:57,379 - INFO - 127.0.0.1 - - [23/Oct/2024 17:01:57] "[33mPOST /new-customer HTTP/1.1[0m" 404 -
2024-10-23 17:07:43,937 - INFO - BEGIN (implicit)
2024-10-23 17:07:43,937 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 17:07:43,937 - INFO - [cached since 350.5s ago] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 17:07:43,940 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 17:07:43,940 - INFO - Received request to create new customer
2024-10-23 17:07:43,940 - DEBUG - Request payload: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'otp': '983799', 'email': 'komalsaikiran05@gmail.com'}
2024-10-23 17:07:43,940 - INFO - Generated opportunity_id: bdde7390-8ca4-407a-a391-c5003df5ecb6
2024-10-23 17:07:43,940 - INFO - Payload after adding created_date and opportunity_id: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'otp': '983799', 'email': 'komalsaikiran05@gmail.com', 'created_date': datetime.datetime(2024, 10, 23, 17, 7, 43, 940009, tzinfo=<DstTzInfo 'Asia/Kolkata' IST+5:30:00 STD>), 'opportunity_id': 'bdde7390-8ca4-407a-a391-c5003df5ecb6'}
2024-10-23 17:07:43,941 - INFO - SELECT heavy_machineries_accounts.account_id AS heavy_machineries_accounts_account_id, heavy_machineries_accounts.account_name AS heavy_machineries_accounts_account_name 
FROM heavy_machineries_accounts 
WHERE heavy_machineries_accounts.account_name = %(account_name_1)s 
 LIMIT %(param_1)s
2024-10-23 17:07:43,941 - INFO - [cached since 350.4s ago] {'account_name_1': 'Mahindra Ltd', 'param_1': 1}
2024-10-23 17:07:43,943 - INFO - Account found: Mahindra Ltd
2024-10-23 17:07:43,944 - INFO - SELECT heavy_machineries_dealer.dealer_id AS heavy_machineries_dealer_dealer_id, heavy_machineries_dealer.dealer_code AS heavy_machineries_dealer_dealer_code, heavy_machineries_dealer.opportunity_owner AS heavy_machineries_dealer_opportunity_owner 
FROM heavy_machineries_dealer 
WHERE heavy_machineries_dealer.dealer_id = %(dealer_id_1)s AND heavy_machineries_dealer.dealer_code = %(dealer_code_1)s AND heavy_machineries_dealer.opportunity_owner = %(opportunity_owner_1)s 
 LIMIT %(param_1)s
2024-10-23 17:07:43,944 - INFO - [cached since 350.4s ago] {'dealer_id_1': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code_1': 'Dealer12', 'opportunity_owner_1': 'Ramesh Kumar', 'param_1': 1}
2024-10-23 17:07:43,945 - INFO - Dealer with ID 92190686-a328-4f16-b798-b940f5e3808f not found, but no need to create new dealer. Proceeding with existing dealers.
2024-10-23 17:07:43,945 - INFO - Parsed close_date: 2024-12-31 18:30:00
2024-10-23 17:07:43,945 - INFO - Determined stage from probability: Decision Makers
2024-10-23 17:07:43,945 - INFO - Currency conversions for amount 12000000: {'USD': 120000000, 'AUD': 60000000, 'CAD': 12000000, 'JPY': 21120000.0, 'EUR': 144000.0, 'GBP': 240000000, 'CNY': 72000000, 'INR': 12000000}
2024-10-23 17:07:43,945 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id IS NULL 
 LIMIT %(param_1)s
2024-10-23 17:07:43,946 - INFO - [cached since 350.4s ago] {'param_1': 1}
2024-10-23 17:07:43,948 - ERROR - Employee with ID None not found.
2024-10-23 17:07:47,489 - INFO - ROLLBACK
2024-10-23 17:07:47,491 - INFO - End of create_new_customer function
2024-10-23 17:07:47,491 - INFO - 127.0.0.1 - - [23/Oct/2024 17:07:47] "[33mPOST /new-customer HTTP/1.1[0m" 404 -
2024-10-23 17:10:52,036 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_opportunity.py', reloading
2024-10-23 17:10:52,180 - INFO -  * Restarting with stat
2024-10-23 17:10:53,488 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-23 17:10:53,520 - WARNING -  * Debugger is active!
2024-10-23 17:10:53,528 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 17:10:53,644 - INFO - BEGIN (implicit)
2024-10-23 17:10:53,646 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 17:10:53,647 - INFO - [generated in 0.00049s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 17:10:53,652 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 17:10:53,652 - INFO - Received request to create new customer
2024-10-23 17:10:53,652 - DEBUG - Request payload: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'otp': '983799', 'email': 'komalsaikiran05@gmail.com'}
2024-10-23 17:10:53,652 - INFO - Generated opportunity_id: 7e08948a-cbbd-461a-a99d-8fc58e0889cb
2024-10-23 17:10:53,731 - INFO - Payload after adding created_date and opportunity_id: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'otp': '983799', 'email': 'komalsaikiran05@gmail.com', 'created_date': datetime.datetime(2024, 10, 23, 17, 10, 53, 730137, tzinfo=<DstTzInfo 'Asia/Kolkata' IST+5:30:00 STD>), 'opportunity_id': '7e08948a-cbbd-461a-a99d-8fc58e0889cb'}
2024-10-23 17:10:53,733 - INFO - SELECT heavy_machineries_accounts.account_id AS heavy_machineries_accounts_account_id, heavy_machineries_accounts.account_name AS heavy_machineries_accounts_account_name 
FROM heavy_machineries_accounts 
WHERE heavy_machineries_accounts.account_name = %(account_name_1)s 
 LIMIT %(param_1)s
2024-10-23 17:10:53,733 - INFO - [generated in 0.00021s] {'account_name_1': 'Mahindra Ltd', 'param_1': 1}
2024-10-23 17:10:53,735 - INFO - Account found: Mahindra Ltd
2024-10-23 17:10:53,736 - INFO - SELECT heavy_machineries_dealer.dealer_id AS heavy_machineries_dealer_dealer_id, heavy_machineries_dealer.dealer_code AS heavy_machineries_dealer_dealer_code, heavy_machineries_dealer.opportunity_owner AS heavy_machineries_dealer_opportunity_owner 
FROM heavy_machineries_dealer 
WHERE heavy_machineries_dealer.dealer_id = %(dealer_id_1)s AND heavy_machineries_dealer.dealer_code = %(dealer_code_1)s AND heavy_machineries_dealer.opportunity_owner = %(opportunity_owner_1)s 
 LIMIT %(param_1)s
2024-10-23 17:10:53,736 - INFO - [generated in 0.00020s] {'dealer_id_1': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code_1': 'Dealer12', 'opportunity_owner_1': 'Ramesh Kumar', 'param_1': 1}
2024-10-23 17:10:53,738 - INFO - Dealer with ID 92190686-a328-4f16-b798-b940f5e3808f not found, but no need to create new dealer. Proceeding with existing dealers.
2024-10-23 17:10:53,744 - INFO - Parsed close_date: 2024-12-31 18:30:00
2024-10-23 17:10:53,744 - INFO - Determined stage from probability: Decision Makers
2024-10-23 17:10:53,744 - INFO - Currency conversions for amount 12000000: {'USD': 120000000, 'AUD': 60000000, 'CAD': 12000000, 'JPY': 21120000.0, 'EUR': 144000.0, 'GBP': 240000000, 'CNY': 72000000, 'INR': 12000000}
2024-10-23 17:10:53,744 - INFO - ROLLBACK
2024-10-23 17:10:53,745 - ERROR - Error in creating customer: <class 'sqlalchemy.orm.decl_api.DeclarativeMeta'> is not a generic class
2024-10-23 17:10:57,167 - INFO - End of create_new_customer function
2024-10-23 17:10:57,167 - INFO - 127.0.0.1 - - [23/Oct/2024 17:10:57] "[35m[1mPOST /new-customer HTTP/1.1[0m" 500 -
2024-10-23 17:12:30,811 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\tables.py', reloading
2024-10-23 17:12:30,949 - INFO -  * Restarting with stat
2024-10-23 17:12:32,123 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-23 17:12:32,146 - WARNING -  * Debugger is active!
2024-10-23 17:12:32,151 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 17:12:32,424 - INFO - BEGIN (implicit)
2024-10-23 17:12:32,428 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 17:12:32,428 - INFO - [generated in 0.00033s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 17:12:32,433 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 17:12:32,433 - INFO - Received request to create new customer
2024-10-23 17:12:32,433 - DEBUG - Request payload: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'otp': '983799', 'email': 'komalsaikiran05@gmail.com'}
2024-10-23 17:12:32,433 - INFO - Generated opportunity_id: 55d7cd19-739c-4e2f-9970-0db0f39ab28b
2024-10-23 17:12:32,523 - INFO - Payload after adding created_date and opportunity_id: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'otp': '983799', 'email': 'komalsaikiran05@gmail.com', 'created_date': datetime.datetime(2024, 10, 23, 17, 12, 32, 523174, tzinfo=<DstTzInfo 'Asia/Kolkata' IST+5:30:00 STD>), 'opportunity_id': '55d7cd19-739c-4e2f-9970-0db0f39ab28b'}
2024-10-23 17:12:32,525 - INFO - SELECT heavy_machineries_accounts.account_id AS heavy_machineries_accounts_account_id, heavy_machineries_accounts.account_name AS heavy_machineries_accounts_account_name 
FROM heavy_machineries_accounts 
WHERE heavy_machineries_accounts.account_name = %(account_name_1)s 
 LIMIT %(param_1)s
2024-10-23 17:12:32,526 - INFO - [generated in 0.00068s] {'account_name_1': 'Mahindra Ltd', 'param_1': 1}
2024-10-23 17:12:32,527 - INFO - Account found: Mahindra Ltd
2024-10-23 17:12:32,529 - INFO - SELECT heavy_machineries_dealer.dealer_id AS heavy_machineries_dealer_dealer_id, heavy_machineries_dealer.dealer_code AS heavy_machineries_dealer_dealer_code, heavy_machineries_dealer.opportunity_owner AS heavy_machineries_dealer_opportunity_owner 
FROM heavy_machineries_dealer 
WHERE heavy_machineries_dealer.dealer_id = %(dealer_id_1)s AND heavy_machineries_dealer.dealer_code = %(dealer_code_1)s AND heavy_machineries_dealer.opportunity_owner = %(opportunity_owner_1)s 
 LIMIT %(param_1)s
2024-10-23 17:12:32,529 - INFO - [generated in 0.00040s] {'dealer_id_1': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code_1': 'Dealer12', 'opportunity_owner_1': 'Ramesh Kumar', 'param_1': 1}
2024-10-23 17:12:32,533 - INFO - Dealer with ID 92190686-a328-4f16-b798-b940f5e3808f not found, but no need to create new dealer. Proceeding with existing dealers.
2024-10-23 17:12:32,537 - INFO - Parsed close_date: 2024-12-31 18:30:00
2024-10-23 17:12:32,537 - INFO - Determined stage from probability: Decision Makers
2024-10-23 17:12:32,537 - INFO - Currency conversions for amount 12000000: {'USD': 120000000, 'AUD': 60000000, 'CAD': 12000000, 'JPY': 21120000.0, 'EUR': 144000.0, 'GBP': 240000000, 'CNY': 72000000, 'INR': 12000000}
2024-10-23 17:12:32,538 - INFO - ROLLBACK
2024-10-23 17:12:32,539 - ERROR - Error in creating customer: <class 'sqlalchemy.orm.decl_api.DeclarativeMeta'> is not a generic class
2024-10-23 17:12:36,182 - INFO - End of create_new_customer function
2024-10-23 17:12:36,183 - INFO - 127.0.0.1 - - [23/Oct/2024 17:12:36] "[35m[1mPOST /new-customer HTTP/1.1[0m" 500 -
2024-10-23 17:12:59,807 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\tables.py', reloading
2024-10-23 17:12:59,983 - INFO -  * Restarting with stat
2024-10-23 17:13:01,011 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-23 17:13:01,032 - WARNING -  * Debugger is active!
2024-10-23 17:13:01,037 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 17:13:01,433 - INFO - BEGIN (implicit)
2024-10-23 17:13:01,435 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 17:13:01,435 - INFO - [generated in 0.00020s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 17:13:01,438 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 17:13:01,438 - INFO - Received request to create new customer
2024-10-23 17:13:01,438 - DEBUG - Request payload: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'otp': '983799', 'email': 'komalsaikiran05@gmail.com'}
2024-10-23 17:13:01,438 - INFO - Generated opportunity_id: cdbb8174-665a-4651-a516-fb7e132f5fbf
2024-10-23 17:13:01,507 - INFO - Payload after adding created_date and opportunity_id: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'otp': '983799', 'email': 'komalsaikiran05@gmail.com', 'created_date': datetime.datetime(2024, 10, 23, 17, 13, 1, 507714, tzinfo=<DstTzInfo 'Asia/Kolkata' IST+5:30:00 STD>), 'opportunity_id': 'cdbb8174-665a-4651-a516-fb7e132f5fbf'}
2024-10-23 17:13:01,509 - INFO - SELECT heavy_machineries_accounts.account_id AS heavy_machineries_accounts_account_id, heavy_machineries_accounts.account_name AS heavy_machineries_accounts_account_name 
FROM heavy_machineries_accounts 
WHERE heavy_machineries_accounts.account_name = %(account_name_1)s 
 LIMIT %(param_1)s
2024-10-23 17:13:01,509 - INFO - [generated in 0.00026s] {'account_name_1': 'Mahindra Ltd', 'param_1': 1}
2024-10-23 17:13:01,511 - INFO - Account found: Mahindra Ltd
2024-10-23 17:13:01,512 - INFO - SELECT heavy_machineries_dealer.dealer_id AS heavy_machineries_dealer_dealer_id, heavy_machineries_dealer.dealer_code AS heavy_machineries_dealer_dealer_code, heavy_machineries_dealer.opportunity_owner AS heavy_machineries_dealer_opportunity_owner 
FROM heavy_machineries_dealer 
WHERE heavy_machineries_dealer.dealer_id = %(dealer_id_1)s AND heavy_machineries_dealer.dealer_code = %(dealer_code_1)s AND heavy_machineries_dealer.opportunity_owner = %(opportunity_owner_1)s 
 LIMIT %(param_1)s
2024-10-23 17:13:01,512 - INFO - [generated in 0.00030s] {'dealer_id_1': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code_1': 'Dealer12', 'opportunity_owner_1': 'Ramesh Kumar', 'param_1': 1}
2024-10-23 17:13:01,515 - INFO - Dealer with ID 92190686-a328-4f16-b798-b940f5e3808f not found, but no need to create new dealer. Proceeding with existing dealers.
2024-10-23 17:13:01,517 - INFO - Parsed close_date: 2024-12-31 18:30:00
2024-10-23 17:13:01,517 - INFO - Determined stage from probability: Decision Makers
2024-10-23 17:13:01,517 - INFO - Currency conversions for amount 12000000: {'USD': 120000000, 'AUD': 60000000, 'CAD': 12000000, 'JPY': 21120000.0, 'EUR': 144000.0, 'GBP': 240000000, 'CNY': 72000000, 'INR': 12000000}
2024-10-23 17:13:01,517 - INFO - ROLLBACK
2024-10-23 17:13:01,518 - ERROR - Error in creating customer: <class 'sqlalchemy.orm.decl_api.DeclarativeMeta'> is not a generic class
2024-10-23 17:13:04,963 - INFO - End of create_new_customer function
2024-10-23 17:13:04,964 - INFO - 127.0.0.1 - - [23/Oct/2024 17:13:04] "[35m[1mPOST /new-customer HTTP/1.1[0m" 500 -
2024-10-23 17:17:12,049 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_opportunity.py', reloading
2024-10-23 17:17:12,163 - INFO -  * Restarting with stat
2024-10-23 17:17:12,939 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-23 17:17:12,954 - WARNING -  * Debugger is active!
2024-10-23 17:17:12,957 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 17:21:21,418 - INFO - Flask application has stopped.
2024-10-23 17:21:21,573 - INFO - Flask application has stopped.
2024-10-23 17:21:24,452 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-23 17:21:24,491 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-23 17:21:24,491 - INFO - [33mPress CTRL+C to quit[0m
2024-10-23 17:21:24,494 - INFO -  * Restarting with stat
2024-10-23 17:21:25,292 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-23 17:21:25,308 - WARNING -  * Debugger is active!
2024-10-23 17:21:25,311 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 17:22:03,034 - INFO - BEGIN (implicit)
2024-10-23 17:22:03,036 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 17:22:03,036 - INFO - [generated in 0.00019s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 17:22:03,039 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 17:22:03,039 - INFO - Received request to create new customer
2024-10-23 17:22:03,039 - DEBUG - Request payload: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'otp': '983799', 'email': 'komalsaikiran05@gmail.com'}
2024-10-23 17:22:03,040 - INFO - Generated opportunity_id: 39b49670-d1fd-47a2-b628-584fc1623359
2024-10-23 17:22:03,110 - INFO - Payload after adding created_date and opportunity_id: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'otp': '983799', 'email': 'komalsaikiran05@gmail.com', 'created_date': datetime.datetime(2024, 10, 23, 17, 22, 3, 110573, tzinfo=<DstTzInfo 'Asia/Kolkata' IST+5:30:00 STD>), 'opportunity_id': '39b49670-d1fd-47a2-b628-584fc1623359'}
2024-10-23 17:22:03,111 - INFO - SELECT heavy_machineries_accounts.account_id AS heavy_machineries_accounts_account_id, heavy_machineries_accounts.account_name AS heavy_machineries_accounts_account_name 
FROM heavy_machineries_accounts 
WHERE heavy_machineries_accounts.account_name = %(account_name_1)s 
 LIMIT %(param_1)s
2024-10-23 17:22:03,111 - INFO - [generated in 0.00021s] {'account_name_1': 'Mahindra Ltd', 'param_1': 1}
2024-10-23 17:22:03,113 - INFO - Account found: Mahindra Ltd
2024-10-23 17:22:03,114 - INFO - SELECT heavy_machineries_dealer.dealer_id AS heavy_machineries_dealer_dealer_id, heavy_machineries_dealer.dealer_code AS heavy_machineries_dealer_dealer_code, heavy_machineries_dealer.opportunity_owner AS heavy_machineries_dealer_opportunity_owner 
FROM heavy_machineries_dealer 
WHERE heavy_machineries_dealer.dealer_id = %(dealer_id_1)s AND heavy_machineries_dealer.dealer_code = %(dealer_code_1)s AND heavy_machineries_dealer.opportunity_owner = %(opportunity_owner_1)s 
 LIMIT %(param_1)s
2024-10-23 17:22:03,114 - INFO - [generated in 0.00037s] {'dealer_id_1': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code_1': 'Dealer12', 'opportunity_owner_1': 'Ramesh Kumar', 'param_1': 1}
2024-10-23 17:22:03,116 - INFO - Dealer with ID 92190686-a328-4f16-b798-b940f5e3808f not found, but no need to create new dealer. Proceeding with existing dealers.
2024-10-23 17:22:03,118 - INFO - Parsed close_date: 2024-12-31 18:30:00
2024-10-23 17:22:03,119 - INFO - Determined stage from probability: Decision Makers
2024-10-23 17:22:03,119 - INFO - Currency conversions for amount 12000000: {'USD': 120000000, 'AUD': 60000000, 'CAD': 12000000, 'JPY': 21120000.0, 'EUR': 144000.0, 'GBP': 240000000, 'CNY': 72000000, 'INR': 12000000}
2024-10-23 17:22:03,121 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id IS NULL 
 LIMIT %(param_1)s
2024-10-23 17:22:03,121 - INFO - [generated in 0.00021s] {'param_1': 1}
2024-10-23 17:22:03,123 - ERROR - Employee with ID None not found.
2024-10-23 17:22:06,516 - INFO - ROLLBACK
2024-10-23 17:22:06,519 - INFO - End of create_new_customer function
2024-10-23 17:22:06,520 - INFO - 127.0.0.1 - - [23/Oct/2024 17:22:06] "[33mPOST /new-customer HTTP/1.1[0m" 404 -
2024-10-23 17:37:05,471 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_opportunity.py', reloading
2024-10-23 17:37:05,741 - INFO -  * Restarting with stat
2024-10-23 17:37:07,413 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-23 17:37:07,456 - WARNING -  * Debugger is active!
2024-10-23 17:37:07,459 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 17:37:07,581 - INFO - BEGIN (implicit)
2024-10-23 17:37:07,583 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 17:37:07,584 - INFO - [generated in 0.00065s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 17:37:07,589 - ERROR - OTP validation failed: OTP for komalsaikiran05@gmail.com has expired.
2024-10-23 17:37:07,590 - INFO - ROLLBACK
2024-10-23 17:37:07,590 - INFO - 127.0.0.1 - - [23/Oct/2024 17:37:07] "[31m[1mPOST /new-customer HTTP/1.1[0m" 400 -
2024-10-23 17:37:22,368 - INFO - Flask application has stopped.
2024-10-23 17:37:22,508 - INFO - Flask application has stopped.
2024-10-23 17:38:13,337 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-23 17:38:13,369 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-23 17:38:13,369 - INFO - [33mPress CTRL+C to quit[0m
2024-10-23 17:38:13,370 - INFO -  * Restarting with stat
2024-10-23 17:38:14,244 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-23 17:38:14,260 - WARNING -  * Debugger is active!
2024-10-23 17:38:14,263 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 17:38:17,636 - INFO - BEGIN (implicit)
2024-10-23 17:38:17,639 - INFO - INSERT INTO otp_store (email, otp, timestamp) VALUES (%(email)s, %(otp)s, %(timestamp)s) RETURNING otp_store.id
2024-10-23 17:38:17,639 - INFO - [generated in 0.00033s] {'email': 'komalsaikiran05@gmail.com', 'otp': '641916', 'timestamp': datetime.datetime(2024, 10, 23, 17, 38, 17, 547326)}
2024-10-23 17:38:17,651 - INFO - COMMIT
2024-10-23 17:38:17,655 - INFO - Generated OTP for komalsaikiran05@gmail.com: 641916
2024-10-23 17:38:20,899 - INFO - End of generate_otp function for email=komalsaikiran05@gmail.com
2024-10-23 17:38:20,901 - INFO - 127.0.0.1 - - [23/Oct/2024 17:38:20] "POST /generate-otp HTTP/1.1" 200 -
2024-10-23 17:38:33,842 - INFO - Flask application has stopped.
2024-10-23 17:38:33,963 - INFO - Flask application has stopped.
2024-10-23 17:38:41,047 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-23 17:38:41,078 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-23 17:38:41,078 - INFO - [33mPress CTRL+C to quit[0m
2024-10-23 17:38:41,081 - INFO -  * Restarting with stat
2024-10-23 17:38:41,940 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-23 17:38:41,959 - WARNING -  * Debugger is active!
2024-10-23 17:38:41,961 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 17:38:45,215 - INFO - BEGIN (implicit)
2024-10-23 17:38:45,218 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 17:38:45,219 - INFO - [generated in 0.00072s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 17:38:45,222 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 17:38:45,222 - INFO - Received request to create new customer
2024-10-23 17:38:45,222 - DEBUG - Request payload: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'otp': '641916', 'email': 'komalsaikiran05@gmail.com'}
2024-10-23 17:38:45,222 - INFO - Generated opportunity_id: bf3cdaac-6d7a-4175-b75d-728bbc7cbfd6
2024-10-23 17:38:45,406 - INFO - Payload after adding created_date and opportunity_id: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'otp': '641916', 'email': 'komalsaikiran05@gmail.com', 'created_date': datetime.datetime(2024, 10, 23, 17, 38, 45, 406545, tzinfo=<DstTzInfo 'Asia/Kolkata' IST+5:30:00 STD>), 'opportunity_id': 'bf3cdaac-6d7a-4175-b75d-728bbc7cbfd6'}
2024-10-23 17:38:45,407 - INFO - SELECT heavy_machineries_accounts.account_id AS heavy_machineries_accounts_account_id, heavy_machineries_accounts.account_name AS heavy_machineries_accounts_account_name 
FROM heavy_machineries_accounts 
WHERE heavy_machineries_accounts.account_name = %(account_name_1)s 
 LIMIT %(param_1)s
2024-10-23 17:38:45,407 - INFO - [generated in 0.00020s] {'account_name_1': 'Mahindra Ltd', 'param_1': 1}
2024-10-23 17:38:45,408 - INFO - Account found: Mahindra Ltd
2024-10-23 17:38:45,410 - INFO - SELECT heavy_machineries_dealer.dealer_id AS heavy_machineries_dealer_dealer_id, heavy_machineries_dealer.dealer_code AS heavy_machineries_dealer_dealer_code, heavy_machineries_dealer.opportunity_owner AS heavy_machineries_dealer_opportunity_owner 
FROM heavy_machineries_dealer 
WHERE heavy_machineries_dealer.dealer_id = %(dealer_id_1)s AND heavy_machineries_dealer.dealer_code = %(dealer_code_1)s AND heavy_machineries_dealer.opportunity_owner = %(opportunity_owner_1)s 
 LIMIT %(param_1)s
2024-10-23 17:38:45,410 - INFO - [generated in 0.00019s] {'dealer_id_1': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code_1': 'Dealer12', 'opportunity_owner_1': 'Ramesh Kumar', 'param_1': 1}
2024-10-23 17:38:45,413 - INFO - Dealer with ID 92190686-a328-4f16-b798-b940f5e3808f not found, but no need to create new dealer. Proceeding with existing dealers.
2024-10-23 17:38:45,421 - INFO - Parsed close_date: 2024-12-31 18:30:00
2024-10-23 17:38:45,422 - INFO - Determined stage from probability: Decision Makers
2024-10-23 17:38:45,422 - INFO - Currency conversions for amount 12000000: {'USD': 120000000, 'AUD': 60000000, 'CAD': 12000000, 'JPY': 21120000.0, 'EUR': 144000.0, 'GBP': 240000000, 'CNY': 72000000, 'INR': 12000000}
2024-10-23 17:38:45,428 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id IS NULL 
 LIMIT %(param_1)s
2024-10-23 17:38:45,429 - INFO - [generated in 0.00101s] {'param_1': 1}
2024-10-23 17:38:45,433 - ERROR - Employee with ID None not found.
2024-10-23 17:38:49,382 - INFO - ROLLBACK
2024-10-23 17:38:49,383 - INFO - End of create_new_customer function
2024-10-23 17:38:49,383 - INFO - 127.0.0.1 - - [23/Oct/2024 17:38:49] "[33mPOST /new-customer HTTP/1.1[0m" 404 -
2024-10-23 17:41:39,082 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_opportunity.py', reloading
2024-10-23 17:41:39,250 - INFO -  * Restarting with stat
2024-10-23 17:41:40,389 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-23 17:41:40,411 - WARNING -  * Debugger is active!
2024-10-23 17:41:40,415 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 17:41:40,530 - INFO - BEGIN (implicit)
2024-10-23 17:41:40,533 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 17:41:40,533 - INFO - [generated in 0.00020s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 17:41:40,537 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 17:41:40,537 - INFO - Received request to create new customer
2024-10-23 17:41:40,537 - DEBUG - Request payload: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'otp': '641916', 'email': 'komalsaikiran05@gmail.com'}
2024-10-23 17:41:40,537 - INFO - Generated opportunity_id: 79e3df02-692c-4510-a8c3-bd5377433e33
2024-10-23 17:41:40,667 - INFO - Payload after adding created_date and opportunity_id: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'otp': '641916', 'email': 'komalsaikiran05@gmail.com', 'created_date': datetime.datetime(2024, 10, 23, 17, 41, 40, 667235, tzinfo=<DstTzInfo 'Asia/Kolkata' IST+5:30:00 STD>), 'opportunity_id': '79e3df02-692c-4510-a8c3-bd5377433e33'}
2024-10-23 17:41:40,668 - INFO - SELECT heavy_machineries_accounts.account_id AS heavy_machineries_accounts_account_id, heavy_machineries_accounts.account_name AS heavy_machineries_accounts_account_name 
FROM heavy_machineries_accounts 
WHERE heavy_machineries_accounts.account_name = %(account_name_1)s 
 LIMIT %(param_1)s
2024-10-23 17:41:40,669 - INFO - [generated in 0.00034s] {'account_name_1': 'Mahindra Ltd', 'param_1': 1}
2024-10-23 17:41:40,672 - INFO - Account found: Mahindra Ltd
2024-10-23 17:41:40,675 - INFO - SELECT heavy_machineries_dealer.dealer_id AS heavy_machineries_dealer_dealer_id, heavy_machineries_dealer.dealer_code AS heavy_machineries_dealer_dealer_code, heavy_machineries_dealer.opportunity_owner AS heavy_machineries_dealer_opportunity_owner 
FROM heavy_machineries_dealer 
WHERE heavy_machineries_dealer.dealer_id = %(dealer_id_1)s AND heavy_machineries_dealer.dealer_code = %(dealer_code_1)s AND heavy_machineries_dealer.opportunity_owner = %(opportunity_owner_1)s 
 LIMIT %(param_1)s
2024-10-23 17:41:40,675 - INFO - [generated in 0.00044s] {'dealer_id_1': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code_1': 'Dealer12', 'opportunity_owner_1': 'Ramesh Kumar', 'param_1': 1}
2024-10-23 17:41:40,677 - INFO - Dealer with ID 92190686-a328-4f16-b798-b940f5e3808f not found, but no need to create new dealer. Proceeding with existing dealers.
2024-10-23 17:41:40,682 - INFO - Parsed close_date: 2024-12-31 18:30:00
2024-10-23 17:41:40,682 - INFO - Determined stage from probability: Decision Makers
2024-10-23 17:41:40,682 - INFO - Currency conversions for amount 12000000: {'USD': 120000000, 'AUD': 60000000, 'CAD': 12000000, 'JPY': 21120000.0, 'EUR': 144000.0, 'GBP': 240000000, 'CNY': 72000000, 'INR': 12000000}
2024-10-23 17:41:40,682 - INFO - Looking for employee with ID: b66710eb-93c1-4c5c-90cf-6b368151f9df
2024-10-23 17:41:40,686 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-23 17:41:40,686 - INFO - [generated in 0.00038s] {'id_1': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'param_1': 1}
2024-10-23 17:41:40,690 - INFO - ROLLBACK
2024-10-23 17:41:40,691 - ERROR - Error in creating customer: 'Employee' object has no attribute 'employee_number'
2024-10-23 17:41:44,214 - INFO - End of create_new_customer function
2024-10-23 17:41:44,215 - INFO - 127.0.0.1 - - [23/Oct/2024 17:41:44] "[35m[1mPOST /new-customer HTTP/1.1[0m" 500 -
2024-10-23 17:42:14,814 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_opportunity.py', reloading
2024-10-23 17:42:15,038 - INFO -  * Restarting with stat
2024-10-23 17:42:16,207 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-23 17:42:16,230 - WARNING -  * Debugger is active!
2024-10-23 17:42:16,235 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 17:42:16,586 - INFO - BEGIN (implicit)
2024-10-23 17:42:16,588 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 17:42:16,588 - INFO - [generated in 0.00024s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 17:42:16,591 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 17:42:16,591 - INFO - Received request to create new customer
2024-10-23 17:42:16,591 - DEBUG - Request payload: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'otp': '641916', 'email': 'komalsaikiran05@gmail.com'}
2024-10-23 17:42:16,591 - INFO - Generated opportunity_id: 6f54bfc5-b9d1-485c-9a57-41ee9aa8d3ee
2024-10-23 17:42:16,657 - INFO - Payload after adding created_date and opportunity_id: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'otp': '641916', 'email': 'komalsaikiran05@gmail.com', 'created_date': datetime.datetime(2024, 10, 23, 17, 42, 16, 657906, tzinfo=<DstTzInfo 'Asia/Kolkata' IST+5:30:00 STD>), 'opportunity_id': '6f54bfc5-b9d1-485c-9a57-41ee9aa8d3ee'}
2024-10-23 17:42:16,658 - INFO - SELECT heavy_machineries_accounts.account_id AS heavy_machineries_accounts_account_id, heavy_machineries_accounts.account_name AS heavy_machineries_accounts_account_name 
FROM heavy_machineries_accounts 
WHERE heavy_machineries_accounts.account_name = %(account_name_1)s 
 LIMIT %(param_1)s
2024-10-23 17:42:16,658 - INFO - [generated in 0.00019s] {'account_name_1': 'Mahindra Ltd', 'param_1': 1}
2024-10-23 17:42:16,659 - INFO - Account found: Mahindra Ltd
2024-10-23 17:42:16,661 - INFO - SELECT heavy_machineries_dealer.dealer_id AS heavy_machineries_dealer_dealer_id, heavy_machineries_dealer.dealer_code AS heavy_machineries_dealer_dealer_code, heavy_machineries_dealer.opportunity_owner AS heavy_machineries_dealer_opportunity_owner 
FROM heavy_machineries_dealer 
WHERE heavy_machineries_dealer.dealer_id = %(dealer_id_1)s AND heavy_machineries_dealer.dealer_code = %(dealer_code_1)s AND heavy_machineries_dealer.opportunity_owner = %(opportunity_owner_1)s 
 LIMIT %(param_1)s
2024-10-23 17:42:16,661 - INFO - [generated in 0.00047s] {'dealer_id_1': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code_1': 'Dealer12', 'opportunity_owner_1': 'Ramesh Kumar', 'param_1': 1}
2024-10-23 17:42:16,663 - INFO - Dealer with ID 92190686-a328-4f16-b798-b940f5e3808f not found, but no need to create new dealer. Proceeding with existing dealers.
2024-10-23 17:42:16,666 - INFO - Parsed close_date: 2024-12-31 18:30:00
2024-10-23 17:42:16,666 - INFO - Determined stage from probability: Decision Makers
2024-10-23 17:42:16,666 - INFO - Currency conversions for amount 12000000: {'USD': 120000000, 'AUD': 60000000, 'CAD': 12000000, 'JPY': 21120000.0, 'EUR': 144000.0, 'GBP': 240000000, 'CNY': 72000000, 'INR': 12000000}
2024-10-23 17:42:16,666 - INFO - Looking for employee with ID: b66710eb-93c1-4c5c-90cf-6b368151f9df
2024-10-23 17:42:16,669 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-23 17:42:16,669 - INFO - [generated in 0.00026s] {'id_1': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'param_1': 1}
2024-10-23 17:42:16,671 - INFO - ROLLBACK
2024-10-23 17:42:16,672 - ERROR - Error in creating customer: 'Employee' object has no attribute 'employee_number'
2024-10-23 17:42:20,317 - INFO - End of create_new_customer function
2024-10-23 17:42:20,317 - INFO - 127.0.0.1 - - [23/Oct/2024 17:42:20] "[35m[1mPOST /new-customer HTTP/1.1[0m" 500 -
2024-10-23 17:43:41,238 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_opportunity.py', reloading
2024-10-23 17:43:41,413 - INFO -  * Restarting with stat
2024-10-23 17:43:42,624 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-23 17:43:42,642 - WARNING -  * Debugger is active!
2024-10-23 17:43:42,646 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 17:43:42,758 - INFO - BEGIN (implicit)
2024-10-23 17:43:42,760 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 17:43:42,760 - INFO - [generated in 0.00021s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 17:43:42,764 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 17:43:42,764 - INFO - Received request to create new customer
2024-10-23 17:43:42,764 - DEBUG - Request payload: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'otp': '641916', 'email': 'komalsaikiran05@gmail.com'}
2024-10-23 17:43:42,764 - INFO - Generated opportunity_id: 976be7fc-24d9-4c11-832e-ba2b56cbdd5c
2024-10-23 17:43:42,847 - INFO - Payload after adding created_date and opportunity_id: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'otp': '641916', 'email': 'komalsaikiran05@gmail.com', 'created_date': datetime.datetime(2024, 10, 23, 17, 43, 42, 847780, tzinfo=<DstTzInfo 'Asia/Kolkata' IST+5:30:00 STD>), 'opportunity_id': '976be7fc-24d9-4c11-832e-ba2b56cbdd5c'}
2024-10-23 17:43:42,850 - INFO - SELECT heavy_machineries_accounts.account_id AS heavy_machineries_accounts_account_id, heavy_machineries_accounts.account_name AS heavy_machineries_accounts_account_name 
FROM heavy_machineries_accounts 
WHERE heavy_machineries_accounts.account_name = %(account_name_1)s 
 LIMIT %(param_1)s
2024-10-23 17:43:42,850 - INFO - [generated in 0.00030s] {'account_name_1': 'Mahindra Ltd', 'param_1': 1}
2024-10-23 17:43:42,852 - INFO - Account found: Mahindra Ltd
2024-10-23 17:43:42,854 - INFO - SELECT heavy_machineries_dealer.dealer_id AS heavy_machineries_dealer_dealer_id, heavy_machineries_dealer.dealer_code AS heavy_machineries_dealer_dealer_code, heavy_machineries_dealer.opportunity_owner AS heavy_machineries_dealer_opportunity_owner 
FROM heavy_machineries_dealer 
WHERE heavy_machineries_dealer.dealer_id = %(dealer_id_1)s AND heavy_machineries_dealer.dealer_code = %(dealer_code_1)s AND heavy_machineries_dealer.opportunity_owner = %(opportunity_owner_1)s 
 LIMIT %(param_1)s
2024-10-23 17:43:42,855 - INFO - [generated in 0.00105s] {'dealer_id_1': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code_1': 'Dealer12', 'opportunity_owner_1': 'Ramesh Kumar', 'param_1': 1}
2024-10-23 17:43:42,857 - INFO - Dealer with ID 92190686-a328-4f16-b798-b940f5e3808f not found, but no need to create new dealer. Proceeding with existing dealers.
2024-10-23 17:43:42,862 - INFO - Parsed close_date: 2024-12-31 18:30:00
2024-10-23 17:43:42,863 - INFO - Determined stage from probability: Decision Makers
2024-10-23 17:43:42,863 - INFO - Currency conversions for amount 12000000: {'USD': 120000000, 'AUD': 60000000, 'CAD': 12000000, 'JPY': 21120000.0, 'EUR': 144000.0, 'GBP': 240000000, 'CNY': 72000000, 'INR': 12000000}
2024-10-23 17:43:42,863 - INFO - Looking for employee with ID: b66710eb-93c1-4c5c-90cf-6b368151f9df
2024-10-23 17:43:42,868 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-23 17:43:42,868 - INFO - [generated in 0.00037s] {'id_1': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'param_1': 1}
2024-10-23 17:43:42,872 - INFO - ROLLBACK
2024-10-23 17:43:42,873 - ERROR - Error in creating customer: 'Employee' object has no attribute 'employee_number'
2024-10-23 17:43:46,827 - INFO - End of create_new_customer function
2024-10-23 17:43:46,827 - INFO - 127.0.0.1 - - [23/Oct/2024 17:43:46] "[35m[1mPOST /new-customer HTTP/1.1[0m" 500 -
2024-10-23 17:44:16,618 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_opportunity.py', reloading
2024-10-23 17:44:16,836 - INFO -  * Restarting with stat
2024-10-23 17:44:17,776 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-23 17:44:17,795 - WARNING -  * Debugger is active!
2024-10-23 17:44:17,800 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 17:49:58,374 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_opportunity.py', reloading
2024-10-23 17:49:58,481 - INFO -  * Restarting with stat
2024-10-23 17:49:59,357 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-23 17:49:59,374 - WARNING -  * Debugger is active!
2024-10-23 17:49:59,377 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 19:29:57,174 - INFO - Flask application has stopped.
2024-10-23 19:29:57,842 - INFO - Flask application has stopped.
2024-10-23 19:48:48,237 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-23 19:48:48,294 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-23 19:48:48,295 - INFO - [33mPress CTRL+C to quit[0m
2024-10-23 19:48:48,298 - INFO -  * Restarting with stat
2024-10-23 19:48:49,137 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-23 19:48:49,161 - WARNING -  * Debugger is active!
2024-10-23 19:48:49,172 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 19:48:52,405 - INFO - BEGIN (implicit)
2024-10-23 19:48:52,409 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 19:48:52,409 - INFO - [generated in 0.00032s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 19:48:52,417 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 19:48:52,418 - INFO - Received request to create new customer
2024-10-23 19:48:52,418 - DEBUG - Request payload: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'otp': '641916', 'email': 'komalsaikiran05@gmail.com'}
2024-10-23 19:48:52,418 - INFO - Generated opportunity_id: 9d57f2e6-9d6a-49bd-a821-96c338690ab8
2024-10-23 19:48:52,494 - INFO - Payload after adding created_date and opportunity_id: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'otp': '641916', 'email': 'komalsaikiran05@gmail.com', 'created_date': datetime.datetime(2024, 10, 23, 19, 48, 52, 494777, tzinfo=<DstTzInfo 'Asia/Kolkata' IST+5:30:00 STD>), 'opportunity_id': '9d57f2e6-9d6a-49bd-a821-96c338690ab8'}
2024-10-23 19:48:52,495 - INFO - SELECT heavy_machineries_accounts.account_id AS heavy_machineries_accounts_account_id, heavy_machineries_accounts.account_name AS heavy_machineries_accounts_account_name 
FROM heavy_machineries_accounts 
WHERE heavy_machineries_accounts.account_name = %(account_name_1)s 
 LIMIT %(param_1)s
2024-10-23 19:48:52,495 - INFO - [generated in 0.00022s] {'account_name_1': 'Mahindra Ltd', 'param_1': 1}
2024-10-23 19:48:52,498 - INFO - Account found: Mahindra Ltd
2024-10-23 19:48:52,500 - INFO - SELECT heavy_machineries_dealer.dealer_id AS heavy_machineries_dealer_dealer_id, heavy_machineries_dealer.dealer_code AS heavy_machineries_dealer_dealer_code, heavy_machineries_dealer.opportunity_owner AS heavy_machineries_dealer_opportunity_owner 
FROM heavy_machineries_dealer 
WHERE heavy_machineries_dealer.dealer_id = %(dealer_id_1)s AND heavy_machineries_dealer.dealer_code = %(dealer_code_1)s AND heavy_machineries_dealer.opportunity_owner = %(opportunity_owner_1)s 
 LIMIT %(param_1)s
2024-10-23 19:48:52,500 - INFO - [generated in 0.00059s] {'dealer_id_1': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code_1': 'Dealer12', 'opportunity_owner_1': 'Ramesh Kumar', 'param_1': 1}
2024-10-23 19:48:52,503 - INFO - Dealer with ID 92190686-a328-4f16-b798-b940f5e3808f not found, but no need to create new dealer. Proceeding with existing dealers.
2024-10-23 19:48:52,509 - INFO - Parsed close_date: 2024-12-31 18:30:00
2024-10-23 19:48:52,509 - INFO - Determined stage from probability: Decision Makers
2024-10-23 19:48:52,509 - INFO - Currency conversions for amount 12000000: {'USD': 120000000, 'AUD': 60000000, 'CAD': 12000000, 'JPY': 21120000.0, 'EUR': 144000.0, 'GBP': 240000000, 'CNY': 72000000, 'INR': 12000000}
2024-10-23 19:48:52,509 - INFO - Looking for employee with ID: b66710eb-93c1-4c5c-90cf-6b368151f9df
2024-10-23 19:48:52,511 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-23 19:48:52,512 - INFO - [generated in 0.00026s] {'id_1': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'param_1': 1}
2024-10-23 19:48:52,517 - INFO - ROLLBACK
2024-10-23 19:48:52,517 - ERROR - Error in creating customer: 'Employee' object has no attribute 'employee_number'
2024-10-23 19:48:57,078 - INFO - End of create_new_customer function
2024-10-23 19:48:57,078 - INFO - 127.0.0.1 - - [23/Oct/2024 19:48:57] "[35m[1mPOST /new-customer HTTP/1.1[0m" 500 -
2024-10-23 19:58:28,304 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_opportunity.py', reloading
2024-10-23 19:58:28,488 - INFO -  * Restarting with stat
2024-10-23 19:58:29,853 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-23 19:58:29,886 - WARNING -  * Debugger is active!
2024-10-23 19:58:29,890 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 19:58:30,020 - INFO - BEGIN (implicit)
2024-10-23 19:58:30,024 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 19:58:30,025 - INFO - [generated in 0.00139s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 19:58:30,033 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 19:58:30,033 - INFO - Received request to create new customer
2024-10-23 19:58:30,033 - DEBUG - Request payload: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'otp': '641916', 'email': 'komalsaikiran05@gmail.com'}
2024-10-23 19:58:30,034 - INFO - Generated opportunity_id: e695180b-20a8-4836-b377-dddccb668f31
2024-10-23 19:58:30,106 - INFO - Payload after adding created_date and opportunity_id: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'otp': '641916', 'email': 'komalsaikiran05@gmail.com', 'created_date': datetime.datetime(2024, 10, 23, 19, 58, 30, 106462, tzinfo=<DstTzInfo 'Asia/Kolkata' IST+5:30:00 STD>), 'opportunity_id': 'e695180b-20a8-4836-b377-dddccb668f31'}
2024-10-23 19:58:30,108 - INFO - SELECT heavy_machineries_accounts.account_id AS heavy_machineries_accounts_account_id, heavy_machineries_accounts.account_name AS heavy_machineries_accounts_account_name 
FROM heavy_machineries_accounts 
WHERE heavy_machineries_accounts.account_name = %(account_name_1)s 
 LIMIT %(param_1)s
2024-10-23 19:58:30,109 - INFO - [generated in 0.00062s] {'account_name_1': 'Mahindra Ltd', 'param_1': 1}
2024-10-23 19:58:30,110 - INFO - Account found: Mahindra Ltd
2024-10-23 19:58:30,112 - INFO - SELECT heavy_machineries_dealer.dealer_id AS heavy_machineries_dealer_dealer_id, heavy_machineries_dealer.dealer_code AS heavy_machineries_dealer_dealer_code, heavy_machineries_dealer.opportunity_owner AS heavy_machineries_dealer_opportunity_owner 
FROM heavy_machineries_dealer 
WHERE heavy_machineries_dealer.dealer_id = %(dealer_id_1)s AND heavy_machineries_dealer.dealer_code = %(dealer_code_1)s AND heavy_machineries_dealer.opportunity_owner = %(opportunity_owner_1)s 
 LIMIT %(param_1)s
2024-10-23 19:58:30,112 - INFO - [generated in 0.00021s] {'dealer_id_1': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code_1': 'Dealer12', 'opportunity_owner_1': 'Ramesh Kumar', 'param_1': 1}
2024-10-23 19:58:30,114 - INFO - Dealer with ID 92190686-a328-4f16-b798-b940f5e3808f not found, but no need to create new dealer. Proceeding with existing dealers.
2024-10-23 19:58:30,120 - INFO - Parsed close_date: 2024-12-31 18:30:00
2024-10-23 19:58:30,120 - INFO - Determined stage from probability: Decision Makers
2024-10-23 19:58:30,120 - INFO - Currency conversions for amount 12000000: {'USD': 120000000, 'AUD': 60000000, 'CAD': 12000000, 'JPY': 21120000.0, 'EUR': 144000.0, 'GBP': 240000000, 'CNY': 72000000, 'INR': 12000000}
2024-10-23 19:58:30,120 - INFO - Looking for employee with ID: b66710eb-93c1-4c5c-90cf-6b368151f9df
2024-10-23 19:58:30,122 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-23 19:58:30,123 - INFO - [generated in 0.00020s] {'id_1': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'param_1': 1}
2024-10-23 19:58:30,126 - INFO - Employee found: shanti swaroop, ID: EMP0012
2024-10-23 19:58:30,126 - INFO - ROLLBACK
2024-10-23 19:58:30,127 - ERROR - Error in creating customer: 'usd' is an invalid keyword argument for HeavyMachineryOpportunity
2024-10-23 19:58:33,700 - INFO - End of create_new_customer function
2024-10-23 19:58:33,700 - INFO - 127.0.0.1 - - [23/Oct/2024 19:58:33] "[35m[1mPOST /new-customer HTTP/1.1[0m" 500 -
2024-10-23 20:03:06,845 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\tables.py', reloading
2024-10-23 20:03:07,041 - INFO -  * Restarting with stat
2024-10-23 20:03:08,481 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-23 20:03:08,502 - WARNING -  * Debugger is active!
2024-10-23 20:03:08,505 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 20:03:34,936 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\tables.py', reloading
2024-10-23 20:03:35,112 - INFO -  * Restarting with stat
2024-10-23 20:03:36,412 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-23 20:03:36,450 - WARNING -  * Debugger is active!
2024-10-23 20:03:36,456 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 20:03:36,696 - INFO - BEGIN (implicit)
2024-10-23 20:03:36,701 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-23 20:03:36,701 - INFO - [generated in 0.00040s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-23 20:03:36,706 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-23 20:03:36,706 - INFO - Received request to create new customer
2024-10-23 20:03:36,706 - DEBUG - Request payload: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'otp': '641916', 'email': 'komalsaikiran05@gmail.com'}
2024-10-23 20:03:36,707 - INFO - Generated opportunity_id: 47c18975-2b7f-4e63-8a49-3aadac672c21
2024-10-23 20:03:36,829 - INFO - Payload after adding created_date and opportunity_id: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'otp': '641916', 'email': 'komalsaikiran05@gmail.com', 'created_date': datetime.datetime(2024, 10, 23, 20, 3, 36, 829575, tzinfo=<DstTzInfo 'Asia/Kolkata' IST+5:30:00 STD>), 'opportunity_id': '47c18975-2b7f-4e63-8a49-3aadac672c21'}
2024-10-23 20:03:36,832 - INFO - SELECT heavy_machineries_accounts.account_id AS heavy_machineries_accounts_account_id, heavy_machineries_accounts.account_name AS heavy_machineries_accounts_account_name 
FROM heavy_machineries_accounts 
WHERE heavy_machineries_accounts.account_name = %(account_name_1)s 
 LIMIT %(param_1)s
2024-10-23 20:03:36,832 - INFO - [generated in 0.00038s] {'account_name_1': 'Mahindra Ltd', 'param_1': 1}
2024-10-23 20:03:36,835 - INFO - Account found: Mahindra Ltd
2024-10-23 20:03:36,838 - INFO - SELECT heavy_machineries_dealer.dealer_id AS heavy_machineries_dealer_dealer_id, heavy_machineries_dealer.dealer_code AS heavy_machineries_dealer_dealer_code, heavy_machineries_dealer.opportunity_owner AS heavy_machineries_dealer_opportunity_owner 
FROM heavy_machineries_dealer 
WHERE heavy_machineries_dealer.dealer_id = %(dealer_id_1)s AND heavy_machineries_dealer.dealer_code = %(dealer_code_1)s AND heavy_machineries_dealer.opportunity_owner = %(opportunity_owner_1)s 
 LIMIT %(param_1)s
2024-10-23 20:03:36,838 - INFO - [generated in 0.00048s] {'dealer_id_1': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code_1': 'Dealer12', 'opportunity_owner_1': 'Ramesh Kumar', 'param_1': 1}
2024-10-23 20:03:36,840 - INFO - Dealer with ID 92190686-a328-4f16-b798-b940f5e3808f not found, but no need to create new dealer. Proceeding with existing dealers.
2024-10-23 20:03:36,846 - INFO - Parsed close_date: 2024-12-31 18:30:00
2024-10-23 20:03:36,846 - INFO - Determined stage from probability: Decision Makers
2024-10-23 20:03:36,846 - INFO - Currency conversions for amount 12000000: {'USD': 120000000, 'AUD': 60000000, 'CAD': 12000000, 'JPY': 21120000.0, 'EUR': 144000.0, 'GBP': 240000000, 'CNY': 72000000, 'INR': 12000000}
2024-10-23 20:03:36,847 - INFO - Looking for employee with ID: b66710eb-93c1-4c5c-90cf-6b368151f9df
2024-10-23 20:03:36,852 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-23 20:03:36,853 - INFO - [generated in 0.00047s] {'id_1': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'param_1': 1}
2024-10-23 20:03:36,855 - INFO - Employee found: shanti swaroop, ID: EMP0012
2024-10-23 20:03:36,856 - INFO - New Opportunity object created: <User_models.tables.HeavyMachineryOpportunity object at 0x000001ADE4AC7150>
2024-10-23 20:03:36,861 - INFO - INSERT INTO heavy_machinery_opportunities (opportunity_id, opportunity_name, account_name, close_date, amount, description, dealer_id, dealer_code, stage, probability, next_step, created_date, employee_id, amount_in_words, usd, aus, cad, jpy, eur, gbp, cny) VALUES (%(opportunity_id)s, %(opportunity_name)s, %(account_name)s, %(close_date)s, %(amount)s, %(description)s, %(dealer_id)s, %(dealer_code)s, %(stage)s, %(probability)s, %(next_step)s, %(created_date)s, %(employee_id)s::UUID, %(amount_in_words)s, %(usd)s, %(aus)s, %(cad)s, %(jpy)s, %(eur)s, %(gbp)s, %(cny)s)
2024-10-23 20:03:36,862 - INFO - [generated in 0.00070s] {'opportunity_id': '47c18975-2b7f-4e63-8a49-3aadac672c21', 'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'close_date': datetime.datetime(2024, 12, 31, 18, 30), 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'stage': 'Decision Makers', 'probability': 80, 'next_step': 'Negotiations with the procurement team', 'created_date': datetime.datetime(2024, 10, 23, 20, 3, 36, 829575, tzinfo=<DstTzInfo 'Asia/Kolkata' IST+5:30:00 STD>), 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'amount_in_words': '12000000', 'usd': 120000000, 'aus': 60000000, 'cad': 12000000, 'jpy': 21120000.0, 'eur': 144000.0, 'gbp': 240000000, 'cny': 72000000}
2024-10-23 20:03:36,880 - INFO - COMMIT
2024-10-23 20:03:36,883 - INFO - Opportunity created successfully: 47c18975-2b7f-4e63-8a49-3aadac672c21
2024-10-23 20:03:36,988 - INFO - BEGIN (implicit)
2024-10-23 20:03:36,996 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(pk_1)s
2024-10-23 20:03:36,996 - INFO - [generated in 0.00066s] {'pk_1': '47c18975-2b7f-4e63-8a49-3aadac672c21'}
2024-10-23 20:03:37,006 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-23 20:03:37,006 - INFO - [generated in 0.00062s] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-23 20:03:37,012 - INFO - Serialized customer details: {'opportunity_id': UUID('47c18975-2b7f-4e63-8a49-3aadac672c21'), 'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'close_date': '06:30 PM, December 31, 2024', 'amount': 12000000.0, 'amount_in_words': '12000000', 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'dealer_id': UUID('92190686-a328-4f16-b798-b940f5e3808f'), 'dealer_code': 'Dealer12', 'stage': 'Decision Makers', 'probability': 80, 'next_step': 'Negotiations with the procurement team', 'created_date': '08:03 PM, October 23, 2024', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'employee_name': 'shanti swaroop', 'employee_num': 'EMP0012', 'currency_conversions': 'USD: 120000000.0\nAUD: 60000000.0\nCAD: 12000000.0\nJPY: 21120000.0\nEUR: 144000.0\nGBP: 240000000.0\nCNY: 72000000.0'}
2024-10-23 20:03:40,601 - INFO - ROLLBACK
2024-10-23 20:03:40,601 - INFO - End of create_new_customer function
2024-10-23 20:03:40,602 - INFO - 127.0.0.1 - - [23/Oct/2024 20:03:40] "[35m[1mPOST /new-customer HTTP/1.1[0m" 201 -
2024-10-23 20:08:08,049 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_opportunity.py', reloading
2024-10-23 20:08:08,180 - INFO -  * Restarting with stat
2024-10-23 20:08:09,009 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-23 20:08:09,024 - WARNING -  * Debugger is active!
2024-10-23 20:08:09,027 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 20:53:03,356 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\tables.py', reloading
2024-10-23 20:53:03,617 - INFO -  * Restarting with stat
2024-10-23 20:53:04,764 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-23 20:53:04,800 - WARNING -  * Debugger is active!
2024-10-23 20:53:04,805 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 20:53:22,487 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\tables.py', reloading
2024-10-23 20:53:22,598 - INFO -  * Restarting with stat
2024-10-23 20:53:23,593 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-23 20:53:23,608 - WARNING -  * Debugger is active!
2024-10-23 20:53:23,611 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 20:53:58,377 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\tables.py', reloading
2024-10-23 20:53:58,519 - INFO -  * Restarting with stat
2024-10-23 20:53:59,396 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-23 20:53:59,411 - WARNING -  * Debugger is active!
2024-10-23 20:53:59,415 - INFO -  * Debugger PIN: 381-796-864
2024-10-23 23:56:27,253 - INFO - 127.0.0.1 - - [23/Oct/2024 23:56:27] "[33mGET /get-heavy-products?employee_id=06e4347e-4dfc-490a-a066-686942241770 HTTP/1.1[0m" 404 -
2024-10-23 23:56:53,754 - ERROR - Database error while validating OTP for komalsaikiran05@gmail.com: Mapper 'Mapper[HeavyProduct(heavy_products)]' has no property 'opportunity'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.
2024-10-23 23:56:53,755 - INFO - 127.0.0.1 - - [23/Oct/2024 23:56:53] "[35m[1mPOST /new-customer HTTP/1.1[0m" 500 -
2024-10-23 23:59:23,492 - ERROR - Database error while validating OTP for komalsaikiran05@gmail.com: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[HeavyMachineryOpportunity(heavy_machinery_opportunities)]'. Original exception was: Mapper 'Mapper[HeavyProduct(heavy_products)]' has no property 'opportunity'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.
2024-10-23 23:59:23,493 - INFO - 127.0.0.1 - - [23/Oct/2024 23:59:23] "[35m[1mPOST /new-customer HTTP/1.1[0m" 500 -
2024-10-23 23:59:50,454 - INFO - Flask application has stopped.
2024-10-23 23:59:50,758 - INFO - Flask application has stopped.
2024-10-24 00:00:53,611 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 00:00:53,677 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-24 00:00:53,677 - INFO - [33mPress CTRL+C to quit[0m
2024-10-24 00:00:53,679 - INFO -  * Restarting with stat
2024-10-24 00:00:54,499 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 00:00:54,517 - WARNING -  * Debugger is active!
2024-10-24 00:00:54,531 - INFO -  * Debugger PIN: 381-796-864
2024-10-24 00:00:57,110 - ERROR - Database error while validating OTP for komalsaikiran05@gmail.com: Mapper 'Mapper[HeavyProduct(heavy_products)]' has no property 'opportunity'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.
2024-10-24 00:00:57,110 - INFO - 127.0.0.1 - - [24/Oct/2024 00:00:57] "[35m[1mPOST /new-customer HTTP/1.1[0m" 500 -
2024-10-24 00:01:29,051 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\tables.py', reloading
2024-10-24 00:01:29,175 - INFO -  * Restarting with stat
2024-10-24 00:01:29,996 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 00:01:30,014 - WARNING -  * Debugger is active!
2024-10-24 00:01:30,017 - INFO -  * Debugger PIN: 381-796-864
2024-10-24 00:01:51,219 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\tables.py', reloading
2024-10-24 00:01:51,414 - INFO -  * Restarting with stat
2024-10-24 00:01:52,900 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 00:01:52,969 - WARNING -  * Debugger is active!
2024-10-24 00:01:52,974 - INFO -  * Debugger PIN: 381-796-864
2024-10-24 00:02:09,452 - ERROR - Database error while validating OTP for komalsaikiran05@gmail.com: When initializing mapper Mapper[HeavyProduct(heavy_products)], expression 'Opportunity' failed to locate a name ('Opportunity'). If this is a class name, consider adding this relationship() to the <class 'User_models.tables.HeavyProduct'> class after both dependent classes have been defined.
2024-10-24 00:02:09,453 - INFO - 127.0.0.1 - - [24/Oct/2024 00:02:09] "[35m[1mPOST /new-customer HTTP/1.1[0m" 500 -
2024-10-24 00:02:52,221 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\tables.py', reloading
2024-10-24 00:02:52,418 - INFO -  * Restarting with stat
2024-10-24 00:02:53,568 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 00:02:53,590 - WARNING -  * Debugger is active!
2024-10-24 00:02:53,594 - INFO -  * Debugger PIN: 381-796-864
2024-10-24 00:02:53,666 - ERROR - Database error while validating OTP for komalsaikiran05@gmail.com: Mapper 'Mapper[HeavyProduct(heavy_products)]' has no property 'opportunity'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.
2024-10-24 00:02:53,667 - INFO - 127.0.0.1 - - [24/Oct/2024 00:02:53] "[35m[1mPOST /new-customer HTTP/1.1[0m" 500 -
2024-10-24 00:04:56,102 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\tables.py', reloading
2024-10-24 00:04:56,270 - INFO -  * Restarting with stat
2024-10-24 00:04:57,571 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 00:04:57,594 - WARNING -  * Debugger is active!
2024-10-24 00:04:57,598 - INFO -  * Debugger PIN: 381-796-864
2024-10-24 00:04:57,654 - ERROR - Database error while validating OTP for komalsaikiran05@gmail.com: Mapper 'Mapper[HeavyProduct(heavy_products)]' has no property 'opportunity'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.
2024-10-24 00:04:57,655 - INFO - 127.0.0.1 - - [24/Oct/2024 00:04:57] "[35m[1mPOST /new-customer HTTP/1.1[0m" 500 -
2024-10-24 00:05:12,870 - INFO - Flask application has stopped.
2024-10-24 00:05:12,988 - INFO - Flask application has stopped.
2024-10-24 00:05:22,086 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 00:05:22,129 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-24 00:05:22,130 - INFO - [33mPress CTRL+C to quit[0m
2024-10-24 00:05:22,131 - INFO -  * Restarting with stat
2024-10-24 00:05:22,944 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 00:05:22,960 - WARNING -  * Debugger is active!
2024-10-24 00:05:22,962 - INFO -  * Debugger PIN: 381-796-864
2024-10-24 00:07:56,459 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\tables.py', reloading
2024-10-24 00:07:56,639 - INFO -  * Restarting with stat
2024-10-24 00:07:57,634 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 00:07:57,654 - WARNING -  * Debugger is active!
2024-10-24 00:07:57,659 - INFO -  * Debugger PIN: 381-796-864
2024-10-24 00:07:57,738 - ERROR - Database error while validating OTP for komalsaikiran05@gmail.com: Mapper 'Mapper[HeavyMachineriesDealer(heavy_machineries_dealer)]' has no property 'opportunity_id'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.
2024-10-24 00:07:57,739 - INFO - 127.0.0.1 - - [24/Oct/2024 00:07:57] "[35m[1mPOST /new-customer HTTP/1.1[0m" 500 -
2024-10-24 00:10:50,434 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\tables.py', reloading
2024-10-24 00:10:50,682 - INFO -  * Restarting with stat
2024-10-24 00:10:51,725 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 00:10:51,749 - WARNING -  * Debugger is active!
2024-10-24 00:10:51,754 - INFO -  * Debugger PIN: 381-796-864
2024-10-24 00:11:43,908 - ERROR - Database error while validating OTP for komalsaikiran05@gmail.com: Mapper 'Mapper[HeavyProduct(heavy_products)]' has no property 'opportunity_id'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.
2024-10-24 00:11:43,909 - INFO - 127.0.0.1 - - [24/Oct/2024 00:11:43] "[35m[1mPOST /new-customer HTTP/1.1[0m" 500 -
2024-10-24 00:12:12,486 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\tables.py', reloading
2024-10-24 00:12:12,615 - INFO -  * Restarting with stat
2024-10-24 00:12:14,133 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 00:12:14,174 - WARNING -  * Debugger is active!
2024-10-24 00:12:14,178 - INFO -  * Debugger PIN: 381-796-864
2024-10-24 00:12:27,527 - INFO - Flask application has stopped.
2024-10-24 00:12:27,760 - INFO - Flask application has stopped.
2024-10-24 00:12:32,394 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 00:12:32,450 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-24 00:12:32,450 - INFO - [33mPress CTRL+C to quit[0m
2024-10-24 00:12:32,452 - INFO -  * Restarting with stat
2024-10-24 00:12:34,330 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 00:12:34,405 - WARNING -  * Debugger is active!
2024-10-24 00:12:34,414 - INFO -  * Debugger PIN: 381-796-864
2024-10-24 00:12:37,402 - INFO - BEGIN (implicit)
2024-10-24 00:12:37,406 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-24 00:12:37,406 - INFO - [generated in 0.00041s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-24 00:12:37,416 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-24 00:12:37,416 - INFO - Received request to create new customer
2024-10-24 00:12:37,416 - DEBUG - Request payload: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'otp': '641916', 'email': 'komalsaikiran05@gmail.com'}
2024-10-24 00:12:37,417 - INFO - Generated opportunity_id: 60427d48-6727-4691-aad2-a186d12123e6
2024-10-24 00:12:37,702 - INFO - Payload after adding created_date and opportunity_id: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'otp': '641916', 'email': 'komalsaikiran05@gmail.com', 'created_date': datetime.datetime(2024, 10, 24, 0, 12, 37, 702529, tzinfo=<DstTzInfo 'Asia/Kolkata' IST+5:30:00 STD>), 'opportunity_id': '60427d48-6727-4691-aad2-a186d12123e6'}
2024-10-24 00:12:37,704 - INFO - SELECT heavy_machineries_accounts.account_id AS heavy_machineries_accounts_account_id, heavy_machineries_accounts.account_name AS heavy_machineries_accounts_account_name 
FROM heavy_machineries_accounts 
WHERE heavy_machineries_accounts.account_name = %(account_name_1)s 
 LIMIT %(param_1)s
2024-10-24 00:12:37,704 - INFO - [generated in 0.00031s] {'account_name_1': 'Mahindra Ltd', 'param_1': 1}
2024-10-24 00:12:37,708 - INFO - Account found: Mahindra Ltd
2024-10-24 00:12:37,710 - INFO - SELECT heavy_machineries_dealer.dealer_id AS heavy_machineries_dealer_dealer_id, heavy_machineries_dealer.dealer_code AS heavy_machineries_dealer_dealer_code, heavy_machineries_dealer.opportunity_owner AS heavy_machineries_dealer_opportunity_owner 
FROM heavy_machineries_dealer 
WHERE heavy_machineries_dealer.dealer_id = %(dealer_id_1)s AND heavy_machineries_dealer.dealer_code = %(dealer_code_1)s AND heavy_machineries_dealer.opportunity_owner = %(opportunity_owner_1)s 
 LIMIT %(param_1)s
2024-10-24 00:12:37,711 - INFO - [generated in 0.00034s] {'dealer_id_1': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code_1': 'Dealer12', 'opportunity_owner_1': 'Ramesh Kumar', 'param_1': 1}
2024-10-24 00:12:37,715 - INFO - Dealer with ID 92190686-a328-4f16-b798-b940f5e3808f not found, but no need to create new dealer. Proceeding with existing dealers.
2024-10-24 00:12:37,720 - INFO - Parsed close_date: 2024-12-31 18:30:00
2024-10-24 00:12:37,720 - INFO - Determined stage from probability: Decision Makers
2024-10-24 00:12:37,720 - INFO - Currency conversions for amount 12000000: {'USD': 120000000, 'AUD': 60000000, 'CAD': 12000000, 'JPY': 21120000.0, 'EUR': 144000.0, 'GBP': 240000000, 'CNY': 72000000, 'INR': 12000000}
2024-10-24 00:12:37,721 - INFO - Looking for employee with ID: b66710eb-93c1-4c5c-90cf-6b368151f9df
2024-10-24 00:12:37,724 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-24 00:12:37,725 - INFO - [generated in 0.00077s] {'id_1': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'param_1': 1}
2024-10-24 00:12:37,729 - INFO - Employee found: shanti swaroop, ID: EMP0012
2024-10-24 00:12:37,729 - INFO - New Opportunity object created: <User_models.tables.HeavyMachineryOpportunity object at 0x000001CACACED450>
2024-10-24 00:12:37,733 - INFO - INSERT INTO heavy_machinery_opportunities (opportunity_id, opportunity_name, account_name, close_date, amount, description, dealer_id, dealer_code, stage, probability, next_step, created_date, employee_id, product_id, product_name, brand, model, image_url, amount_in_words, usd, aus, cad, jpy, eur, gbp, cny) VALUES (%(opportunity_id)s, %(opportunity_name)s, %(account_name)s, %(close_date)s, %(amount)s, %(description)s, %(dealer_id)s, %(dealer_code)s, %(stage)s, %(probability)s, %(next_step)s, %(created_date)s, %(employee_id)s::UUID, %(product_id)s::UUID, %(product_name)s, %(brand)s, %(model)s, %(image_url)s, %(amount_in_words)s, %(usd)s, %(aus)s, %(cad)s, %(jpy)s, %(eur)s, %(gbp)s, %(cny)s)
2024-10-24 00:12:37,734 - INFO - [generated in 0.00038s] {'opportunity_id': '60427d48-6727-4691-aad2-a186d12123e6', 'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'close_date': datetime.datetime(2024, 12, 31, 18, 30), 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'stage': 'Decision Makers', 'probability': 80, 'next_step': 'Negotiations with the procurement team', 'created_date': datetime.datetime(2024, 10, 24, 0, 12, 37, 702529, tzinfo=<DstTzInfo 'Asia/Kolkata' IST+5:30:00 STD>), 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'product_id': None, 'product_name': None, 'brand': None, 'model': None, 'image_url': None, 'amount_in_words': '12000000', 'usd': 120000000, 'aus': 60000000, 'cad': 12000000, 'jpy': 21120000.0, 'eur': 144000.0, 'gbp': 240000000, 'cny': 72000000}
2024-10-24 00:12:37,745 - INFO - ROLLBACK
2024-10-24 00:12:37,747 - ERROR - Error in creating customer: (psycopg2.errors.NotNullViolation) null value in column "product_id" of relation "heavy_machinery_opportunities" violates not-null constraint
DETAIL:  Failing row contains (60427d48-6727-4691-aad2-a186d12123e6, Infrastructure Development Project, Mahindra Ltd, 2024-12-31 18:30:00, 12000000.00, Opportunity for heavy machinery supply for infrastructure projec..., 92190686-a328-4f16-b798-b940f5e3808f, Dealer12, Decision Makers, 80, Negotiations with the procurement team, 2024-10-24 00:12:37.702529, b66710eb-93c1-4c5c-90cf-6b368151f9df, 12000000, 120000000, 60000000, 12000000, 21120000, 144000, 240000000, 72000000, null, null, null, null, null).

[SQL: INSERT INTO heavy_machinery_opportunities (opportunity_id, opportunity_name, account_name, close_date, amount, description, dealer_id, dealer_code, stage, probability, next_step, created_date, employee_id, product_id, product_name, brand, model, image_url, amount_in_words, usd, aus, cad, jpy, eur, gbp, cny) VALUES (%(opportunity_id)s, %(opportunity_name)s, %(account_name)s, %(close_date)s, %(amount)s, %(description)s, %(dealer_id)s, %(dealer_code)s, %(stage)s, %(probability)s, %(next_step)s, %(created_date)s, %(employee_id)s::UUID, %(product_id)s::UUID, %(product_name)s, %(brand)s, %(model)s, %(image_url)s, %(amount_in_words)s, %(usd)s, %(aus)s, %(cad)s, %(jpy)s, %(eur)s, %(gbp)s, %(cny)s)]
[parameters: {'opportunity_id': '60427d48-6727-4691-aad2-a186d12123e6', 'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'close_date': datetime.datetime(2024, 12, 31, 18, 30), 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'stage': 'Decision Makers', 'probability': 80, 'next_step': 'Negotiations with the procurement team', 'created_date': datetime.datetime(2024, 10, 24, 0, 12, 37, 702529, tzinfo=<DstTzInfo 'Asia/Kolkata' IST+5:30:00 STD>), 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'product_id': None, 'product_name': None, 'brand': None, 'model': None, 'image_url': None, 'amount_in_words': '12000000', 'usd': 120000000, 'aus': 60000000, 'cad': 12000000, 'jpy': 21120000.0, 'eur': 144000.0, 'gbp': 240000000, 'cny': 72000000}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-10-24 00:12:37,747 - INFO - End of create_new_customer function
2024-10-24 00:12:37,748 - INFO - 127.0.0.1 - - [24/Oct/2024 00:12:37] "[35m[1mPOST /new-customer HTTP/1.1[0m" 500 -
2024-10-24 00:21:00,311 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_opportunity.py', reloading
2024-10-24 00:21:00,445 - INFO -  * Restarting with stat
2024-10-24 00:21:01,611 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 00:21:01,639 - WARNING -  * Debugger is active!
2024-10-24 00:21:01,642 - INFO -  * Debugger PIN: 381-796-864
2024-10-24 00:25:14,943 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_opportunity.py', reloading
2024-10-24 00:25:15,060 - INFO -  * Restarting with stat
2024-10-24 00:25:16,567 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 00:25:16,588 - WARNING -  * Debugger is active!
2024-10-24 00:25:16,591 - INFO -  * Debugger PIN: 381-796-864
2024-10-24 00:26:28,998 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_opportunity.py', reloading
2024-10-24 00:26:29,205 - INFO -  * Restarting with stat
2024-10-24 00:26:30,222 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 00:26:30,237 - WARNING -  * Debugger is active!
2024-10-24 00:26:30,240 - INFO -  * Debugger PIN: 381-796-864
2024-10-24 00:30:05,898 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_opportunity.py', reloading
2024-10-24 00:30:06,040 - INFO -  * Restarting with stat
2024-10-24 00:30:07,075 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 00:30:07,095 - WARNING -  * Debugger is active!
2024-10-24 00:30:07,097 - INFO -  * Debugger PIN: 381-796-864
2024-10-24 00:30:33,294 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_opportunity.py', reloading
2024-10-24 00:30:33,437 - INFO -  * Restarting with stat
2024-10-24 00:30:34,212 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 00:30:34,229 - WARNING -  * Debugger is active!
2024-10-24 00:30:34,231 - INFO -  * Debugger PIN: 381-796-864
2024-10-24 00:31:35,690 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_opportunity.py', reloading
2024-10-24 00:31:35,801 - INFO -  * Restarting with stat
2024-10-24 00:31:36,656 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 00:31:36,671 - WARNING -  * Debugger is active!
2024-10-24 00:31:36,674 - INFO -  * Debugger PIN: 381-796-864
2024-10-24 00:33:26,242 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_opportunity.py', reloading
2024-10-24 00:33:26,383 - INFO -  * Restarting with stat
2024-10-24 00:33:27,438 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 00:33:27,455 - WARNING -  * Debugger is active!
2024-10-24 00:33:27,457 - INFO -  * Debugger PIN: 381-796-864
2024-10-24 00:33:51,661 - INFO - Flask application has stopped.
2024-10-24 00:33:51,779 - INFO - Flask application has stopped.
2024-10-24 00:33:58,061 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-24 00:33:58,097 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-24 00:33:58,097 - INFO - [33mPress CTRL+C to quit[0m
2024-10-24 00:33:58,098 - INFO -  * Restarting with stat
2024-10-24 00:33:59,144 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-24 00:33:59,163 - WARNING -  * Debugger is active!
2024-10-24 00:33:59,166 - INFO -  * Debugger PIN: 381-796-864
2024-10-24 00:34:14,278 - INFO - Entered /get-heavy-products endpoint.
2024-10-24 00:34:14,278 - INFO - Query parameters: ImmutableMultiDict([])
2024-10-24 00:34:14,401 - INFO - BEGIN (implicit)
2024-10-24 00:34:14,404 - INFO - SELECT heavy_products.id AS heavy_products_id, heavy_products.name AS heavy_products_name, heavy_products.type AS heavy_products_type, heavy_products.brand AS heavy_products_brand, heavy_products.model AS heavy_products_model, heavy_products.year_of_manufacture AS heavy_products_year_of_manufacture, heavy_products.price AS heavy_products_price, heavy_products.weight AS heavy_products_weight, heavy_products.dimensions AS heavy_products_dimensions, heavy_products.engine_type AS heavy_products_engine_type, heavy_products.horsepower AS heavy_products_horsepower, heavy_products.fuel_capacity AS heavy_products_fuel_capacity, heavy_products.operational_hours AS heavy_products_operational_hours, heavy_products.warranty_period AS heavy_products_warranty_period, heavy_products.status AS heavy_products_status, heavy_products.description AS heavy_products_description, heavy_products.image_url AS heavy_products_image_url, heavy_products.created_at AS heavy_products_created_at, heavy_products.updated_at AS heavy_products_updated_at, heavy_products.employee_id AS heavy_products_employee_id, heavy_products.employee_name AS heavy_products_employee_name, heavy_products.employee_num AS heavy_products_employee_num 
FROM heavy_products
2024-10-24 00:34:14,405 - INFO - [generated in 0.00047s] {}
2024-10-24 00:34:14,416 - INFO - SELECT count(*) AS count_1 
FROM (SELECT heavy_products.id AS heavy_products_id, heavy_products.name AS heavy_products_name, heavy_products.type AS heavy_products_type, heavy_products.brand AS heavy_products_brand, heavy_products.model AS heavy_products_model, heavy_products.year_of_manufacture AS heavy_products_year_of_manufacture, heavy_products.price AS heavy_products_price, heavy_products.weight AS heavy_products_weight, heavy_products.dimensions AS heavy_products_dimensions, heavy_products.engine_type AS heavy_products_engine_type, heavy_products.horsepower AS heavy_products_horsepower, heavy_products.fuel_capacity AS heavy_products_fuel_capacity, heavy_products.operational_hours AS heavy_products_operational_hours, heavy_products.warranty_period AS heavy_products_warranty_period, heavy_products.status AS heavy_products_status, heavy_products.description AS heavy_products_description, heavy_products.image_url AS heavy_products_image_url, heavy_products.created_at AS heavy_products_created_at, heavy_products.updated_at AS heavy_products_updated_at, heavy_products.employee_id AS heavy_products_employee_id, heavy_products.employee_name AS heavy_products_employee_name, heavy_products.employee_num AS heavy_products_employee_num 
FROM heavy_products) AS anon_1
2024-10-24 00:34:14,417 - INFO - [generated in 0.00052s] {}
2024-10-24 00:34:14,425 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 00:34:14,426 - INFO - [generated in 0.00117s] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 00:34:14,429 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 00:34:14,429 - INFO - [cached since 0.004604s ago] {'pk_1': UUID('06e4347e-4dfc-490a-a066-686942241770')}
2024-10-24 00:34:14,430 - INFO - Fetched 6 heavy product(s).
2024-10-24 00:34:18,300 - INFO - ROLLBACK
2024-10-24 00:34:18,300 - INFO - Closed /get-heavy-products endpoint.
2024-10-24 00:34:18,301 - INFO - 127.0.0.1 - - [24/Oct/2024 00:34:18] "GET /get-heavy-products HTTP/1.1" 200 -
2024-10-24 00:38:46,273 - INFO - 127.0.0.1 - - [24/Oct/2024 00:38:46] "[33mPOST /new-customer HTTP/1.1[0m" 404 -
2024-10-24 00:38:54,128 - INFO - Flask application has stopped.
2024-10-24 00:38:54,250 - INFO - Flask application has stopped.
2024-10-24 00:38:59,012 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 00:38:59,060 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-24 00:38:59,060 - INFO - [33mPress CTRL+C to quit[0m
2024-10-24 00:38:59,061 - INFO -  * Restarting with stat
2024-10-24 00:38:59,953 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 00:38:59,973 - WARNING -  * Debugger is active!
2024-10-24 00:38:59,977 - INFO -  * Debugger PIN: 381-796-864
2024-10-24 00:39:04,967 - INFO - BEGIN (implicit)
2024-10-24 00:39:04,969 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-24 00:39:04,969 - INFO - [generated in 0.00021s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-24 00:39:04,973 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-24 00:39:04,973 - INFO - Received request to create new customer
2024-10-24 00:39:04,973 - DEBUG - Request payload: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'product_id': 'a3511400-a907-4663-bc4f-897a8cb90b3f', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product_image_url': 'http://example.com/images/cat320d.jpg', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'otp': '641916', 'email': 'komalsaikiran05@gmail.com'}
2024-10-24 00:39:04,973 - INFO - Generated opportunity_id: f45700ae-2fb2-452b-b6e3-d31f102b6656
2024-10-24 00:39:05,038 - INFO - Payload after adding created_date and opportunity_id: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'product_id': 'a3511400-a907-4663-bc4f-897a8cb90b3f', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product_image_url': 'http://example.com/images/cat320d.jpg', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'otp': '641916', 'email': 'komalsaikiran05@gmail.com', 'created_date': datetime.datetime(2024, 10, 24, 0, 39, 5, 38435, tzinfo=<DstTzInfo 'Asia/Kolkata' IST+5:30:00 STD>), 'opportunity_id': 'f45700ae-2fb2-452b-b6e3-d31f102b6656'}
2024-10-24 00:39:05,040 - INFO - SELECT heavy_machineries_accounts.account_id AS heavy_machineries_accounts_account_id, heavy_machineries_accounts.account_name AS heavy_machineries_accounts_account_name 
FROM heavy_machineries_accounts 
WHERE heavy_machineries_accounts.account_name = %(account_name_1)s 
 LIMIT %(param_1)s
2024-10-24 00:39:05,040 - INFO - [generated in 0.00029s] {'account_name_1': 'Mahindra Ltd', 'param_1': 1}
2024-10-24 00:39:05,042 - INFO - Account found: Mahindra Ltd
2024-10-24 00:39:05,044 - INFO - SELECT heavy_machineries_dealer.dealer_id AS heavy_machineries_dealer_dealer_id, heavy_machineries_dealer.dealer_code AS heavy_machineries_dealer_dealer_code, heavy_machineries_dealer.opportunity_owner AS heavy_machineries_dealer_opportunity_owner 
FROM heavy_machineries_dealer 
WHERE heavy_machineries_dealer.dealer_id = %(dealer_id_1)s AND heavy_machineries_dealer.dealer_code = %(dealer_code_1)s AND heavy_machineries_dealer.opportunity_owner = %(opportunity_owner_1)s 
 LIMIT %(param_1)s
2024-10-24 00:39:05,044 - INFO - [generated in 0.00030s] {'dealer_id_1': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code_1': 'Dealer12', 'opportunity_owner_1': 'Ramesh Kumar', 'param_1': 1}
2024-10-24 00:39:05,046 - INFO - Dealer with ID 92190686-a328-4f16-b798-b940f5e3808f not found, but no need to create new dealer. Proceeding with existing dealers.
2024-10-24 00:39:05,052 - INFO - Parsed close_date: 2024-12-31 18:30:00
2024-10-24 00:39:05,053 - INFO - Determined stage from probability: Decision Makers
2024-10-24 00:39:05,053 - INFO - Currency conversions for amount 12000000: {'USD': 120000000, 'AUD': 60000000, 'CAD': 12000000, 'JPY': 21120000.0, 'EUR': 144000.0, 'GBP': 240000000, 'CNY': 72000000, 'INR': 12000000}
2024-10-24 00:39:05,053 - INFO - Looking for employee with ID: b66710eb-93c1-4c5c-90cf-6b368151f9df
2024-10-24 00:39:05,056 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-24 00:39:05,056 - INFO - [generated in 0.00030s] {'id_1': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'param_1': 1}
2024-10-24 00:39:05,058 - INFO - Employee found: shanti swaroop, ID: EMP0012
2024-10-24 00:39:05,061 - INFO - SELECT heavy_products.id AS heavy_products_id, heavy_products.name AS heavy_products_name, heavy_products.type AS heavy_products_type, heavy_products.brand AS heavy_products_brand, heavy_products.model AS heavy_products_model, heavy_products.year_of_manufacture AS heavy_products_year_of_manufacture, heavy_products.price AS heavy_products_price, heavy_products.weight AS heavy_products_weight, heavy_products.dimensions AS heavy_products_dimensions, heavy_products.engine_type AS heavy_products_engine_type, heavy_products.horsepower AS heavy_products_horsepower, heavy_products.fuel_capacity AS heavy_products_fuel_capacity, heavy_products.operational_hours AS heavy_products_operational_hours, heavy_products.warranty_period AS heavy_products_warranty_period, heavy_products.status AS heavy_products_status, heavy_products.description AS heavy_products_description, heavy_products.image_url AS heavy_products_image_url, heavy_products.created_at AS heavy_products_created_at, heavy_products.updated_at AS heavy_products_updated_at, heavy_products.employee_id AS heavy_products_employee_id, heavy_products.employee_name AS heavy_products_employee_name, heavy_products.employee_num AS heavy_products_employee_num 
FROM heavy_products 
WHERE heavy_products.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-24 00:39:05,062 - INFO - [generated in 0.00035s] {'id_1': 'a3511400-a907-4663-bc4f-897a8cb90b3f', 'param_1': 1}
2024-10-24 00:39:05,064 - INFO - Product found: CAT 320D
2024-10-24 00:39:05,064 - INFO - ROLLBACK
2024-10-24 00:39:05,065 - ERROR - Error in creating customer: 'product_brand' is an invalid keyword argument for HeavyMachineryOpportunity
2024-10-24 00:39:08,383 - INFO - End of create_new_customer function
2024-10-24 00:39:08,383 - INFO - 127.0.0.1 - - [24/Oct/2024 00:39:08] "[35m[1mPOST /new-customer HTTP/1.1[0m" 500 -
2024-10-24 00:53:29,123 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\tables.py', reloading
2024-10-24 00:53:29,331 - INFO -  * Restarting with stat
2024-10-24 00:53:30,506 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 00:53:30,537 - WARNING -  * Debugger is active!
2024-10-24 00:53:30,540 - INFO -  * Debugger PIN: 381-796-864
2024-10-24 00:53:30,807 - INFO - BEGIN (implicit)
2024-10-24 00:53:30,811 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-24 00:53:30,811 - INFO - [generated in 0.00031s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-24 00:53:30,818 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-24 00:53:30,818 - INFO - Received request to create new customer
2024-10-24 00:53:30,818 - DEBUG - Request payload: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'product_id': 'a3511400-a907-4663-bc4f-897a8cb90b3f', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product_image_url': 'http://example.com/images/cat320d.jpg', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'otp': '641916', 'email': 'komalsaikiran05@gmail.com'}
2024-10-24 00:53:30,818 - INFO - Generated opportunity_id: 617fbbe4-1e75-472e-b47f-2d89beb0f8ef
2024-10-24 00:53:30,899 - INFO - Payload after adding created_date and opportunity_id: {'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'opportunity_owner': 'Ramesh Kumar', 'product_id': 'a3511400-a907-4663-bc4f-897a8cb90b3f', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product_image_url': 'http://example.com/images/cat320d.jpg', 'close_date': '2024-12-31 18:30:00', 'probability': 80, 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'next_step': 'Negotiations with the procurement team', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'otp': '641916', 'email': 'komalsaikiran05@gmail.com', 'created_date': datetime.datetime(2024, 10, 24, 0, 53, 30, 899336, tzinfo=<DstTzInfo 'Asia/Kolkata' IST+5:30:00 STD>), 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef'}
2024-10-24 00:53:30,900 - INFO - SELECT heavy_machineries_accounts.account_id AS heavy_machineries_accounts_account_id, heavy_machineries_accounts.account_name AS heavy_machineries_accounts_account_name 
FROM heavy_machineries_accounts 
WHERE heavy_machineries_accounts.account_name = %(account_name_1)s 
 LIMIT %(param_1)s
2024-10-24 00:53:30,900 - INFO - [generated in 0.00024s] {'account_name_1': 'Mahindra Ltd', 'param_1': 1}
2024-10-24 00:53:30,902 - INFO - Account found: Mahindra Ltd
2024-10-24 00:53:30,904 - INFO - SELECT heavy_machineries_dealer.dealer_id AS heavy_machineries_dealer_dealer_id, heavy_machineries_dealer.dealer_code AS heavy_machineries_dealer_dealer_code, heavy_machineries_dealer.opportunity_owner AS heavy_machineries_dealer_opportunity_owner 
FROM heavy_machineries_dealer 
WHERE heavy_machineries_dealer.dealer_id = %(dealer_id_1)s AND heavy_machineries_dealer.dealer_code = %(dealer_code_1)s AND heavy_machineries_dealer.opportunity_owner = %(opportunity_owner_1)s 
 LIMIT %(param_1)s
2024-10-24 00:53:30,904 - INFO - [generated in 0.00020s] {'dealer_id_1': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code_1': 'Dealer12', 'opportunity_owner_1': 'Ramesh Kumar', 'param_1': 1}
2024-10-24 00:53:30,906 - INFO - Dealer with ID 92190686-a328-4f16-b798-b940f5e3808f not found, but no need to create new dealer. Proceeding with existing dealers.
2024-10-24 00:53:30,909 - INFO - Parsed close_date: 2024-12-31 18:30:00
2024-10-24 00:53:30,909 - INFO - Determined stage from probability: Decision Makers
2024-10-24 00:53:30,909 - INFO - Currency conversions for amount 12000000: {'USD': 120000000, 'AUD': 60000000, 'CAD': 12000000, 'JPY': 21120000.0, 'EUR': 144000.0, 'GBP': 240000000, 'CNY': 72000000, 'INR': 12000000}
2024-10-24 00:53:30,909 - INFO - Looking for employee with ID: b66710eb-93c1-4c5c-90cf-6b368151f9df
2024-10-24 00:53:30,913 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-24 00:53:30,913 - INFO - [generated in 0.00033s] {'id_1': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'param_1': 1}
2024-10-24 00:53:30,916 - INFO - Employee found: shanti swaroop, ID: EMP0012
2024-10-24 00:53:30,919 - INFO - SELECT heavy_products.id AS heavy_products_id, heavy_products.name AS heavy_products_name, heavy_products.type AS heavy_products_type, heavy_products.brand AS heavy_products_brand, heavy_products.model AS heavy_products_model, heavy_products.year_of_manufacture AS heavy_products_year_of_manufacture, heavy_products.price AS heavy_products_price, heavy_products.weight AS heavy_products_weight, heavy_products.dimensions AS heavy_products_dimensions, heavy_products.engine_type AS heavy_products_engine_type, heavy_products.horsepower AS heavy_products_horsepower, heavy_products.fuel_capacity AS heavy_products_fuel_capacity, heavy_products.operational_hours AS heavy_products_operational_hours, heavy_products.warranty_period AS heavy_products_warranty_period, heavy_products.status AS heavy_products_status, heavy_products.description AS heavy_products_description, heavy_products.image_url AS heavy_products_image_url, heavy_products.created_at AS heavy_products_created_at, heavy_products.updated_at AS heavy_products_updated_at, heavy_products.employee_id AS heavy_products_employee_id, heavy_products.employee_name AS heavy_products_employee_name, heavy_products.employee_num AS heavy_products_employee_num 
FROM heavy_products 
WHERE heavy_products.id = %(id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-24 00:53:30,920 - INFO - [generated in 0.00033s] {'id_1': 'a3511400-a907-4663-bc4f-897a8cb90b3f', 'param_1': 1}
2024-10-24 00:53:30,922 - INFO - Product found: CAT 320D
2024-10-24 00:53:30,922 - INFO - New Opportunity object created: <User_models.tables.HeavyMachineryOpportunity object at 0x00000127C1C46950>
2024-10-24 00:53:30,930 - INFO - INSERT INTO heavy_machinery_opportunities (opportunity_id, opportunity_name, account_name, close_date, amount, description, dealer_id, dealer_code, stage, probability, next_step, created_date, employee_id, product_id, product_name, product_brand, product_model, product_image_url, amount_in_words, usd, aus, cad, jpy, eur, gbp, cny) VALUES (%(opportunity_id)s, %(opportunity_name)s, %(account_name)s, %(close_date)s, %(amount)s, %(description)s, %(dealer_id)s, %(dealer_code)s, %(stage)s, %(probability)s, %(next_step)s, %(created_date)s, %(employee_id)s::UUID, %(product_id)s::UUID, %(product_name)s, %(product_brand)s, %(product_model)s, %(product_image_url)s, %(amount_in_words)s, %(usd)s, %(aus)s, %(cad)s, %(jpy)s, %(eur)s, %(gbp)s, %(cny)s)
2024-10-24 00:53:30,930 - INFO - [generated in 0.00034s] {'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'close_date': datetime.datetime(2024, 12, 31, 18, 30), 'amount': 12000000, 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'dealer_code': 'Dealer12', 'stage': 'Decision Makers', 'probability': 80, 'next_step': 'Negotiations with the procurement team', 'created_date': datetime.datetime(2024, 10, 24, 0, 53, 30, 899336, tzinfo=<DstTzInfo 'Asia/Kolkata' IST+5:30:00 STD>), 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'product_id': 'a3511400-a907-4663-bc4f-897a8cb90b3f', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product_image_url': 'http://example.com/images/cat320d.jpg', 'amount_in_words': '12000000', 'usd': 120000000, 'aus': 60000000, 'cad': 12000000, 'jpy': 21120000.0, 'eur': 144000.0, 'gbp': 240000000, 'cny': 72000000}
2024-10-24 00:53:30,937 - INFO - COMMIT
2024-10-24 00:53:30,939 - INFO - Opportunity created successfully: 617fbbe4-1e75-472e-b47f-2d89beb0f8ef
2024-10-24 00:53:31,065 - INFO - BEGIN (implicit)
2024-10-24 00:53:31,070 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(pk_1)s
2024-10-24 00:53:31,070 - INFO - [generated in 0.00046s] {'pk_1': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef'}
2024-10-24 00:53:31,079 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 00:53:31,080 - INFO - [generated in 0.00107s] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 00:53:31,084 - INFO - Serialized customer details: {'opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef'), 'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'close_date': '06:30 PM, December 31, 2024', 'amount': 12000000.0, 'amount_in_words': '12000000', 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'dealer_id': UUID('92190686-a328-4f16-b798-b940f5e3808f'), 'dealer_code': 'Dealer12', 'stage': 'Decision Makers', 'probability': 80, 'next_step': 'Negotiations with the procurement team', 'created_date': '12:53 AM, October 24, 2024', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'employee_name': 'shanti swaroop', 'employee_num': 'EMP0012', 'currency_conversions': 'USD: 120000000.0\nAUD: 60000000.0\nCAD: 12000000.0\nJPY: 21120000.0\nEUR: 144000.0\nGBP: 240000000.0\nCNY: 72000000.0', 'product_id': 'a3511400-a907-4663-bc4f-897a8cb90b3f', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product_image_url': 'http://example.com/images/cat320d.jpg'}
2024-10-24 00:53:34,596 - INFO - ROLLBACK
2024-10-24 00:53:34,597 - INFO - End of create_new_customer function
2024-10-24 00:53:34,597 - INFO - 127.0.0.1 - - [24/Oct/2024 00:53:34] "[35m[1mPOST /new-customer HTTP/1.1[0m" 201 -
2024-10-24 00:59:40,452 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_opportunity.py', reloading
2024-10-24 00:59:40,608 - INFO -  * Restarting with stat
2024-10-24 00:59:41,744 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 00:59:41,765 - WARNING -  * Debugger is active!
2024-10-24 00:59:41,768 - INFO -  * Debugger PIN: 381-796-864
2024-10-24 01:06:26,082 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_opportunity.py', reloading
2024-10-24 01:06:26,231 - INFO -  * Restarting with stat
2024-10-24 01:06:27,220 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 01:06:27,244 - WARNING -  * Debugger is active!
2024-10-24 01:06:27,247 - INFO -  * Debugger PIN: 381-796-864
2024-10-24 01:06:49,874 - INFO - Received request to get opportunities with query parameters
2024-10-24 01:06:49,874 - INFO - Query parameters retrieved: opportunity_id=None, opportunity_name=, account_name=, stage=, probability_min=None, probability_max=None, created_date_start=None, close_date_end=None, amount_min=None, amount_max=None, vehicle_model_id=, employee_id=, product_id=, product_name=, product_brand=, product_model=
2024-10-24 01:06:49,895 - INFO - Constructed initial query
2024-10-24 01:06:49,985 - INFO - BEGIN (implicit)
2024-10-24 01:06:49,989 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities
2024-10-24 01:06:49,989 - INFO - [generated in 0.00033s] {}
2024-10-24 01:06:49,992 - INFO - Fetched 2 opportunities based on query parameters
2024-10-24 01:06:49,997 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 01:06:49,997 - INFO - [generated in 0.00050s] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 01:06:50,002 - INFO - Serialized opportunities to dictionary format
2024-10-24 01:06:50,002 - INFO - ROLLBACK
2024-10-24 01:06:50,004 - ERROR - Error in fetching opportunities: 'vehicle_model'
2024-10-24 01:06:53,506 - INFO - End of get_opportunities function
2024-10-24 01:06:53,508 - INFO - 127.0.0.1 - - [24/Oct/2024 01:06:53] "[35m[1mGET /get-opportunities HTTP/1.1[0m" 500 -
2024-10-24 01:08:16,908 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_opportunity.py', reloading
2024-10-24 01:08:17,038 - INFO -  * Restarting with stat
2024-10-24 01:08:18,107 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 01:08:18,124 - WARNING -  * Debugger is active!
2024-10-24 01:08:18,129 - INFO -  * Debugger PIN: 381-796-864
2024-10-24 01:08:18,170 - INFO - Received request to get opportunities with query parameters
2024-10-24 01:08:18,170 - INFO - Query parameters retrieved: opportunity_id=None, opportunity_name=, account_name=, stage=, probability_min=None, probability_max=None, created_date_start=None, close_date_end=None, amount_min=None, amount_max=None, employee_id=, product_id=, product_name=, product_brand=, product_model=
2024-10-24 01:08:18,186 - INFO - Constructed initial query
2024-10-24 01:08:18,244 - INFO - BEGIN (implicit)
2024-10-24 01:08:18,248 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities
2024-10-24 01:08:18,248 - INFO - [generated in 0.00028s] {}
2024-10-24 01:08:18,251 - INFO - Fetched 2 opportunities based on query parameters
2024-10-24 01:08:18,254 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 01:08:18,254 - INFO - [generated in 0.00020s] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 01:08:18,256 - INFO - Serialized opportunities to dictionary format
2024-10-24 01:08:18,256 - INFO - ROLLBACK
2024-10-24 01:08:18,256 - ERROR - Error in fetching opportunities: 'vehicle_model'
2024-10-24 01:08:21,788 - INFO - End of get_opportunities function
2024-10-24 01:08:21,789 - INFO - 127.0.0.1 - - [24/Oct/2024 01:08:21] "[35m[1mGET /get-opportunities HTTP/1.1[0m" 500 -
2024-10-24 01:20:00,601 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_opportunity.py', reloading
2024-10-24 01:20:00,740 - INFO -  * Restarting with stat
2024-10-24 01:20:01,746 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 01:20:01,769 - WARNING -  * Debugger is active!
2024-10-24 01:20:01,773 - INFO -  * Debugger PIN: 381-796-864
2024-10-24 01:20:02,307 - INFO - Received request to get opportunities with query parameters
2024-10-24 01:20:02,308 - INFO - Query parameters retrieved: opportunity_id=None, opportunity_name=, account_name=, stage=, probability_min=None, probability_max=None, created_date_start=None, close_date_end=None, amount_min=None, amount_max=None, employee_id=, product_id=, product_name=, product_brand=, product_model=
2024-10-24 01:20:02,355 - INFO - Constructed initial query
2024-10-24 01:20:02,448 - INFO - BEGIN (implicit)
2024-10-24 01:20:02,455 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities
2024-10-24 01:20:02,455 - INFO - [generated in 0.00033s] {}
2024-10-24 01:20:02,458 - INFO - Fetched 2 opportunities based on query parameters
2024-10-24 01:20:02,462 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 01:20:02,462 - INFO - [generated in 0.00027s] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 01:20:02,465 - INFO - Serialized opportunities to dictionary format
2024-10-24 01:20:02,465 - INFO - ROLLBACK
2024-10-24 01:20:02,466 - ERROR - Error in fetching opportunities: 'vehicle_model'
2024-10-24 01:20:06,844 - INFO - End of get_opportunities function
2024-10-24 01:20:06,845 - INFO - 127.0.0.1 - - [24/Oct/2024 01:20:06] "[35m[1mGET /get-opportunities HTTP/1.1[0m" 500 -
2024-10-24 01:25:52,813 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-24 01:25:52,956 - INFO -  * Restarting with stat
2024-10-24 01:25:53,964 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 01:25:53,979 - WARNING -  * Debugger is active!
2024-10-24 01:25:53,982 - INFO -  * Debugger PIN: 381-796-864
2024-10-24 01:27:21,896 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-24 01:27:22,042 - INFO -  * Restarting with stat
2024-10-24 01:27:23,061 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 01:27:23,079 - WARNING -  * Debugger is active!
2024-10-24 01:27:23,082 - INFO -  * Debugger PIN: 381-796-864
2024-10-24 01:27:23,904 - INFO - Received request to get opportunities with query parameters
2024-10-24 01:27:23,904 - INFO - Query parameters retrieved: opportunity_id=None, opportunity_name=, account_name=, stage=, probability_min=None, probability_max=None, created_date_start=None, close_date_end=None, amount_min=None, amount_max=None, employee_id=, product_id=, product_name=, product_brand=, product_model=
2024-10-24 01:27:23,924 - INFO - Constructed initial query
2024-10-24 01:27:24,019 - INFO - BEGIN (implicit)
2024-10-24 01:27:24,023 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities
2024-10-24 01:27:24,023 - INFO - [generated in 0.00024s] {}
2024-10-24 01:27:24,025 - INFO - Fetched 2 opportunities based on query parameters
2024-10-24 01:27:24,030 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 01:27:24,030 - INFO - [generated in 0.00035s] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 01:27:24,034 - INFO - Serialized opportunities to dictionary format
2024-10-24 01:27:27,479 - INFO - ROLLBACK
2024-10-24 01:27:27,481 - INFO - End of get_opportunities function
2024-10-24 01:27:27,483 - INFO - 127.0.0.1 - - [24/Oct/2024 01:27:27] "GET /get-opportunities HTTP/1.1" 200 -
2024-10-24 01:29:03,803 - INFO - Flask application has stopped.
2024-10-24 01:29:03,934 - INFO - Flask application has stopped.
2024-10-24 17:12:17,869 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 17:12:17,963 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-24 17:12:17,964 - INFO - [33mPress CTRL+C to quit[0m
2024-10-24 17:12:18,009 - INFO -  * Restarting with stat
2024-10-24 17:12:21,842 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 17:12:21,883 - WARNING -  * Debugger is active!
2024-10-24 17:12:21,892 - INFO -  * Debugger PIN: 808-278-793
2024-10-24 17:12:55,652 - INFO - Received request to get opportunities with query parameters
2024-10-24 17:12:55,652 - INFO - Query parameters retrieved: opportunity_id=None, opportunity_name=, account_name=, stage=, probability_min=None, probability_max=None, created_date_start=None, close_date_end=None, amount_min=None, amount_max=None, employee_id=, product_id=, product_name=, product_brand=, product_model=
2024-10-24 17:12:55,690 - INFO - Constructed initial query
2024-10-24 17:12:55,757 - INFO - BEGIN (implicit)
2024-10-24 17:12:55,763 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities
2024-10-24 17:12:55,764 - INFO - [generated in 0.00052s] {}
2024-10-24 17:12:55,793 - INFO - Fetched 2 opportunities based on query parameters
2024-10-24 17:12:55,800 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 17:12:55,800 - INFO - [generated in 0.00102s] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 17:12:55,813 - INFO - Serialized opportunities to dictionary format
2024-10-24 17:13:00,589 - INFO - ROLLBACK
2024-10-24 17:13:00,591 - INFO - End of get_opportunities function
2024-10-24 17:13:00,593 - INFO - 127.0.0.1 - - [24/Oct/2024 17:13:00] "GET /get-opportunities HTTP/1.1" 200 -
2024-10-24 17:33:15,986 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_opportunity.py', reloading
2024-10-24 17:33:16,603 - INFO -  * Restarting with stat
2024-10-24 17:33:18,758 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 17:33:18,825 - WARNING -  * Debugger is active!
2024-10-24 17:33:18,831 - INFO -  * Debugger PIN: 808-278-793
2024-10-24 17:34:10,113 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-24 17:34:10,251 - INFO -  * Restarting with stat
2024-10-24 17:34:11,197 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 17:34:11,211 - WARNING -  * Debugger is active!
2024-10-24 17:34:11,215 - INFO -  * Debugger PIN: 808-278-793
2024-10-24 17:37:08,654 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-24 17:37:08,790 - INFO -  * Restarting with stat
2024-10-24 17:37:09,699 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 17:37:09,716 - WARNING -  * Debugger is active!
2024-10-24 17:37:09,719 - INFO -  * Debugger PIN: 808-278-793
2024-10-24 17:39:14,671 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-24 17:39:14,946 - INFO -  * Restarting with stat
2024-10-24 17:39:16,468 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 17:39:16,485 - WARNING -  * Debugger is active!
2024-10-24 17:39:16,488 - INFO -  * Debugger PIN: 808-278-793
2024-10-24 17:40:24,259 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_opportunity.py', reloading
2024-10-24 17:40:24,407 - INFO -  * Restarting with stat
2024-10-24 17:40:25,339 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 17:40:25,354 - WARNING -  * Debugger is active!
2024-10-24 17:40:25,357 - INFO -  * Debugger PIN: 808-278-793
2024-10-24 17:56:44,323 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\Logging_package\\logging_utility.py', reloading
2024-10-24 17:56:44,463 - INFO -  * Restarting with stat
2024-10-24 17:56:45,716 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 17:56:45,730 - WARNING -  * Debugger is active!
2024-10-24 17:56:45,733 - INFO -  * Debugger PIN: 808-278-793
2024-10-24 17:58:57,026 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\Logging_package\\logging_utility.py', reloading
2024-10-24 17:58:57,204 - INFO -  * Restarting with stat
2024-10-24 17:58:58,165 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 17:58:58,179 - WARNING -  * Debugger is active!
2024-10-24 17:58:58,182 - INFO -  * Debugger PIN: 808-278-793
2024-10-24 18:01:09,153 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_opportunity.py', reloading
2024-10-24 18:01:09,346 - INFO -  * Restarting with stat
2024-10-24 18:01:10,649 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 18:01:10,664 - WARNING -  * Debugger is active!
2024-10-24 18:01:10,667 - INFO -  * Debugger PIN: 808-278-793
2024-10-24 18:07:13,421 - INFO - Flask application has stopped.
2024-10-24 18:07:13,628 - INFO - Flask application has stopped.
2024-10-24 18:07:28,165 - INFO - Starting the Flask application <Flask 'app_dealers'>.
2024-10-24 18:07:28,205 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-24 18:07:28,205 - INFO - [33mPress CTRL+C to quit[0m
2024-10-24 18:07:28,206 - INFO -  * Restarting with stat
2024-10-24 18:07:29,099 - INFO - Starting the Flask application <Flask 'app_dealers'>.
2024-10-24 18:07:29,114 - WARNING -  * Debugger is active!
2024-10-24 18:07:29,117 - INFO -  * Debugger PIN: 808-278-793
2024-10-24 18:07:34,405 - INFO - Received request to get all dealers
2024-10-24 18:07:34,543 - INFO - BEGIN (implicit)
2024-10-24 18:07:34,546 - INFO - SELECT heavy_machineries_dealer.dealer_id AS heavy_machineries_dealer_dealer_id, heavy_machineries_dealer.dealer_code AS heavy_machineries_dealer_dealer_code, heavy_machineries_dealer.opportunity_owner AS heavy_machineries_dealer_opportunity_owner 
FROM heavy_machineries_dealer
2024-10-24 18:07:34,546 - INFO - [generated in 0.00037s] {}
2024-10-24 18:07:34,560 - INFO - Dealers retrieved successfully. Count: 11
2024-10-24 18:07:39,383 - INFO - ROLLBACK
2024-10-24 18:07:39,385 - INFO - End of get_all_dealers function
2024-10-24 18:07:39,388 - INFO - 127.0.0.1 - - [24/Oct/2024 18:07:39] "GET /get-all-dealers?dealer_id=92190686-a328-4f16-b798-b940f5e3808f HTTP/1.1" 200 -
2024-10-24 18:08:57,700 - INFO - Flask application has stopped.
2024-10-24 18:08:57,849 - INFO - Flask application has stopped.
2024-10-24 18:09:56,685 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-24 18:09:56,716 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-24 18:09:56,716 - INFO - [33mPress CTRL+C to quit[0m
2024-10-24 18:09:56,717 - INFO -  * Restarting with stat
2024-10-24 18:09:57,584 - INFO - Starting the Flask application <Flask 'app_employees'>.
2024-10-24 18:09:57,600 - WARNING -  * Debugger is active!
2024-10-24 18:09:57,603 - INFO -  * Debugger PIN: 808-278-793
2024-10-24 18:10:04,356 - INFO - Entered /get-employees endpoint.
2024-10-24 18:10:04,358 - INFO - Query parameters: ImmutableMultiDict([])
2024-10-24 18:10:04,454 - INFO - BEGIN (implicit)
2024-10-24 18:10:04,456 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee
2024-10-24 18:10:04,457 - INFO - [generated in 0.00026s] {}
2024-10-24 18:10:04,468 - INFO - SELECT count(*) AS count_1 
FROM (SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee) AS anon_1
2024-10-24 18:10:04,469 - INFO - [generated in 0.00023s] {}
2024-10-24 18:10:04,482 - INFO - Fetched 3 employee(s).
2024-10-24 18:10:09,194 - INFO - ROLLBACK
2024-10-24 18:10:09,196 - INFO - Closed /get-employees endpoint.
2024-10-24 18:10:09,197 - INFO - 127.0.0.1 - - [24/Oct/2024 18:10:09] "GET /get-employees HTTP/1.1" 200 -
2024-10-24 18:12:00,341 - INFO - Flask application has stopped.
2024-10-24 18:12:00,527 - INFO - Flask application has stopped.
2024-10-24 18:12:10,875 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-24 18:12:10,905 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-24 18:12:10,905 - INFO - [33mPress CTRL+C to quit[0m
2024-10-24 18:12:10,907 - INFO -  * Restarting with stat
2024-10-24 18:12:11,784 - INFO - Starting the Flask application <Flask 'app_products'>.
2024-10-24 18:12:11,798 - WARNING -  * Debugger is active!
2024-10-24 18:12:11,801 - INFO -  * Debugger PIN: 808-278-793
2024-10-24 18:12:19,092 - INFO - Entered /get-heavy-products endpoint.
2024-10-24 18:12:19,092 - INFO - Query parameters: ImmutableMultiDict([])
2024-10-24 18:12:19,215 - INFO - BEGIN (implicit)
2024-10-24 18:12:19,223 - INFO - SELECT heavy_products.id AS heavy_products_id, heavy_products.name AS heavy_products_name, heavy_products.type AS heavy_products_type, heavy_products.brand AS heavy_products_brand, heavy_products.model AS heavy_products_model, heavy_products.year_of_manufacture AS heavy_products_year_of_manufacture, heavy_products.price AS heavy_products_price, heavy_products.weight AS heavy_products_weight, heavy_products.dimensions AS heavy_products_dimensions, heavy_products.engine_type AS heavy_products_engine_type, heavy_products.horsepower AS heavy_products_horsepower, heavy_products.fuel_capacity AS heavy_products_fuel_capacity, heavy_products.operational_hours AS heavy_products_operational_hours, heavy_products.warranty_period AS heavy_products_warranty_period, heavy_products.status AS heavy_products_status, heavy_products.description AS heavy_products_description, heavy_products.image_url AS heavy_products_image_url, heavy_products.created_at AS heavy_products_created_at, heavy_products.updated_at AS heavy_products_updated_at, heavy_products.employee_id AS heavy_products_employee_id, heavy_products.employee_name AS heavy_products_employee_name, heavy_products.employee_num AS heavy_products_employee_num 
FROM heavy_products
2024-10-24 18:12:19,223 - INFO - [generated in 0.00051s] {}
2024-10-24 18:12:19,242 - INFO - SELECT count(*) AS count_1 
FROM (SELECT heavy_products.id AS heavy_products_id, heavy_products.name AS heavy_products_name, heavy_products.type AS heavy_products_type, heavy_products.brand AS heavy_products_brand, heavy_products.model AS heavy_products_model, heavy_products.year_of_manufacture AS heavy_products_year_of_manufacture, heavy_products.price AS heavy_products_price, heavy_products.weight AS heavy_products_weight, heavy_products.dimensions AS heavy_products_dimensions, heavy_products.engine_type AS heavy_products_engine_type, heavy_products.horsepower AS heavy_products_horsepower, heavy_products.fuel_capacity AS heavy_products_fuel_capacity, heavy_products.operational_hours AS heavy_products_operational_hours, heavy_products.warranty_period AS heavy_products_warranty_period, heavy_products.status AS heavy_products_status, heavy_products.description AS heavy_products_description, heavy_products.image_url AS heavy_products_image_url, heavy_products.created_at AS heavy_products_created_at, heavy_products.updated_at AS heavy_products_updated_at, heavy_products.employee_id AS heavy_products_employee_id, heavy_products.employee_name AS heavy_products_employee_name, heavy_products.employee_num AS heavy_products_employee_num 
FROM heavy_products) AS anon_1
2024-10-24 18:12:19,242 - INFO - [generated in 0.00056s] {}
2024-10-24 18:12:19,252 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:12:19,252 - INFO - [generated in 0.00075s] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:12:19,258 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:12:19,258 - INFO - [cached since 0.007489s ago] {'pk_1': UUID('06e4347e-4dfc-490a-a066-686942241770')}
2024-10-24 18:12:19,260 - INFO - Fetched 6 heavy product(s).
2024-10-24 18:12:23,135 - INFO - ROLLBACK
2024-10-24 18:12:23,136 - INFO - Closed /get-heavy-products endpoint.
2024-10-24 18:12:23,138 - INFO - 127.0.0.1 - - [24/Oct/2024 18:12:23] "GET /get-heavy-products HTTP/1.1" 200 -
2024-10-24 18:12:59,777 - INFO - Flask application has stopped.
2024-10-24 18:12:59,947 - INFO - Flask application has stopped.
2024-10-24 18:13:19,347 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 18:13:19,378 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-24 18:13:19,378 - INFO - [33mPress CTRL+C to quit[0m
2024-10-24 18:13:19,379 - INFO -  * Restarting with stat
2024-10-24 18:13:20,428 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 18:13:20,470 - WARNING -  * Debugger is active!
2024-10-24 18:13:20,475 - INFO -  * Debugger PIN: 808-278-793
2024-10-24 18:13:22,324 - ERROR - OTP validation failed: Email and OTP are required.
2024-10-24 18:13:22,326 - INFO - 127.0.0.1 - - [24/Oct/2024 18:13:22] "[31m[1mPUT /update_opportunity HTTP/1.1[0m" 400 -
2024-10-24 18:14:18,728 - INFO - 127.0.0.1 - - [24/Oct/2024 18:14:18] "[31m[1mPUT /update_opportunity HTTP/1.1[0m" 400 -
2024-10-24 18:14:27,884 - INFO - 127.0.0.1 - - [24/Oct/2024 18:14:27] "[31m[1mPUT /update_opportunity HTTP/1.1[0m" 400 -
2024-10-24 18:14:37,387 - INFO - BEGIN (implicit)
2024-10-24 18:14:37,390 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-24 18:14:37,390 - INFO - [generated in 0.00027s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-24 18:14:37,413 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-24 18:14:37,413 - ERROR - Error while updating opportunity: type object 'HeavyMachineryOpportunity' has no attribute 'query'
Traceback (most recent call last):
  File "C:\Users\lenovo\PycharmProjects\heavy_machineries_ltd\App\app_opportunity.py", line 429, in update_opportunity
    opportunity = HeavyMachineryOpportunity.query.filter_by(opportunity_id=opportunity_id).first()
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'HeavyMachineryOpportunity' has no attribute 'query'
2024-10-24 18:14:37,415 - INFO - ROLLBACK
2024-10-24 18:14:37,415 - INFO - End of update_opportunity function
2024-10-24 18:14:37,417 - INFO - 127.0.0.1 - - [24/Oct/2024 18:14:37] "[35m[1mPUT /update_opportunity HTTP/1.1[0m" 500 -
2024-10-24 18:19:16,316 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_opportunity.py', reloading
2024-10-24 18:19:16,623 - INFO -  * Restarting with stat
2024-10-24 18:19:18,219 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 18:19:18,242 - WARNING -  * Debugger is active!
2024-10-24 18:19:18,247 - INFO -  * Debugger PIN: 808-278-793
2024-10-24 18:19:18,388 - INFO - BEGIN (implicit)
2024-10-24 18:19:18,391 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-24 18:19:18,391 - INFO - [generated in 0.00020s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-24 18:19:18,394 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-24 18:19:18,394 - INFO - ROLLBACK
2024-10-24 18:19:18,395 - ERROR - Error while updating opportunity: type object 'HeavyMachineryOpportunity' has no attribute 'query'
Traceback (most recent call last):
  File "C:\Users\lenovo\PycharmProjects\heavy_machineries_ltd\App\app_opportunity.py", line 429, in update_opportunity
    opportunity = HeavyMachineryOpportunity.query.filter_by(opportunity_id=opportunity_id).first()
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'HeavyMachineryOpportunity' has no attribute 'query'
2024-10-24 18:19:18,396 - INFO - End of update_opportunity function
2024-10-24 18:19:18,396 - INFO - 127.0.0.1 - - [24/Oct/2024 18:19:18] "[35m[1mPUT /update_opportunity HTTP/1.1[0m" 500 -
2024-10-24 18:23:47,459 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\tables.py', reloading
2024-10-24 18:23:47,638 - INFO -  * Restarting with stat
2024-10-24 18:23:48,593 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 18:23:48,608 - WARNING -  * Debugger is active!
2024-10-24 18:23:48,611 - INFO -  * Debugger PIN: 808-278-793
2024-10-24 18:23:59,707 - INFO - BEGIN (implicit)
2024-10-24 18:23:59,710 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-24 18:23:59,710 - INFO - [generated in 0.00031s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-24 18:23:59,715 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-24 18:23:59,715 - INFO - ROLLBACK
2024-10-24 18:23:59,716 - ERROR - Error while updating opportunity: type object 'HeavyMachineryOpportunity' has no attribute 'query'
Traceback (most recent call last):
  File "C:\Users\lenovo\PycharmProjects\heavy_machineries_ltd\App\app_opportunity.py", line 429, in update_opportunity
    opportunity = HeavyMachineryOpportunity.query.filter_by(opportunity_id=opportunity_id).first()
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'HeavyMachineryOpportunity' has no attribute 'query'
2024-10-24 18:23:59,717 - INFO - End of update_opportunity function
2024-10-24 18:23:59,717 - INFO - 127.0.0.1 - - [24/Oct/2024 18:23:59] "[35m[1mPUT /update_opportunity HTTP/1.1[0m" 500 -
2024-10-24 18:25:18,347 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_opportunity.py', reloading
2024-10-24 18:25:18,584 - INFO -  * Restarting with stat
2024-10-24 18:25:19,591 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 18:25:19,606 - WARNING -  * Debugger is active!
2024-10-24 18:25:19,609 - INFO -  * Debugger PIN: 808-278-793
2024-10-24 18:26:22,315 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_opportunity.py', reloading
2024-10-24 18:26:22,454 - INFO -  * Restarting with stat
2024-10-24 18:26:23,495 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 18:26:23,523 - WARNING -  * Debugger is active!
2024-10-24 18:26:23,529 - INFO -  * Debugger PIN: 808-278-793
2024-10-24 18:26:24,026 - INFO - BEGIN (implicit)
2024-10-24 18:26:24,029 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-24 18:26:24,029 - INFO - [generated in 0.00037s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-24 18:26:24,033 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-24 18:26:24,037 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(opportunity_id_1)s 
 LIMIT %(param_1)s
2024-10-24 18:26:24,038 - INFO - [generated in 0.00036s] {'opportunity_id_1': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'param_1': 1}
2024-10-24 18:26:24,049 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:26:24,049 - INFO - [generated in 0.00037s] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:26:24,052 - INFO - Current Opportunity Details: {'opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef'), 'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'close_date': '06:30 PM, December 31, 2024', 'amount': 12000000.0, 'amount_in_words': '12000000', 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'dealer_id': UUID('92190686-a328-4f16-b798-b940f5e3808f'), 'dealer_code': 'Dealer12', 'stage': 'Decision Makers', 'probability': 80, 'next_step': 'Negotiations with the procurement team', 'created_date': '12:53 AM, October 24, 2024', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'employee_name': 'shanti swaroop', 'employee_num': 'EMP0012', 'currency_conversions': 'USD: 120000000.0\nAUD: 60000000.0\nCAD: 12000000.0\nJPY: 21120000.0\nEUR: 144000.0\nGBP: 240000000.0\nCNY: 72000000.0', 'product_id': 'a3511400-a907-4663-bc4f-897a8cb90b3f', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product_image_url': 'http://example.com/images/cat320d.jpg'}
2024-10-24 18:26:24,364 - INFO - ROLLBACK
2024-10-24 18:26:24,365 - ERROR - Error while updating opportunity: unconverted data remains: T14:30:00
Traceback (most recent call last):
  File "C:\Users\lenovo\PycharmProjects\heavy_machineries_ltd\App\app_opportunity.py", line 445, in update_opportunity
    opportunity.close_date = datetime.strptime(data.get('close_date'), '%Y-%m-%d') if data.get(
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\_strptime.py", line 567, in _strptime_datetime
    tt, fraction, gmtoff_fraction = _strptime(data_string, format)
                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2544.0_x64__qbz5n2kfra8p0\Lib\_strptime.py", line 352, in _strptime
    raise ValueError("unconverted data remains: %s" %
ValueError: unconverted data remains: T14:30:00
2024-10-24 18:26:24,370 - INFO - End of update_opportunity function
2024-10-24 18:26:24,371 - INFO - 127.0.0.1 - - [24/Oct/2024 18:26:24] "[35m[1mPUT /update_opportunity HTTP/1.1[0m" 500 -
2024-10-24 18:27:33,774 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_opportunity.py', reloading
2024-10-24 18:27:34,099 - INFO -  * Restarting with stat
2024-10-24 18:27:35,404 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 18:27:35,418 - WARNING -  * Debugger is active!
2024-10-24 18:27:35,421 - INFO -  * Debugger PIN: 808-278-793
2024-10-24 18:28:07,491 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_opportunity.py', reloading
2024-10-24 18:28:07,664 - INFO -  * Restarting with stat
2024-10-24 18:28:08,763 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 18:28:08,785 - WARNING -  * Debugger is active!
2024-10-24 18:28:08,790 - INFO -  * Debugger PIN: 808-278-793
2024-10-24 18:28:09,166 - INFO - BEGIN (implicit)
2024-10-24 18:28:09,171 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-24 18:28:09,171 - INFO - [generated in 0.00029s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-24 18:28:09,174 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-24 18:28:09,177 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(opportunity_id_1)s 
 LIMIT %(param_1)s
2024-10-24 18:28:09,177 - INFO - [generated in 0.00026s] {'opportunity_id_1': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'param_1': 1}
2024-10-24 18:28:09,184 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:28:09,184 - INFO - [generated in 0.00032s] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:28:09,186 - INFO - Current Opportunity Details: {'opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef'), 'opportunity_name': 'Infrastructure Development Project', 'account_name': 'Mahindra Ltd', 'close_date': '06:30 PM, December 31, 2024', 'amount': 12000000.0, 'amount_in_words': '12000000', 'description': 'Opportunity for heavy machinery supply for infrastructure projects in Maharashtra.', 'dealer_id': UUID('92190686-a328-4f16-b798-b940f5e3808f'), 'dealer_code': 'Dealer12', 'stage': 'Decision Makers', 'probability': 80, 'next_step': 'Negotiations with the procurement team', 'created_date': '12:53 AM, October 24, 2024', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'employee_name': 'shanti swaroop', 'employee_num': 'EMP0012', 'currency_conversions': 'USD: 120000000.0\nAUD: 60000000.0\nCAD: 12000000.0\nJPY: 21120000.0\nEUR: 144000.0\nGBP: 240000000.0\nCNY: 72000000.0', 'product_id': 'a3511400-a907-4663-bc4f-897a8cb90b3f', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product_image_url': 'http://example.com/images/cat320d.jpg'}
2024-10-24 18:28:09,270 - INFO - UPDATE heavy_machinery_opportunities SET opportunity_name=%(opportunity_name)s, account_name=%(account_name)s, close_date=%(close_date)s, amount=%(amount)s, description=%(description)s, dealer_id=%(dealer_id)s, stage=%(stage)s, next_step=%(next_step)s, amount_in_words=%(amount_in_words)s WHERE heavy_machinery_opportunities.opportunity_id = %(heavy_machinery_opportunities_opportunity_id)s
2024-10-24 18:28:09,270 - INFO - [generated in 0.00044s] {'opportunity_name': 'New Opportunity', 'account_name': 'Acme Corp', 'close_date': datetime.datetime(2024, 10, 23, 14, 30), 'amount': 500000, 'description': 'Description of opportunity', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'stage': 'Negotiation', 'next_step': 'Finalize proposal', 'amount_in_words': 'Five Hundred Thousand', 'heavy_machinery_opportunities_opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:28:09,291 - INFO - COMMIT
2024-10-24 18:28:09,362 - INFO - BEGIN (implicit)
2024-10-24 18:28:09,365 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(pk_1)s
2024-10-24 18:28:09,365 - INFO - [generated in 0.00053s] {'pk_1': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:28:09,371 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:28:09,372 - INFO - [cached since 0.1877s ago] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:28:09,373 - INFO - Updated Opportunity Details: {'opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef'), 'opportunity_name': 'New Opportunity', 'account_name': 'Acme Corp', 'close_date': '02:30 PM, October 23, 2024', 'amount': 500000.0, 'amount_in_words': 'Five Hundred Thousand', 'description': 'Description of opportunity', 'dealer_id': UUID('92190686-a328-4f16-b798-b940f5e3808f'), 'dealer_code': 'Dealer12', 'stage': 'Negotiation', 'probability': 80, 'next_step': 'Finalize proposal', 'created_date': '12:53 AM, October 24, 2024', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'employee_name': 'shanti swaroop', 'employee_num': 'EMP0012', 'currency_conversions': 'USD: 120000000.0\nAUD: 60000000.0\nCAD: 12000000.0\nJPY: 21120000.0\nEUR: 144000.0\nGBP: 240000000.0\nCNY: 72000000.0', 'product_id': 'a3511400-a907-4663-bc4f-897a8cb90b3f', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product_image_url': 'http://example.com/images/cat320d.jpg'}
2024-10-24 18:28:09,374 - DEBUG - Preparing to send email with the following content: 
        The following opportunity has been updated:

        Opportunity ID: 617fbbe4-1e75-472e-b47f-2d89beb0f8ef
        Opportunity Name: New Opportunity
        Account Name: Acme Corp
        Close Date: 2024-10-23 14:30:00
        Amount: 500000.0 (In Words: Five Hundred Thousand)
        Description: Description of opportunity
        Dealer Code: Dealer12
        Stage: Negotiation
        Probability: 80
        Next Step: Finalize proposal

        Employee Details:
        Employee Name: shanti swaroop
        Employee ID: b66710eb-93c1-4c5c-90cf-6b368151f9df

        Product Details:
        Product ID: a3511400-a907-4663-bc4f-897a8cb90b3f
        Product Name: CAT 320D
        Product Brand: Caterpillar
        Product Model: 320D
        Product Image URL: http://example.com/images/cat320d.jpg

        Currency Conversions:
        USD: 120000000.0
AUD: 60000000.0
CAD: 12000000.0
JPY: 21120000.0
EUR: 144000.0
GBP: 240000000.0
CNY: 72000000.0

        Updated At: 06:28 PM, October 24, 2024
        
2024-10-24 18:28:14,340 - INFO - Opportunity email sent successfully for Opportunity ID: 617fbbe4-1e75-472e-b47f-2d89beb0f8ef
2024-10-24 18:28:14,342 - INFO - ROLLBACK
2024-10-24 18:28:14,344 - INFO - End of update_opportunity function
2024-10-24 18:28:14,346 - INFO - 127.0.0.1 - - [24/Oct/2024 18:28:14] "PUT /update_opportunity HTTP/1.1" 200 -
2024-10-24 18:29:55,658 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-24 18:29:55,845 - INFO -  * Restarting with stat
2024-10-24 18:29:56,736 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 18:29:56,751 - WARNING -  * Debugger is active!
2024-10-24 18:29:56,754 - INFO -  * Debugger PIN: 808-278-793
2024-10-24 18:30:08,443 - INFO - BEGIN (implicit)
2024-10-24 18:30:08,447 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-24 18:30:08,448 - INFO - [generated in 0.00039s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-24 18:30:08,452 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-24 18:30:08,456 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(opportunity_id_1)s 
 LIMIT %(param_1)s
2024-10-24 18:30:08,457 - INFO - [generated in 0.00041s] {'opportunity_id_1': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'param_1': 1}
2024-10-24 18:30:08,464 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:30:08,464 - INFO - [generated in 0.00042s] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:30:08,467 - INFO - Current Opportunity Details: {'opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef'), 'opportunity_name': 'New Opportunity', 'account_name': 'Acme Corp', 'close_date': '02:30 PM, October 23, 2024', 'amount': 500000.0, 'amount_in_words': 'Five Hundred Thousand', 'description': 'Description of opportunity', 'dealer_id': UUID('92190686-a328-4f16-b798-b940f5e3808f'), 'dealer_code': 'Dealer12', 'stage': 'Negotiation', 'probability': 80, 'next_step': 'Finalize proposal', 'created_date': '12:53 AM, October 24, 2024', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'employee_name': 'shanti swaroop', 'employee_num': 'EMP0012', 'currency_conversions': 'USD: 120000000.0\nAUD: 60000000.0\nCAD: 12000000.0\nJPY: 21120000.0\nEUR: 144000.0\nGBP: 240000000.0\nCNY: 72000000.0', 'product_id': 'a3511400-a907-4663-bc4f-897a8cb90b3f', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product_image_url': 'http://example.com/images/cat320d.jpg'}
2024-10-24 18:30:08,537 - INFO - UPDATE heavy_machinery_opportunities SET dealer_id=%(dealer_id)s WHERE heavy_machinery_opportunities.opportunity_id = %(heavy_machinery_opportunities_opportunity_id)s
2024-10-24 18:30:08,537 - INFO - [generated in 0.00048s] {'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'heavy_machinery_opportunities_opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:30:08,541 - INFO - COMMIT
2024-10-24 18:30:08,603 - INFO - BEGIN (implicit)
2024-10-24 18:30:08,604 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(pk_1)s
2024-10-24 18:30:08,604 - INFO - [generated in 0.00029s] {'pk_1': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:30:08,607 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:30:08,607 - INFO - [cached since 0.1435s ago] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:30:08,609 - INFO - Updated Opportunity Details: {'opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef'), 'opportunity_name': 'New Opportunity', 'account_name': 'Acme Corp', 'close_date': '02:30 PM, October 23, 2024', 'amount': 500000.0, 'amount_in_words': 'Five Hundred Thousand', 'description': 'Description of opportunity', 'dealer_id': UUID('92190686-a328-4f16-b798-b940f5e3808f'), 'dealer_code': 'Dealer12', 'stage': 'Negotiation', 'probability': 80, 'next_step': 'Finalize proposal', 'created_date': '12:53 AM, October 24, 2024', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'employee_name': 'shanti swaroop', 'employee_num': 'EMP0012', 'currency_conversions': 'USD: 120000000.0\nAUD: 60000000.0\nCAD: 12000000.0\nJPY: 21120000.0\nEUR: 144000.0\nGBP: 240000000.0\nCNY: 72000000.0', 'product_id': 'a3511400-a907-4663-bc4f-897a8cb90b3f', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product_image_url': 'http://example.com/images/cat320d.jpg'}
2024-10-24 18:30:08,609 - DEBUG - Preparing to send email with the following content: 
        The following opportunity has been updated:

        Opportunity ID: 617fbbe4-1e75-472e-b47f-2d89beb0f8ef
        Opportunity Name: New Opportunity
        Account Name: Acme Corp
        Close Date: 2024-10-23 14:30:00
        Amount: 500000.0 (In Words: Five Hundred Thousand)
        Description: Description of opportunity
        Dealer Code: Dealer12
        Stage: Negotiation
        Probability: 80
        Next Step: Finalize proposal

        Employee Details:
        Employee Name: shanti swaroop
        Employee ID: b66710eb-93c1-4c5c-90cf-6b368151f9df

        Product Details:
        Product ID: a3511400-a907-4663-bc4f-897a8cb90b3f
        Product Name: CAT 320D
        Product Brand: Caterpillar
        Product Model: 320D
        Product Image URL: http://example.com/images/cat320d.jpg

        Currency Conversions:
        USD: 120000000.0
AUD: 60000000.0
CAD: 12000000.0
JPY: 21120000.0
EUR: 144000.0
GBP: 240000000.0
CNY: 72000000.0

        Updated At: 06:30 PM, October 24, 2024
        
2024-10-24 18:30:12,918 - INFO - Opportunity email sent successfully for Opportunity ID: 617fbbe4-1e75-472e-b47f-2d89beb0f8ef
2024-10-24 18:30:12,919 - INFO - ROLLBACK
2024-10-24 18:30:12,921 - INFO - End of update_opportunity function
2024-10-24 18:30:12,923 - INFO - 127.0.0.1 - - [24/Oct/2024 18:30:12] "PUT /update_opportunity HTTP/1.1" 200 -
2024-10-24 18:33:46,894 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-24 18:33:47,259 - INFO -  * Restarting with stat
2024-10-24 18:33:48,656 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 18:33:48,675 - WARNING -  * Debugger is active!
2024-10-24 18:33:48,680 - INFO -  * Debugger PIN: 808-278-793
2024-10-24 18:33:48,814 - INFO - BEGIN (implicit)
2024-10-24 18:33:48,820 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-24 18:33:48,820 - INFO - [generated in 0.00082s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-24 18:33:48,825 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-24 18:33:48,832 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(opportunity_id_1)s 
 LIMIT %(param_1)s
2024-10-24 18:33:48,832 - INFO - [generated in 0.00062s] {'opportunity_id_1': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'param_1': 1}
2024-10-24 18:33:48,840 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:33:48,840 - INFO - [generated in 0.00028s] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:33:48,842 - INFO - Current Opportunity Details: {'opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef'), 'opportunity_name': 'New Opportunity', 'account_name': 'Acme Corp', 'close_date': '02:30 PM, October 23, 2024', 'amount': 500000.0, 'amount_in_words': 'Five Hundred Thousand', 'description': 'Description of opportunity', 'dealer_id': UUID('92190686-a328-4f16-b798-b940f5e3808f'), 'dealer_code': 'Dealer12', 'stage': 'Negotiation', 'probability': 80, 'next_step': 'Finalize proposal', 'created_date': '12:53 AM, October 24, 2024', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'employee_name': 'shanti swaroop', 'employee_num': 'EMP0012', 'currency_conversions': 'USD: 120000000.0\nAUD: 60000000.0\nCAD: 12000000.0\nJPY: 21120000.0\nEUR: 144000.0\nGBP: 240000000.0\nCNY: 72000000.0', 'product_id': 'a3511400-a907-4663-bc4f-897a8cb90b3f', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product_image_url': 'http://example.com/images/cat320d.jpg'}
2024-10-24 18:33:48,943 - INFO - UPDATE heavy_machinery_opportunities SET dealer_id=%(dealer_id)s WHERE heavy_machinery_opportunities.opportunity_id = %(heavy_machinery_opportunities_opportunity_id)s
2024-10-24 18:33:48,943 - INFO - [generated in 0.00025s] {'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'heavy_machinery_opportunities_opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:33:48,946 - INFO - COMMIT
2024-10-24 18:33:49,032 - INFO - BEGIN (implicit)
2024-10-24 18:33:49,035 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(pk_1)s
2024-10-24 18:33:49,036 - INFO - [generated in 0.00054s] {'pk_1': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:33:49,042 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:33:49,042 - INFO - [cached since 0.203s ago] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:33:49,046 - INFO - Updated Opportunity Details: {'opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef'), 'opportunity_name': 'New Opportunity', 'account_name': 'Acme Corp', 'close_date': '02:30 PM, October 23, 2024', 'amount': 500000.0, 'amount_in_words': 'Five Hundred Thousand', 'description': 'Description of opportunity', 'dealer_id': UUID('92190686-a328-4f16-b798-b940f5e3808f'), 'dealer_code': 'Dealer12', 'stage': 'Negotiation', 'probability': 80, 'next_step': 'Finalize proposal', 'created_date': '12:53 AM, October 24, 2024', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'employee_name': 'shanti swaroop', 'employee_num': 'EMP0012', 'currency_conversions': 'USD: 120000000.0\nAUD: 60000000.0\nCAD: 12000000.0\nJPY: 21120000.0\nEUR: 144000.0\nGBP: 240000000.0\nCNY: 72000000.0', 'product_id': 'a3511400-a907-4663-bc4f-897a8cb90b3f', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product_image_url': 'http://example.com/images/cat320d.jpg'}
2024-10-24 18:33:49,047 - INFO - ROLLBACK
2024-10-24 18:33:49,048 - ERROR - Error while sending opportunity update email: 'str' object has no attribute 'items'
2024-10-24 18:33:49,157 - INFO - BEGIN (implicit)
2024-10-24 18:33:49,157 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(pk_1)s
2024-10-24 18:33:49,158 - INFO - [cached since 0.122s ago] {'pk_1': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:33:49,162 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:33:49,162 - INFO - [cached since 0.3225s ago] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:33:49,165 - INFO - ROLLBACK
2024-10-24 18:33:49,166 - INFO - End of update_opportunity function
2024-10-24 18:33:49,167 - INFO - 127.0.0.1 - - [24/Oct/2024 18:33:49] "PUT /update_opportunity HTTP/1.1" 200 -
2024-10-24 18:34:03,970 - INFO - BEGIN (implicit)
2024-10-24 18:34:03,971 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-24 18:34:03,971 - INFO - [cached since 15.15s ago] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-24 18:34:03,975 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-24 18:34:03,975 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(opportunity_id_1)s 
 LIMIT %(param_1)s
2024-10-24 18:34:03,976 - INFO - [cached since 15.14s ago] {'opportunity_id_1': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'param_1': 1}
2024-10-24 18:34:03,978 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:34:03,979 - INFO - [cached since 15.14s ago] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:34:03,981 - INFO - Current Opportunity Details: {'opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef'), 'opportunity_name': 'New Opportunity', 'account_name': 'Acme Corp', 'close_date': '02:30 PM, October 23, 2024', 'amount': 500000.0, 'amount_in_words': 'Five Hundred Thousand', 'description': 'Description of opportunity', 'dealer_id': UUID('92190686-a328-4f16-b798-b940f5e3808f'), 'dealer_code': 'Dealer12', 'stage': 'Negotiation', 'probability': 80, 'next_step': 'Finalize proposal', 'created_date': '12:53 AM, October 24, 2024', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'employee_name': 'shanti swaroop', 'employee_num': 'EMP0012', 'currency_conversions': 'USD: 120000000.0\nAUD: 60000000.0\nCAD: 12000000.0\nJPY: 21120000.0\nEUR: 144000.0\nGBP: 240000000.0\nCNY: 72000000.0', 'product_id': 'a3511400-a907-4663-bc4f-897a8cb90b3f', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product_image_url': 'http://example.com/images/cat320d.jpg'}
2024-10-24 18:34:03,982 - INFO - UPDATE heavy_machinery_opportunities SET dealer_id=%(dealer_id)s WHERE heavy_machinery_opportunities.opportunity_id = %(heavy_machinery_opportunities_opportunity_id)s
2024-10-24 18:34:03,982 - INFO - [cached since 15.04s ago] {'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'heavy_machinery_opportunities_opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:34:03,993 - INFO - COMMIT
2024-10-24 18:34:04,087 - INFO - BEGIN (implicit)
2024-10-24 18:34:04,087 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(pk_1)s
2024-10-24 18:34:04,088 - INFO - [cached since 15.05s ago] {'pk_1': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:34:04,091 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:34:04,091 - INFO - [cached since 15.25s ago] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:34:04,092 - INFO - Updated Opportunity Details: {'opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef'), 'opportunity_name': 'New Opportunity', 'account_name': 'Acme Corp', 'close_date': '02:30 PM, October 23, 2024', 'amount': 500000.0, 'amount_in_words': 'Five Hundred Thousand', 'description': 'Description of opportunity', 'dealer_id': UUID('92190686-a328-4f16-b798-b940f5e3808f'), 'dealer_code': 'Dealer12', 'stage': 'Negotiation', 'probability': 80, 'next_step': 'Finalize proposal', 'created_date': '12:53 AM, October 24, 2024', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'employee_name': 'shanti swaroop', 'employee_num': 'EMP0012', 'currency_conversions': 'USD: 120000000.0\nAUD: 60000000.0\nCAD: 12000000.0\nJPY: 21120000.0\nEUR: 144000.0\nGBP: 240000000.0\nCNY: 72000000.0', 'product_id': 'a3511400-a907-4663-bc4f-897a8cb90b3f', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product_image_url': 'http://example.com/images/cat320d.jpg'}
2024-10-24 18:34:04,092 - INFO - ROLLBACK
2024-10-24 18:34:04,093 - ERROR - Error while sending opportunity update email: 'str' object has no attribute 'items'
2024-10-24 18:34:04,185 - INFO - BEGIN (implicit)
2024-10-24 18:34:04,186 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(pk_1)s
2024-10-24 18:34:04,186 - INFO - [cached since 15.15s ago] {'pk_1': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:34:04,191 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:34:04,192 - INFO - [cached since 15.35s ago] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:34:04,195 - INFO - ROLLBACK
2024-10-24 18:34:04,195 - INFO - End of update_opportunity function
2024-10-24 18:34:04,196 - INFO - 127.0.0.1 - - [24/Oct/2024 18:34:04] "PUT /update_opportunity HTTP/1.1" 200 -
2024-10-24 18:34:56,330 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-24 18:34:56,491 - INFO -  * Restarting with stat
2024-10-24 18:34:57,572 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 18:34:57,595 - WARNING -  * Debugger is active!
2024-10-24 18:34:57,599 - INFO -  * Debugger PIN: 808-278-793
2024-10-24 18:35:37,140 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-24 18:35:37,295 - INFO -  * Restarting with stat
2024-10-24 18:35:38,369 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 18:35:38,387 - WARNING -  * Debugger is active!
2024-10-24 18:35:38,390 - INFO -  * Debugger PIN: 808-278-793
2024-10-24 18:36:02,928 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-24 18:36:03,092 - INFO -  * Restarting with stat
2024-10-24 18:36:04,378 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 18:36:04,395 - WARNING -  * Debugger is active!
2024-10-24 18:36:04,399 - INFO -  * Debugger PIN: 808-278-793
2024-10-24 18:36:28,445 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-24 18:36:28,588 - INFO -  * Restarting with stat
2024-10-24 18:36:29,479 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 18:36:29,497 - WARNING -  * Debugger is active!
2024-10-24 18:36:29,500 - INFO -  * Debugger PIN: 808-278-793
2024-10-24 18:36:58,262 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-24 18:36:58,397 - INFO -  * Restarting with stat
2024-10-24 18:36:59,290 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 18:36:59,305 - WARNING -  * Debugger is active!
2024-10-24 18:36:59,307 - INFO -  * Debugger PIN: 808-278-793
2024-10-24 18:37:08,614 - INFO - BEGIN (implicit)
2024-10-24 18:37:08,618 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-24 18:37:08,618 - INFO - [generated in 0.00030s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-24 18:37:08,620 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-24 18:37:08,625 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(opportunity_id_1)s 
 LIMIT %(param_1)s
2024-10-24 18:37:08,625 - INFO - [generated in 0.00026s] {'opportunity_id_1': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'param_1': 1}
2024-10-24 18:37:08,630 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:37:08,630 - INFO - [generated in 0.00033s] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:37:08,632 - INFO - Current Opportunity Details: {'opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef'), 'opportunity_name': 'New Opportunity', 'account_name': 'Acme Corp', 'close_date': '02:30 PM, October 23, 2024', 'amount': 500000.0, 'amount_in_words': 'Five Hundred Thousand', 'description': 'Description of opportunity', 'dealer_id': UUID('92190686-a328-4f16-b798-b940f5e3808f'), 'dealer_code': 'Dealer12', 'stage': 'Negotiation', 'probability': 80, 'next_step': 'Finalize proposal', 'created_date': '12:53 AM, October 24, 2024', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'employee_name': 'shanti swaroop', 'employee_num': 'EMP0012', 'currency_conversions': 'USD: 120000000.0\nAUD: 60000000.0\nCAD: 12000000.0\nJPY: 21120000.0\nEUR: 144000.0\nGBP: 240000000.0\nCNY: 72000000.0', 'product_id': 'a3511400-a907-4663-bc4f-897a8cb90b3f', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product_image_url': 'http://example.com/images/cat320d.jpg'}
2024-10-24 18:37:08,715 - INFO - UPDATE heavy_machinery_opportunities SET dealer_id=%(dealer_id)s WHERE heavy_machinery_opportunities.opportunity_id = %(heavy_machinery_opportunities_opportunity_id)s
2024-10-24 18:37:08,715 - INFO - [generated in 0.00030s] {'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'heavy_machinery_opportunities_opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:37:08,719 - INFO - COMMIT
2024-10-24 18:37:08,797 - INFO - BEGIN (implicit)
2024-10-24 18:37:08,801 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(pk_1)s
2024-10-24 18:37:08,802 - INFO - [generated in 0.00152s] {'pk_1': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:37:08,805 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:37:08,805 - INFO - [cached since 0.1748s ago] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:37:08,807 - INFO - Updated Opportunity Details: {'opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef'), 'opportunity_name': 'New Opportunity', 'account_name': 'Acme Corp', 'close_date': '02:30 PM, October 23, 2024', 'amount': 500000.0, 'amount_in_words': 'Five Hundred Thousand', 'description': 'Description of opportunity', 'dealer_id': UUID('92190686-a328-4f16-b798-b940f5e3808f'), 'dealer_code': 'Dealer12', 'stage': 'Negotiation', 'probability': 80, 'next_step': 'Finalize proposal', 'created_date': '12:53 AM, October 24, 2024', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'employee_name': 'shanti swaroop', 'employee_num': 'EMP0012', 'currency_conversions': 'USD: 120000000.0\nAUD: 60000000.0\nCAD: 12000000.0\nJPY: 21120000.0\nEUR: 144000.0\nGBP: 240000000.0\nCNY: 72000000.0', 'product_id': 'a3511400-a907-4663-bc4f-897a8cb90b3f', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product_image_url': 'http://example.com/images/cat320d.jpg'}
2024-10-24 18:37:08,807 - INFO - ROLLBACK
2024-10-24 18:37:08,808 - ERROR - Error while sending opportunity update email: 'str' object has no attribute 'items'
2024-10-24 18:37:08,874 - INFO - BEGIN (implicit)
2024-10-24 18:37:08,874 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(pk_1)s
2024-10-24 18:37:08,874 - INFO - [cached since 0.0746s ago] {'pk_1': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:37:08,878 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:37:08,878 - INFO - [cached since 0.248s ago] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:37:08,882 - INFO - ROLLBACK
2024-10-24 18:37:08,882 - INFO - End of update_opportunity function
2024-10-24 18:37:08,883 - INFO - 127.0.0.1 - - [24/Oct/2024 18:37:08] "PUT /update_opportunity HTTP/1.1" 200 -
2024-10-24 18:37:47,036 - INFO - BEGIN (implicit)
2024-10-24 18:37:47,036 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-24 18:37:47,036 - INFO - [cached since 38.42s ago] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-24 18:37:47,039 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-24 18:37:47,040 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(opportunity_id_1)s 
 LIMIT %(param_1)s
2024-10-24 18:37:47,040 - INFO - [cached since 38.42s ago] {'opportunity_id_1': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'param_1': 1}
2024-10-24 18:37:47,041 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:37:47,043 - INFO - [cached since 38.41s ago] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:37:47,044 - INFO - Current Opportunity Details: {'opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef'), 'opportunity_name': 'New Opportunity', 'account_name': 'Acme Corp', 'close_date': '02:30 PM, October 23, 2024', 'amount': 500000.0, 'amount_in_words': 'Five Hundred Thousand', 'description': 'Description of opportunity', 'dealer_id': UUID('92190686-a328-4f16-b798-b940f5e3808f'), 'dealer_code': 'Dealer12', 'stage': 'Negotiation', 'probability': 80, 'next_step': 'Finalize proposal', 'created_date': '12:53 AM, October 24, 2024', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'employee_name': 'shanti swaroop', 'employee_num': 'EMP0012', 'currency_conversions': 'USD: 120000000.0\nAUD: 60000000.0\nCAD: 12000000.0\nJPY: 21120000.0\nEUR: 144000.0\nGBP: 240000000.0\nCNY: 72000000.0', 'product_id': 'a3511400-a907-4663-bc4f-897a8cb90b3f', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product_image_url': 'http://example.com/images/cat320d.jpg'}
2024-10-24 18:37:47,045 - INFO - UPDATE heavy_machinery_opportunities SET dealer_id=%(dealer_id)s WHERE heavy_machinery_opportunities.opportunity_id = %(heavy_machinery_opportunities_opportunity_id)s
2024-10-24 18:37:47,045 - INFO - [cached since 38.33s ago] {'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'heavy_machinery_opportunities_opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:37:47,047 - INFO - COMMIT
2024-10-24 18:37:47,108 - INFO - BEGIN (implicit)
2024-10-24 18:37:47,108 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(pk_1)s
2024-10-24 18:37:47,109 - INFO - [cached since 38.31s ago] {'pk_1': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:37:47,111 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:37:47,111 - INFO - [cached since 38.48s ago] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:37:47,113 - INFO - Updated Opportunity Details: {'opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef'), 'opportunity_name': 'New Opportunity', 'account_name': 'Acme Corp', 'close_date': '02:30 PM, October 23, 2024', 'amount': 500000.0, 'amount_in_words': 'Five Hundred Thousand', 'description': 'Description of opportunity', 'dealer_id': UUID('92190686-a328-4f16-b798-b940f5e3808f'), 'dealer_code': 'Dealer12', 'stage': 'Negotiation', 'probability': 80, 'next_step': 'Finalize proposal', 'created_date': '12:53 AM, October 24, 2024', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'employee_name': 'shanti swaroop', 'employee_num': 'EMP0012', 'currency_conversions': 'USD: 120000000.0\nAUD: 60000000.0\nCAD: 12000000.0\nJPY: 21120000.0\nEUR: 144000.0\nGBP: 240000000.0\nCNY: 72000000.0', 'product_id': 'a3511400-a907-4663-bc4f-897a8cb90b3f', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product_image_url': 'http://example.com/images/cat320d.jpg'}
2024-10-24 18:37:47,113 - INFO - ROLLBACK
2024-10-24 18:37:47,114 - ERROR - Error while sending opportunity update email: 'str' object has no attribute 'items'
2024-10-24 18:37:47,172 - INFO - BEGIN (implicit)
2024-10-24 18:37:47,172 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(pk_1)s
2024-10-24 18:37:47,172 - INFO - [cached since 38.37s ago] {'pk_1': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:37:47,175 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:37:47,175 - INFO - [cached since 38.54s ago] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:37:47,177 - INFO - ROLLBACK
2024-10-24 18:37:47,178 - INFO - End of update_opportunity function
2024-10-24 18:37:47,178 - INFO - 127.0.0.1 - - [24/Oct/2024 18:37:47] "PUT /update_opportunity HTTP/1.1" 200 -
2024-10-24 18:38:27,542 - INFO - BEGIN (implicit)
2024-10-24 18:38:27,543 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-24 18:38:27,543 - INFO - [cached since 78.93s ago] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-24 18:38:27,548 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-24 18:38:27,548 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(opportunity_id_1)s 
 LIMIT %(param_1)s
2024-10-24 18:38:27,548 - INFO - [cached since 78.92s ago] {'opportunity_id_1': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'param_1': 1}
2024-10-24 18:38:27,551 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:38:27,552 - INFO - [cached since 78.92s ago] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:38:27,553 - INFO - Current Opportunity Details: {'opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef'), 'opportunity_name': 'New Opportunity', 'account_name': 'Acme Corp', 'close_date': '02:30 PM, October 23, 2024', 'amount': 500000.0, 'amount_in_words': 'Five Hundred Thousand', 'description': 'Description of opportunity', 'dealer_id': UUID('92190686-a328-4f16-b798-b940f5e3808f'), 'dealer_code': 'Dealer12', 'stage': 'Negotiation', 'probability': 80, 'next_step': 'Finalize proposal', 'created_date': '12:53 AM, October 24, 2024', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'employee_name': 'shanti swaroop', 'employee_num': 'EMP0012', 'currency_conversions': 'USD: 120000000.0\nAUD: 60000000.0\nCAD: 12000000.0\nJPY: 21120000.0\nEUR: 144000.0\nGBP: 240000000.0\nCNY: 72000000.0', 'product_id': 'a3511400-a907-4663-bc4f-897a8cb90b3f', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product_image_url': 'http://example.com/images/cat320d.jpg'}
2024-10-24 18:38:27,554 - INFO - UPDATE heavy_machinery_opportunities SET dealer_id=%(dealer_id)s WHERE heavy_machinery_opportunities.opportunity_id = %(heavy_machinery_opportunities_opportunity_id)s
2024-10-24 18:38:27,554 - INFO - [cached since 78.84s ago] {'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'heavy_machinery_opportunities_opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:38:27,556 - INFO - COMMIT
2024-10-24 18:38:27,616 - INFO - BEGIN (implicit)
2024-10-24 18:38:27,616 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(pk_1)s
2024-10-24 18:38:27,616 - INFO - [cached since 78.82s ago] {'pk_1': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:38:27,619 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:38:27,619 - INFO - [cached since 78.99s ago] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:38:27,621 - INFO - Updated Opportunity Details: {'opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef'), 'opportunity_name': 'New Opportunity', 'account_name': 'Acme Corp', 'close_date': '02:30 PM, October 23, 2024', 'amount': 500000.0, 'amount_in_words': 'Five Hundred Thousand', 'description': 'Description of opportunity', 'dealer_id': UUID('92190686-a328-4f16-b798-b940f5e3808f'), 'dealer_code': 'Dealer12', 'stage': 'Negotiation', 'probability': 80, 'next_step': 'Finalize proposal', 'created_date': '12:53 AM, October 24, 2024', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'employee_name': 'shanti swaroop', 'employee_num': 'EMP0012', 'currency_conversions': 'USD: 120000000.0\nAUD: 60000000.0\nCAD: 12000000.0\nJPY: 21120000.0\nEUR: 144000.0\nGBP: 240000000.0\nCNY: 72000000.0', 'product_id': 'a3511400-a907-4663-bc4f-897a8cb90b3f', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product_image_url': 'http://example.com/images/cat320d.jpg'}
2024-10-24 18:38:27,621 - INFO - ROLLBACK
2024-10-24 18:38:27,622 - ERROR - Error while sending opportunity update email: 'str' object has no attribute 'items'
2024-10-24 18:38:27,684 - INFO - BEGIN (implicit)
2024-10-24 18:38:27,684 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(pk_1)s
2024-10-24 18:38:27,684 - INFO - [cached since 78.88s ago] {'pk_1': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:38:27,687 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:38:27,687 - INFO - [cached since 79.06s ago] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:38:27,689 - INFO - ROLLBACK
2024-10-24 18:38:27,689 - INFO - End of update_opportunity function
2024-10-24 18:38:27,691 - INFO - 127.0.0.1 - - [24/Oct/2024 18:38:27] "PUT /update_opportunity HTTP/1.1" 200 -
2024-10-24 18:38:32,035 - INFO - Flask application has stopped.
2024-10-24 18:38:32,182 - INFO - Flask application has stopped.
2024-10-24 18:38:36,019 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 18:38:36,053 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-24 18:38:36,053 - INFO - [33mPress CTRL+C to quit[0m
2024-10-24 18:38:36,054 - INFO -  * Restarting with stat
2024-10-24 18:38:36,946 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 18:38:36,961 - WARNING -  * Debugger is active!
2024-10-24 18:38:36,964 - INFO -  * Debugger PIN: 808-278-793
2024-10-24 18:38:39,059 - INFO - BEGIN (implicit)
2024-10-24 18:38:39,063 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-24 18:38:39,063 - INFO - [generated in 0.00033s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-24 18:38:39,066 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-24 18:38:39,069 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(opportunity_id_1)s 
 LIMIT %(param_1)s
2024-10-24 18:38:39,070 - INFO - [generated in 0.00025s] {'opportunity_id_1': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'param_1': 1}
2024-10-24 18:38:39,074 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:38:39,074 - INFO - [generated in 0.00028s] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:38:39,076 - INFO - Current Opportunity Details: {'opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef'), 'opportunity_name': 'New Opportunity', 'account_name': 'Acme Corp', 'close_date': '02:30 PM, October 23, 2024', 'amount': 500000.0, 'amount_in_words': 'Five Hundred Thousand', 'description': 'Description of opportunity', 'dealer_id': UUID('92190686-a328-4f16-b798-b940f5e3808f'), 'dealer_code': 'Dealer12', 'stage': 'Negotiation', 'probability': 80, 'next_step': 'Finalize proposal', 'created_date': '12:53 AM, October 24, 2024', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'employee_name': 'shanti swaroop', 'employee_num': 'EMP0012', 'currency_conversions': 'USD: 120000000.0\nAUD: 60000000.0\nCAD: 12000000.0\nJPY: 21120000.0\nEUR: 144000.0\nGBP: 240000000.0\nCNY: 72000000.0', 'product_id': 'a3511400-a907-4663-bc4f-897a8cb90b3f', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product_image_url': 'http://example.com/images/cat320d.jpg'}
2024-10-24 18:38:39,171 - INFO - UPDATE heavy_machinery_opportunities SET dealer_id=%(dealer_id)s WHERE heavy_machinery_opportunities.opportunity_id = %(heavy_machinery_opportunities_opportunity_id)s
2024-10-24 18:38:39,171 - INFO - [generated in 0.00020s] {'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'heavy_machinery_opportunities_opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:38:39,179 - INFO - COMMIT
2024-10-24 18:38:39,251 - INFO - BEGIN (implicit)
2024-10-24 18:38:39,254 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(pk_1)s
2024-10-24 18:38:39,254 - INFO - [generated in 0.00033s] {'pk_1': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:38:39,257 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:38:39,258 - INFO - [cached since 0.1843s ago] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:38:39,259 - INFO - Updated Opportunity Details: {'opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef'), 'opportunity_name': 'New Opportunity', 'account_name': 'Acme Corp', 'close_date': '02:30 PM, October 23, 2024', 'amount': 500000.0, 'amount_in_words': 'Five Hundred Thousand', 'description': 'Description of opportunity', 'dealer_id': UUID('92190686-a328-4f16-b798-b940f5e3808f'), 'dealer_code': 'Dealer12', 'stage': 'Negotiation', 'probability': 80, 'next_step': 'Finalize proposal', 'created_date': '12:53 AM, October 24, 2024', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'employee_name': 'shanti swaroop', 'employee_num': 'EMP0012', 'currency_conversions': 'USD: 120000000.0\nAUD: 60000000.0\nCAD: 12000000.0\nJPY: 21120000.0\nEUR: 144000.0\nGBP: 240000000.0\nCNY: 72000000.0', 'product_id': 'a3511400-a907-4663-bc4f-897a8cb90b3f', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product_image_url': 'http://example.com/images/cat320d.jpg'}
2024-10-24 18:38:39,260 - INFO - ROLLBACK
2024-10-24 18:38:39,262 - ERROR - Error while sending opportunity update email: 'str' object has no attribute 'items'
2024-10-24 18:38:39,334 - INFO - BEGIN (implicit)
2024-10-24 18:38:39,335 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(pk_1)s
2024-10-24 18:38:39,335 - INFO - [cached since 0.08036s ago] {'pk_1': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:38:39,337 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:38:39,338 - INFO - [cached since 0.2636s ago] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:38:39,339 - INFO - ROLLBACK
2024-10-24 18:38:39,340 - INFO - End of update_opportunity function
2024-10-24 18:38:39,340 - INFO - 127.0.0.1 - - [24/Oct/2024 18:38:39] "PUT /update_opportunity HTTP/1.1" 200 -
2024-10-24 18:38:49,724 - INFO - Received request to get opportunities with query parameters
2024-10-24 18:38:49,724 - INFO - Query parameters retrieved: opportunity_id=None, opportunity_name=, account_name=, stage=, probability_min=None, probability_max=None, created_date_start=None, close_date_end=None, amount_min=None, amount_max=None, employee_id=, product_id=, product_name=, product_brand=, product_model=
2024-10-24 18:38:49,724 - INFO - Constructed initial query
2024-10-24 18:38:49,812 - INFO - BEGIN (implicit)
2024-10-24 18:38:49,814 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities
2024-10-24 18:38:49,814 - INFO - [generated in 0.00050s] {}
2024-10-24 18:38:49,819 - INFO - Fetched 2 opportunities based on query parameters
2024-10-24 18:38:49,820 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:38:49,820 - INFO - [cached since 10.75s ago] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:38:49,824 - INFO - Serialized opportunities to dictionary format
2024-10-24 18:38:53,655 - INFO - ROLLBACK
2024-10-24 18:38:53,657 - INFO - End of get_opportunities function
2024-10-24 18:38:53,658 - INFO - 127.0.0.1 - - [24/Oct/2024 18:38:53] "GET /get-opportunities HTTP/1.1" 200 -
2024-10-24 18:39:00,247 - INFO - BEGIN (implicit)
2024-10-24 18:39:00,247 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-24 18:39:00,248 - INFO - [cached since 21.19s ago] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-24 18:39:00,252 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-24 18:39:00,253 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(opportunity_id_1)s 
 LIMIT %(param_1)s
2024-10-24 18:39:00,253 - INFO - [cached since 21.18s ago] {'opportunity_id_1': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'param_1': 1}
2024-10-24 18:39:00,257 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:39:00,257 - INFO - [cached since 21.18s ago] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:39:00,259 - INFO - Current Opportunity Details: {'opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef'), 'opportunity_name': 'New Opportunity', 'account_name': 'Acme Corp', 'close_date': '02:30 PM, October 23, 2024', 'amount': 500000.0, 'amount_in_words': 'Five Hundred Thousand', 'description': 'Description of opportunity', 'dealer_id': UUID('92190686-a328-4f16-b798-b940f5e3808f'), 'dealer_code': 'Dealer12', 'stage': 'Negotiation', 'probability': 80, 'next_step': 'Finalize proposal', 'created_date': '12:53 AM, October 24, 2024', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'employee_name': 'shanti swaroop', 'employee_num': 'EMP0012', 'currency_conversions': 'USD: 120000000.0\nAUD: 60000000.0\nCAD: 12000000.0\nJPY: 21120000.0\nEUR: 144000.0\nGBP: 240000000.0\nCNY: 72000000.0', 'product_id': 'a3511400-a907-4663-bc4f-897a8cb90b3f', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product_image_url': 'http://example.com/images/cat320d.jpg'}
2024-10-24 18:39:00,260 - INFO - UPDATE heavy_machinery_opportunities SET dealer_id=%(dealer_id)s WHERE heavy_machinery_opportunities.opportunity_id = %(heavy_machinery_opportunities_opportunity_id)s
2024-10-24 18:39:00,260 - INFO - [cached since 21.09s ago] {'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'heavy_machinery_opportunities_opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:39:00,262 - INFO - COMMIT
2024-10-24 18:39:00,335 - INFO - BEGIN (implicit)
2024-10-24 18:39:00,335 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(pk_1)s
2024-10-24 18:39:00,336 - INFO - [cached since 21.08s ago] {'pk_1': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:39:00,339 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:39:00,340 - INFO - [cached since 21.27s ago] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:39:00,342 - INFO - Updated Opportunity Details: {'opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef'), 'opportunity_name': 'New Opportunity', 'account_name': 'Acme Corp', 'close_date': '02:30 PM, October 23, 2024', 'amount': 500000.0, 'amount_in_words': 'Five Hundred Thousand', 'description': 'Description of opportunity', 'dealer_id': UUID('92190686-a328-4f16-b798-b940f5e3808f'), 'dealer_code': 'Dealer12', 'stage': 'Negotiation', 'probability': 80, 'next_step': 'Finalize proposal', 'created_date': '12:53 AM, October 24, 2024', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'employee_name': 'shanti swaroop', 'employee_num': 'EMP0012', 'currency_conversions': 'USD: 120000000.0\nAUD: 60000000.0\nCAD: 12000000.0\nJPY: 21120000.0\nEUR: 144000.0\nGBP: 240000000.0\nCNY: 72000000.0', 'product_id': 'a3511400-a907-4663-bc4f-897a8cb90b3f', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product_image_url': 'http://example.com/images/cat320d.jpg'}
2024-10-24 18:39:00,343 - INFO - ROLLBACK
2024-10-24 18:39:00,344 - ERROR - Error while sending opportunity update email: 'str' object has no attribute 'items'
2024-10-24 18:39:00,434 - INFO - BEGIN (implicit)
2024-10-24 18:39:00,434 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(pk_1)s
2024-10-24 18:39:00,434 - INFO - [cached since 21.18s ago] {'pk_1': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:39:00,438 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:39:00,439 - INFO - [cached since 21.37s ago] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:39:00,441 - INFO - ROLLBACK
2024-10-24 18:39:00,442 - INFO - End of update_opportunity function
2024-10-24 18:39:00,442 - INFO - 127.0.0.1 - - [24/Oct/2024 18:39:00] "PUT /update_opportunity HTTP/1.1" 200 -
2024-10-24 18:39:44,357 - INFO - Flask application has stopped.
2024-10-24 18:39:44,504 - INFO - Flask application has stopped.
2024-10-24 18:39:55,468 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 18:39:55,498 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-24 18:39:55,499 - INFO - [33mPress CTRL+C to quit[0m
2024-10-24 18:39:55,500 - INFO -  * Restarting with stat
2024-10-24 18:39:56,364 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 18:39:56,383 - WARNING -  * Debugger is active!
2024-10-24 18:39:56,386 - INFO -  * Debugger PIN: 808-278-793
2024-10-24 18:40:00,572 - INFO - BEGIN (implicit)
2024-10-24 18:40:00,574 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-24 18:40:00,574 - INFO - [generated in 0.00034s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-24 18:40:00,579 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-24 18:40:00,583 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(opportunity_id_1)s 
 LIMIT %(param_1)s
2024-10-24 18:40:00,584 - INFO - [generated in 0.00123s] {'opportunity_id_1': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'param_1': 1}
2024-10-24 18:40:00,590 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:40:00,590 - INFO - [generated in 0.00030s] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:40:00,592 - INFO - Current Opportunity Details: {'opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef'), 'opportunity_name': 'New Opportunity', 'account_name': 'Acme Corp', 'close_date': '02:30 PM, October 23, 2024', 'amount': 500000.0, 'amount_in_words': 'Five Hundred Thousand', 'description': 'Description of opportunity', 'dealer_id': UUID('92190686-a328-4f16-b798-b940f5e3808f'), 'dealer_code': 'Dealer12', 'stage': 'Negotiation', 'probability': 80, 'next_step': 'Finalize proposal', 'created_date': '12:53 AM, October 24, 2024', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'employee_name': 'shanti swaroop', 'employee_num': 'EMP0012', 'currency_conversions': 'USD: 120000000.0\nAUD: 60000000.0\nCAD: 12000000.0\nJPY: 21120000.0\nEUR: 144000.0\nGBP: 240000000.0\nCNY: 72000000.0', 'product_id': 'a3511400-a907-4663-bc4f-897a8cb90b3f', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product_image_url': 'http://example.com/images/cat320d.jpg'}
2024-10-24 18:40:00,724 - INFO - UPDATE heavy_machinery_opportunities SET dealer_id=%(dealer_id)s WHERE heavy_machinery_opportunities.opportunity_id = %(heavy_machinery_opportunities_opportunity_id)s
2024-10-24 18:40:00,724 - INFO - [generated in 0.00027s] {'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'heavy_machinery_opportunities_opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:40:00,725 - INFO - COMMIT
2024-10-24 18:40:00,790 - INFO - BEGIN (implicit)
2024-10-24 18:40:00,791 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(pk_1)s
2024-10-24 18:40:00,792 - INFO - [generated in 0.00036s] {'pk_1': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:40:00,795 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:40:00,796 - INFO - [cached since 0.2059s ago] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:40:00,798 - INFO - Updated Opportunity Details: {'opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef'), 'opportunity_name': 'New Opportunity', 'account_name': 'Acme Corp', 'close_date': '02:30 PM, October 23, 2024', 'amount': 500000.0, 'amount_in_words': 'Five Hundred Thousand', 'description': 'Description of opportunity', 'dealer_id': UUID('92190686-a328-4f16-b798-b940f5e3808f'), 'dealer_code': 'Dealer12', 'stage': 'Negotiation', 'probability': 80, 'next_step': 'Finalize proposal', 'created_date': '12:53 AM, October 24, 2024', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'employee_name': 'shanti swaroop', 'employee_num': 'EMP0012', 'currency_conversions': 'USD: 120000000.0\nAUD: 60000000.0\nCAD: 12000000.0\nJPY: 21120000.0\nEUR: 144000.0\nGBP: 240000000.0\nCNY: 72000000.0', 'product_id': 'a3511400-a907-4663-bc4f-897a8cb90b3f', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product_image_url': 'http://example.com/images/cat320d.jpg'}
2024-10-24 18:40:00,798 - INFO - ROLLBACK
2024-10-24 18:40:00,798 - ERROR - Error while sending opportunity update email: 'str' object has no attribute 'items'
2024-10-24 18:40:00,899 - INFO - BEGIN (implicit)
2024-10-24 18:40:00,900 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(pk_1)s
2024-10-24 18:40:00,901 - INFO - [cached since 0.1095s ago] {'pk_1': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:40:00,905 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:40:00,906 - INFO - [cached since 0.3159s ago] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:40:00,908 - INFO - ROLLBACK
2024-10-24 18:40:00,909 - INFO - End of update_opportunity function
2024-10-24 18:40:00,910 - INFO - 127.0.0.1 - - [24/Oct/2024 18:40:00] "PUT /update_opportunity HTTP/1.1" 200 -
2024-10-24 18:42:46,293 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-24 18:42:46,511 - INFO -  * Restarting with stat
2024-10-24 18:44:24,685 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 18:44:24,740 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-24 18:44:24,740 - INFO - [33mPress CTRL+C to quit[0m
2024-10-24 18:44:24,742 - INFO -  * Restarting with stat
2024-10-24 18:44:25,667 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 18:44:25,688 - WARNING -  * Debugger is active!
2024-10-24 18:44:25,692 - INFO -  * Debugger PIN: 808-278-793
2024-10-24 18:44:28,019 - INFO - BEGIN (implicit)
2024-10-24 18:44:28,022 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-24 18:44:28,022 - INFO - [generated in 0.00027s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-24 18:44:28,035 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-24 18:44:28,038 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(opportunity_id_1)s 
 LIMIT %(param_1)s
2024-10-24 18:44:28,038 - INFO - [generated in 0.00026s] {'opportunity_id_1': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'param_1': 1}
2024-10-24 18:44:28,047 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:44:28,047 - INFO - [generated in 0.00035s] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:44:28,051 - INFO - Current Opportunity Details: {'opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef'), 'opportunity_name': 'New Opportunity', 'account_name': 'Acme Corp', 'close_date': '02:30 PM, October 23, 2024', 'amount': 500000.0, 'amount_in_words': 'Five Hundred Thousand', 'description': 'Description of opportunity', 'dealer_id': UUID('92190686-a328-4f16-b798-b940f5e3808f'), 'dealer_code': 'Dealer12', 'stage': 'Negotiation', 'probability': 80, 'next_step': 'Finalize proposal', 'created_date': '12:53 AM, October 24, 2024', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'employee_name': 'shanti swaroop', 'employee_num': 'EMP0012', 'currency_conversions': 'USD: 120000000.0\nAUD: 60000000.0\nCAD: 12000000.0\nJPY: 21120000.0\nEUR: 144000.0\nGBP: 240000000.0\nCNY: 72000000.0', 'product_id': 'a3511400-a907-4663-bc4f-897a8cb90b3f', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product_image_url': 'http://example.com/images/cat320d.jpg'}
2024-10-24 18:44:28,133 - INFO - UPDATE heavy_machinery_opportunities SET dealer_id=%(dealer_id)s WHERE heavy_machinery_opportunities.opportunity_id = %(heavy_machinery_opportunities_opportunity_id)s
2024-10-24 18:44:28,133 - INFO - [generated in 0.00023s] {'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'heavy_machinery_opportunities_opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:44:28,143 - INFO - COMMIT
2024-10-24 18:44:28,218 - INFO - BEGIN (implicit)
2024-10-24 18:44:28,220 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(pk_1)s
2024-10-24 18:44:28,220 - INFO - [generated in 0.00034s] {'pk_1': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:44:28,224 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:44:28,224 - INFO - [cached since 0.1784s ago] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:44:28,227 - INFO - Updated Opportunity Details: {'opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef'), 'opportunity_name': 'New Opportunity', 'account_name': 'Acme Corp', 'close_date': '02:30 PM, October 23, 2024', 'amount': 500000.0, 'amount_in_words': 'Five Hundred Thousand', 'description': 'Description of opportunity', 'dealer_id': UUID('92190686-a328-4f16-b798-b940f5e3808f'), 'dealer_code': 'Dealer12', 'stage': 'Negotiation', 'probability': 80, 'next_step': 'Finalize proposal', 'created_date': '12:53 AM, October 24, 2024', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'employee_name': 'shanti swaroop', 'employee_num': 'EMP0012', 'currency_conversions': 'USD: 120000000.0\nAUD: 60000000.0\nCAD: 12000000.0\nJPY: 21120000.0\nEUR: 144000.0\nGBP: 240000000.0\nCNY: 72000000.0', 'product_id': 'a3511400-a907-4663-bc4f-897a8cb90b3f', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product_image_url': 'http://example.com/images/cat320d.jpg'}
2024-10-24 18:44:28,228 - ERROR - Expected currency conversions to be a dict, got a string: USD: 120000000.0
AUD: 60000000.0
CAD: 12000000.0
JPY: 21120000.0
EUR: 144000.0
GBP: 240000000.0
CNY: 72000000.0
2024-10-24 18:44:28,229 - DEBUG - Preparing to send email with the following content: 
        The following opportunity has been updated:

        Opportunity ID: 617fbbe4-1e75-472e-b47f-2d89beb0f8ef
        Opportunity Name: New Opportunity
        Account Name: Acme Corp
        Close Date: 2024-10-23 14:30:00
        Amount: 500000.0 (In Words: Five Hundred Thousand)
        Description: Description of opportunity
        Dealer Code: Dealer12
        Stage: Negotiation
        Probability: 80
        Next Step: Finalize proposal

        Employee Details:
        Employee Name: shanti swaroop
        Employee ID: b66710eb-93c1-4c5c-90cf-6b368151f9df

        Product Details:
        Product ID: a3511400-a907-4663-bc4f-897a8cb90b3f
        Product Name: CAT 320D
        Product Brand: Caterpillar
        Product Model: 320D
        Product Image URL: http://example.com/images/cat320d.jpg

        Currency Conversions:
        

        Updated At: 06:44 PM, October 24, 2024
        
2024-10-24 18:44:31,527 - INFO - Opportunity email sent successfully for Opportunity ID: 617fbbe4-1e75-472e-b47f-2d89beb0f8ef
2024-10-24 18:44:31,528 - INFO - ROLLBACK
2024-10-24 18:44:31,528 - INFO - End of update_opportunity function
2024-10-24 18:44:31,529 - INFO - 127.0.0.1 - - [24/Oct/2024 18:44:31] "PUT /update_opportunity HTTP/1.1" 200 -
2024-10-24 18:45:37,159 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-24 18:45:37,340 - INFO -  * Restarting with stat
2024-10-24 18:45:38,308 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 18:45:38,325 - WARNING -  * Debugger is active!
2024-10-24 18:45:38,330 - INFO -  * Debugger PIN: 808-278-793
2024-10-24 18:45:38,436 - INFO - BEGIN (implicit)
2024-10-24 18:45:38,438 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-24 18:45:38,438 - INFO - [generated in 0.00019s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-24 18:45:38,441 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-24 18:45:38,444 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(opportunity_id_1)s 
 LIMIT %(param_1)s
2024-10-24 18:45:38,444 - INFO - [generated in 0.00054s] {'opportunity_id_1': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'param_1': 1}
2024-10-24 18:45:38,449 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:45:38,450 - INFO - [generated in 0.00083s] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:45:38,451 - INFO - Current Opportunity Details: {'opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef'), 'opportunity_name': 'New Opportunity', 'account_name': 'Acme Corp', 'close_date': '02:30 PM, October 23, 2024', 'amount': 500000.0, 'amount_in_words': 'Five Hundred Thousand', 'description': 'Description of opportunity', 'dealer_id': UUID('92190686-a328-4f16-b798-b940f5e3808f'), 'dealer_code': 'Dealer12', 'stage': 'Negotiation', 'probability': 80, 'next_step': 'Finalize proposal', 'created_date': '12:53 AM, October 24, 2024', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'employee_name': 'shanti swaroop', 'employee_num': 'EMP0012', 'currency_conversions': 'USD: 120000000.0\nAUD: 60000000.0\nCAD: 12000000.0\nJPY: 21120000.0\nEUR: 144000.0\nGBP: 240000000.0\nCNY: 72000000.0', 'product_id': 'a3511400-a907-4663-bc4f-897a8cb90b3f', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product_image_url': 'http://example.com/images/cat320d.jpg'}
2024-10-24 18:45:38,536 - INFO - UPDATE heavy_machinery_opportunities SET dealer_id=%(dealer_id)s WHERE heavy_machinery_opportunities.opportunity_id = %(heavy_machinery_opportunities_opportunity_id)s
2024-10-24 18:45:38,537 - INFO - [generated in 0.00055s] {'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'heavy_machinery_opportunities_opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:45:38,539 - INFO - COMMIT
2024-10-24 18:45:38,618 - INFO - BEGIN (implicit)
2024-10-24 18:45:38,620 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(pk_1)s
2024-10-24 18:45:38,620 - INFO - [generated in 0.00032s] {'pk_1': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:45:38,623 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:45:38,623 - INFO - [cached since 0.1742s ago] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:45:38,625 - INFO - Updated Opportunity Details: {'opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef'), 'opportunity_name': 'New Opportunity', 'account_name': 'Acme Corp', 'close_date': '02:30 PM, October 23, 2024', 'amount': 500000.0, 'amount_in_words': 'Five Hundred Thousand', 'description': 'Description of opportunity', 'dealer_id': UUID('92190686-a328-4f16-b798-b940f5e3808f'), 'dealer_code': 'Dealer12', 'stage': 'Negotiation', 'probability': 80, 'next_step': 'Finalize proposal', 'created_date': '12:53 AM, October 24, 2024', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'employee_name': 'shanti swaroop', 'employee_num': 'EMP0012', 'currency_conversions': 'USD: 120000000.0\nAUD: 60000000.0\nCAD: 12000000.0\nJPY: 21120000.0\nEUR: 144000.0\nGBP: 240000000.0\nCNY: 72000000.0', 'product_id': 'a3511400-a907-4663-bc4f-897a8cb90b3f', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product_image_url': 'http://example.com/images/cat320d.jpg'}
2024-10-24 18:45:38,625 - ERROR - Expected currency conversions to be a dict, got a string: USD: 120000000.0
AUD: 60000000.0
CAD: 12000000.0
JPY: 21120000.0
EUR: 144000.0
GBP: 240000000.0
CNY: 72000000.0
2024-10-24 18:45:38,630 - DEBUG - Preparing to send email with the following content: 
        The following opportunity has been updated:

        Opportunity ID: 617fbbe4-1e75-472e-b47f-2d89beb0f8ef
        Opportunity Name: New Opportunity
        Account Name: Acme Corp
        Close Date: 2024-10-23 14:30:00
        Amount: 500,000.00 (In Words: Five Hundred Thousand)
        Description: Description of opportunity
        Dealer Code: Dealer12
        Stage: Negotiation
        Probability: 80
        Next Step: Finalize proposal

        Employee Details:
        Employee Name: shanti swaroop
        Employee ID: b66710eb-93c1-4c5c-90cf-6b368151f9df

        Product Details:
        Product ID: a3511400-a907-4663-bc4f-897a8cb90b3f
        Product Name: CAT 320D
        Product Brand: Caterpillar
        Product Model: 320D
        Product Image URL: http://example.com/images/cat320d.jpg

        Currency Conversions:
        

        Updated At: 06:45 PM, October 24, 2024
        
2024-10-24 18:45:38,630 - INFO - ROLLBACK
2024-10-24 18:45:38,631 - ERROR - Error while sending opportunity update email: send_email() got an unexpected keyword argument 'to_email'
2024-10-24 18:45:38,691 - INFO - BEGIN (implicit)
2024-10-24 18:45:38,691 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(pk_1)s
2024-10-24 18:45:38,692 - INFO - [cached since 0.07204s ago] {'pk_1': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:45:38,696 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:45:38,696 - INFO - [cached since 0.2474s ago] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:45:38,699 - INFO - ROLLBACK
2024-10-24 18:45:38,700 - INFO - End of update_opportunity function
2024-10-24 18:45:38,701 - INFO - 127.0.0.1 - - [24/Oct/2024 18:45:38] "PUT /update_opportunity HTTP/1.1" 200 -
2024-10-24 18:48:26,448 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-24 18:48:26,661 - INFO -  * Restarting with stat
2024-10-24 18:48:27,673 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 18:48:27,691 - WARNING -  * Debugger is active!
2024-10-24 18:48:27,696 - INFO -  * Debugger PIN: 808-278-793
2024-10-24 18:48:27,821 - INFO - BEGIN (implicit)
2024-10-24 18:48:27,824 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-24 18:48:27,824 - INFO - [generated in 0.00023s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-24 18:48:27,830 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-24 18:48:27,834 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(opportunity_id_1)s 
 LIMIT %(param_1)s
2024-10-24 18:48:27,834 - INFO - [generated in 0.00064s] {'opportunity_id_1': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'param_1': 1}
2024-10-24 18:48:27,844 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:48:27,846 - INFO - [generated in 0.00137s] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:48:27,850 - INFO - Current Opportunity Details: {'opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef'), 'opportunity_name': 'New Opportunity', 'account_name': 'Acme Corp', 'close_date': '02:30 PM, October 23, 2024', 'amount': 500000.0, 'amount_in_words': 'Five Hundred Thousand', 'description': 'Description of opportunity', 'dealer_id': UUID('92190686-a328-4f16-b798-b940f5e3808f'), 'dealer_code': 'Dealer12', 'stage': 'Negotiation', 'probability': 80, 'next_step': 'Finalize proposal', 'created_date': '12:53 AM, October 24, 2024', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'employee_name': 'shanti swaroop', 'employee_num': 'EMP0012', 'currency_conversions': 'USD: 120000000.0\nAUD: 60000000.0\nCAD: 12000000.0\nJPY: 21120000.0\nEUR: 144000.0\nGBP: 240000000.0\nCNY: 72000000.0', 'product_id': 'a3511400-a907-4663-bc4f-897a8cb90b3f', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product_image_url': 'http://example.com/images/cat320d.jpg'}
2024-10-24 18:48:27,965 - INFO - UPDATE heavy_machinery_opportunities SET dealer_id=%(dealer_id)s WHERE heavy_machinery_opportunities.opportunity_id = %(heavy_machinery_opportunities_opportunity_id)s
2024-10-24 18:48:27,965 - INFO - [generated in 0.00026s] {'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'heavy_machinery_opportunities_opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:48:27,967 - INFO - COMMIT
2024-10-24 18:48:28,034 - INFO - BEGIN (implicit)
2024-10-24 18:48:28,036 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(pk_1)s
2024-10-24 18:48:28,037 - INFO - [generated in 0.00035s] {'pk_1': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:48:28,040 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:48:28,040 - INFO - [cached since 0.1959s ago] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:48:28,042 - INFO - Updated Opportunity Details: {'opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef'), 'opportunity_name': 'New Opportunity', 'account_name': 'Acme Corp', 'close_date': '02:30 PM, October 23, 2024', 'amount': 500000.0, 'amount_in_words': 'Five Hundred Thousand', 'description': 'Description of opportunity', 'dealer_id': UUID('92190686-a328-4f16-b798-b940f5e3808f'), 'dealer_code': 'Dealer12', 'stage': 'Negotiation', 'probability': 80, 'next_step': 'Finalize proposal', 'created_date': '12:53 AM, October 24, 2024', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'employee_name': 'shanti swaroop', 'employee_num': 'EMP0012', 'currency_conversions': 'USD: 120000000.0\nAUD: 60000000.0\nCAD: 12000000.0\nJPY: 21120000.0\nEUR: 144000.0\nGBP: 240000000.0\nCNY: 72000000.0', 'product_id': 'a3511400-a907-4663-bc4f-897a8cb90b3f', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product_image_url': 'http://example.com/images/cat320d.jpg'}
2024-10-24 18:48:28,042 - ERROR - Expected currency conversions to be a dict, got a string: USD: 120000000.0
AUD: 60000000.0
CAD: 12000000.0
JPY: 21120000.0
EUR: 144000.0
GBP: 240000000.0
CNY: 72000000.0
2024-10-24 18:48:28,043 - DEBUG - Preparing to send email with the following content: 
        The following opportunity has been updated:

        Opportunity ID: 617fbbe4-1e75-472e-b47f-2d89beb0f8ef
        Opportunity Name: New Opportunity
        Account Name: Acme Corp
        Close Date: 2024-10-23 14:30:00
        Amount: 500,000.00 (In Words: Five Hundred Thousand)
        Description: Description of opportunity
        Dealer Code: Dealer12
        Stage: Negotiation
        Probability: 80
        Next Step: Finalize proposal

        Employee Details:
        Employee Name: shanti swaroop
        Employee ID: b66710eb-93c1-4c5c-90cf-6b368151f9df

        Product Details:
        Product ID: a3511400-a907-4663-bc4f-897a8cb90b3f
        Product Name: CAT 320D
        Product Brand: Caterpillar
        Product Model: 320D
        Product Image URL: http://example.com/images/cat320d.jpg

        Currency Conversions:
        

        Updated At: 06:48 PM, October 24, 2024
        
2024-10-24 18:48:31,611 - INFO - Opportunity email sent successfully for Opportunity ID: 617fbbe4-1e75-472e-b47f-2d89beb0f8ef
2024-10-24 18:48:31,613 - INFO - ROLLBACK
2024-10-24 18:48:31,615 - INFO - End of update_opportunity function
2024-10-24 18:48:31,616 - INFO - 127.0.0.1 - - [24/Oct/2024 18:48:31] "PUT /update_opportunity HTTP/1.1" 200 -
2024-10-24 18:49:44,720 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-24 18:49:44,835 - INFO -  * Restarting with stat
2024-10-24 18:49:45,991 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 18:49:46,016 - WARNING -  * Debugger is active!
2024-10-24 18:49:46,020 - INFO -  * Debugger PIN: 808-278-793
2024-10-24 18:49:46,705 - INFO - BEGIN (implicit)
2024-10-24 18:49:46,708 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-24 18:49:46,708 - INFO - [generated in 0.00024s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-24 18:49:46,712 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-24 18:49:46,715 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(opportunity_id_1)s 
 LIMIT %(param_1)s
2024-10-24 18:49:46,715 - INFO - [generated in 0.00026s] {'opportunity_id_1': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'param_1': 1}
2024-10-24 18:49:46,720 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:49:46,720 - INFO - [generated in 0.00022s] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:49:46,721 - INFO - Current Opportunity Details: {'opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef'), 'opportunity_name': 'New Opportunity', 'account_name': 'Acme Corp', 'close_date': '02:30 PM, October 23, 2024', 'amount': 500000.0, 'amount_in_words': 'Five Hundred Thousand', 'description': 'Description of opportunity', 'dealer_id': UUID('92190686-a328-4f16-b798-b940f5e3808f'), 'dealer_code': 'Dealer12', 'stage': 'Negotiation', 'probability': 80, 'next_step': 'Finalize proposal', 'created_date': '12:53 AM, October 24, 2024', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'employee_name': 'shanti swaroop', 'employee_num': 'EMP0012', 'currency_conversions': 'USD: 120000000.0\nAUD: 60000000.0\nCAD: 12000000.0\nJPY: 21120000.0\nEUR: 144000.0\nGBP: 240000000.0\nCNY: 72000000.0', 'product_id': 'a3511400-a907-4663-bc4f-897a8cb90b3f', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product_image_url': 'http://example.com/images/cat320d.jpg'}
2024-10-24 18:49:46,789 - INFO - UPDATE heavy_machinery_opportunities SET dealer_id=%(dealer_id)s WHERE heavy_machinery_opportunities.opportunity_id = %(heavy_machinery_opportunities_opportunity_id)s
2024-10-24 18:49:46,789 - INFO - [generated in 0.00019s] {'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'heavy_machinery_opportunities_opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:49:46,791 - INFO - COMMIT
2024-10-24 18:49:46,844 - INFO - BEGIN (implicit)
2024-10-24 18:49:46,846 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(pk_1)s
2024-10-24 18:49:46,846 - INFO - [generated in 0.00023s] {'pk_1': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:49:46,850 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:49:46,850 - INFO - [cached since 0.1307s ago] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:49:46,851 - INFO - Updated Opportunity Details: {'opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef'), 'opportunity_name': 'New Opportunity', 'account_name': 'Acme Corp', 'close_date': '02:30 PM, October 23, 2024', 'amount': 500000.0, 'amount_in_words': 'Five Hundred Thousand', 'description': 'Description of opportunity', 'dealer_id': UUID('92190686-a328-4f16-b798-b940f5e3808f'), 'dealer_code': 'Dealer12', 'stage': 'Negotiation', 'probability': 80, 'next_step': 'Finalize proposal', 'created_date': '12:53 AM, October 24, 2024', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'employee_name': 'shanti swaroop', 'employee_num': 'EMP0012', 'currency_conversions': 'USD: 120000000.0\nAUD: 60000000.0\nCAD: 12000000.0\nJPY: 21120000.0\nEUR: 144000.0\nGBP: 240000000.0\nCNY: 72000000.0', 'product_id': 'a3511400-a907-4663-bc4f-897a8cb90b3f', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product_image_url': 'http://example.com/images/cat320d.jpg'}
2024-10-24 18:49:46,851 - INFO - ROLLBACK
2024-10-24 18:49:46,852 - ERROR - Error while sending opportunity update email: 'Employee' object has no attribute 'employee_number'
2024-10-24 18:49:46,916 - INFO - BEGIN (implicit)
2024-10-24 18:49:46,917 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(pk_1)s
2024-10-24 18:49:46,918 - INFO - [cached since 0.07182s ago] {'pk_1': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:49:46,922 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:49:46,922 - INFO - [cached since 0.2021s ago] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:49:46,924 - INFO - ROLLBACK
2024-10-24 18:49:46,924 - INFO - End of update_opportunity function
2024-10-24 18:49:46,925 - INFO - 127.0.0.1 - - [24/Oct/2024 18:49:46] "PUT /update_opportunity HTTP/1.1" 200 -
2024-10-24 18:51:03,983 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-24 18:51:04,126 - INFO -  * Restarting with stat
2024-10-24 18:51:05,077 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 18:51:05,092 - WARNING -  * Debugger is active!
2024-10-24 18:51:05,095 - INFO -  * Debugger PIN: 808-278-793
2024-10-24 18:51:05,958 - INFO - BEGIN (implicit)
2024-10-24 18:51:05,962 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-24 18:51:05,962 - INFO - [generated in 0.00027s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-24 18:51:05,964 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-24 18:51:05,968 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(opportunity_id_1)s 
 LIMIT %(param_1)s
2024-10-24 18:51:05,968 - INFO - [generated in 0.00024s] {'opportunity_id_1': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'param_1': 1}
2024-10-24 18:51:05,972 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:51:05,972 - INFO - [generated in 0.00035s] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:51:05,974 - INFO - Current Opportunity Details: {'opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef'), 'opportunity_name': 'New Opportunity', 'account_name': 'Acme Corp', 'close_date': '02:30 PM, October 23, 2024', 'amount': 500000.0, 'amount_in_words': 'Five Hundred Thousand', 'description': 'Description of opportunity', 'dealer_id': UUID('92190686-a328-4f16-b798-b940f5e3808f'), 'dealer_code': 'Dealer12', 'stage': 'Negotiation', 'probability': 80, 'next_step': 'Finalize proposal', 'created_date': '12:53 AM, October 24, 2024', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'employee_name': 'shanti swaroop', 'employee_num': 'EMP0012', 'currency_conversions': 'USD: 120000000.0\nAUD: 60000000.0\nCAD: 12000000.0\nJPY: 21120000.0\nEUR: 144000.0\nGBP: 240000000.0\nCNY: 72000000.0', 'product_id': 'a3511400-a907-4663-bc4f-897a8cb90b3f', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product_image_url': 'http://example.com/images/cat320d.jpg'}
2024-10-24 18:51:06,052 - INFO - UPDATE heavy_machinery_opportunities SET dealer_id=%(dealer_id)s WHERE heavy_machinery_opportunities.opportunity_id = %(heavy_machinery_opportunities_opportunity_id)s
2024-10-24 18:51:06,052 - INFO - [generated in 0.00022s] {'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'heavy_machinery_opportunities_opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:51:06,053 - INFO - COMMIT
2024-10-24 18:51:06,122 - INFO - BEGIN (implicit)
2024-10-24 18:51:06,124 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(pk_1)s
2024-10-24 18:51:06,124 - INFO - [generated in 0.00045s] {'pk_1': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:51:06,131 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:51:06,131 - INFO - [cached since 0.1591s ago] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:51:06,133 - INFO - Updated Opportunity Details: {'opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef'), 'opportunity_name': 'New Opportunity', 'account_name': 'Acme Corp', 'close_date': '02:30 PM, October 23, 2024', 'amount': 500000.0, 'amount_in_words': 'Five Hundred Thousand', 'description': 'Description of opportunity', 'dealer_id': UUID('92190686-a328-4f16-b798-b940f5e3808f'), 'dealer_code': 'Dealer12', 'stage': 'Negotiation', 'probability': 80, 'next_step': 'Finalize proposal', 'created_date': '12:53 AM, October 24, 2024', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'employee_name': 'shanti swaroop', 'employee_num': 'EMP0012', 'currency_conversions': 'USD: 120000000.0\nAUD: 60000000.0\nCAD: 12000000.0\nJPY: 21120000.0\nEUR: 144000.0\nGBP: 240000000.0\nCNY: 72000000.0', 'product_id': 'a3511400-a907-4663-bc4f-897a8cb90b3f', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product_image_url': 'http://example.com/images/cat320d.jpg'}
2024-10-24 18:51:06,134 - INFO - ROLLBACK
2024-10-24 18:51:06,136 - ERROR - Error while sending opportunity update email: 'Employee' object has no attribute 'employee_num'
2024-10-24 18:51:06,222 - INFO - BEGIN (implicit)
2024-10-24 18:51:06,222 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(pk_1)s
2024-10-24 18:51:06,222 - INFO - [cached since 0.09883s ago] {'pk_1': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:51:06,226 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:51:06,228 - INFO - [cached since 0.2557s ago] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:51:06,232 - INFO - ROLLBACK
2024-10-24 18:51:06,233 - INFO - End of update_opportunity function
2024-10-24 18:51:06,233 - INFO - 127.0.0.1 - - [24/Oct/2024 18:51:06] "PUT /update_opportunity HTTP/1.1" 200 -
2024-10-24 18:51:27,118 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-24 18:51:27,277 - INFO -  * Restarting with stat
2024-10-24 18:51:28,877 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 18:51:28,895 - WARNING -  * Debugger is active!
2024-10-24 18:51:28,899 - INFO -  * Debugger PIN: 808-278-793
2024-10-24 18:51:29,007 - INFO - BEGIN (implicit)
2024-10-24 18:51:29,011 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-24 18:51:29,011 - INFO - [generated in 0.00037s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-24 18:51:29,014 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-24 18:51:29,017 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(opportunity_id_1)s 
 LIMIT %(param_1)s
2024-10-24 18:51:29,017 - INFO - [generated in 0.00025s] {'opportunity_id_1': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'param_1': 1}
2024-10-24 18:51:29,021 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:51:29,022 - INFO - [generated in 0.00026s] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:51:29,023 - INFO - Current Opportunity Details: {'opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef'), 'opportunity_name': 'New Opportunity', 'account_name': 'Acme Corp', 'close_date': '02:30 PM, October 23, 2024', 'amount': 500000.0, 'amount_in_words': 'Five Hundred Thousand', 'description': 'Description of opportunity', 'dealer_id': UUID('92190686-a328-4f16-b798-b940f5e3808f'), 'dealer_code': 'Dealer12', 'stage': 'Negotiation', 'probability': 80, 'next_step': 'Finalize proposal', 'created_date': '12:53 AM, October 24, 2024', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'employee_name': 'shanti swaroop', 'employee_num': 'EMP0012', 'currency_conversions': 'USD: 120000000.0\nAUD: 60000000.0\nCAD: 12000000.0\nJPY: 21120000.0\nEUR: 144000.0\nGBP: 240000000.0\nCNY: 72000000.0', 'product_id': 'a3511400-a907-4663-bc4f-897a8cb90b3f', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product_image_url': 'http://example.com/images/cat320d.jpg'}
2024-10-24 18:51:29,105 - INFO - UPDATE heavy_machinery_opportunities SET dealer_id=%(dealer_id)s WHERE heavy_machinery_opportunities.opportunity_id = %(heavy_machinery_opportunities_opportunity_id)s
2024-10-24 18:51:29,106 - INFO - [generated in 0.00026s] {'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'heavy_machinery_opportunities_opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:51:29,112 - INFO - COMMIT
2024-10-24 18:51:29,172 - INFO - BEGIN (implicit)
2024-10-24 18:51:29,173 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(pk_1)s
2024-10-24 18:51:29,173 - INFO - [generated in 0.00020s] {'pk_1': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:51:29,177 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:51:29,177 - INFO - [cached since 0.1567s ago] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:51:29,179 - INFO - Updated Opportunity Details: {'opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef'), 'opportunity_name': 'New Opportunity', 'account_name': 'Acme Corp', 'close_date': '02:30 PM, October 23, 2024', 'amount': 500000.0, 'amount_in_words': 'Five Hundred Thousand', 'description': 'Description of opportunity', 'dealer_id': UUID('92190686-a328-4f16-b798-b940f5e3808f'), 'dealer_code': 'Dealer12', 'stage': 'Negotiation', 'probability': 80, 'next_step': 'Finalize proposal', 'created_date': '12:53 AM, October 24, 2024', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'employee_name': 'shanti swaroop', 'employee_num': 'EMP0012', 'currency_conversions': 'USD: 120000000.0\nAUD: 60000000.0\nCAD: 12000000.0\nJPY: 21120000.0\nEUR: 144000.0\nGBP: 240000000.0\nCNY: 72000000.0', 'product_id': 'a3511400-a907-4663-bc4f-897a8cb90b3f', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product_image_url': 'http://example.com/images/cat320d.jpg'}
2024-10-24 18:51:29,179 - INFO - ROLLBACK
2024-10-24 18:51:29,180 - ERROR - Error while sending opportunity update email: 'dict' object has no attribute 'strip'
2024-10-24 18:51:29,235 - INFO - BEGIN (implicit)
2024-10-24 18:51:29,236 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(pk_1)s
2024-10-24 18:51:29,236 - INFO - [cached since 0.06255s ago] {'pk_1': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:51:29,239 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:51:29,239 - INFO - [cached since 0.2177s ago] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:51:29,240 - INFO - ROLLBACK
2024-10-24 18:51:29,240 - INFO - End of update_opportunity function
2024-10-24 18:51:29,241 - INFO - 127.0.0.1 - - [24/Oct/2024 18:51:29] "PUT /update_opportunity HTTP/1.1" 200 -
2024-10-24 18:53:11,574 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-24 18:53:11,689 - INFO -  * Restarting with stat
2024-10-24 18:53:12,488 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 18:53:12,503 - WARNING -  * Debugger is active!
2024-10-24 18:53:12,506 - INFO -  * Debugger PIN: 808-278-793
2024-10-24 18:55:21,157 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-24 18:55:21,332 - INFO -  * Restarting with stat
2024-10-24 18:55:22,305 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 18:55:22,327 - WARNING -  * Debugger is active!
2024-10-24 18:55:22,332 - INFO -  * Debugger PIN: 808-278-793
2024-10-24 18:55:22,707 - INFO - BEGIN (implicit)
2024-10-24 18:55:22,710 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-24 18:55:22,711 - INFO - [generated in 0.00023s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-24 18:55:22,714 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-24 18:55:22,717 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(opportunity_id_1)s 
 LIMIT %(param_1)s
2024-10-24 18:55:22,718 - INFO - [generated in 0.00024s] {'opportunity_id_1': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'param_1': 1}
2024-10-24 18:55:22,722 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:55:22,722 - INFO - [generated in 0.00026s] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:55:22,724 - INFO - Current Opportunity Details: {'opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef'), 'opportunity_name': 'New Opportunity', 'account_name': 'Acme Corp', 'close_date': '02:30 PM, October 23, 2024', 'amount': 500000.0, 'amount_in_words': 'Five Hundred Thousand', 'description': 'Description of opportunity', 'dealer_id': UUID('92190686-a328-4f16-b798-b940f5e3808f'), 'dealer_code': 'Dealer12', 'stage': 'Negotiation', 'probability': 80, 'next_step': 'Finalize proposal', 'created_date': '12:53 AM, October 24, 2024', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'employee_name': 'shanti swaroop', 'employee_num': 'EMP0012', 'currency_conversions': 'USD: 120000000.0\nAUD: 60000000.0\nCAD: 12000000.0\nJPY: 21120000.0\nEUR: 144000.0\nGBP: 240000000.0\nCNY: 72000000.0', 'product_id': 'a3511400-a907-4663-bc4f-897a8cb90b3f', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product_image_url': 'http://example.com/images/cat320d.jpg'}
2024-10-24 18:55:22,794 - INFO - UPDATE heavy_machinery_opportunities SET dealer_id=%(dealer_id)s WHERE heavy_machinery_opportunities.opportunity_id = %(heavy_machinery_opportunities_opportunity_id)s
2024-10-24 18:55:22,795 - INFO - [generated in 0.00025s] {'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'heavy_machinery_opportunities_opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:55:22,799 - INFO - COMMIT
2024-10-24 18:55:22,851 - INFO - BEGIN (implicit)
2024-10-24 18:55:22,852 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(pk_1)s
2024-10-24 18:55:22,852 - INFO - [generated in 0.00022s] {'pk_1': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:55:22,855 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:55:22,855 - INFO - [cached since 0.1329s ago] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:55:22,856 - INFO - Updated Opportunity Details: {'opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef'), 'opportunity_name': 'New Opportunity', 'account_name': 'Acme Corp', 'close_date': '02:30 PM, October 23, 2024', 'amount': 500000.0, 'amount_in_words': 'Five Hundred Thousand', 'description': 'Description of opportunity', 'dealer_id': UUID('92190686-a328-4f16-b798-b940f5e3808f'), 'dealer_code': 'Dealer12', 'stage': 'Negotiation', 'probability': 80, 'next_step': 'Finalize proposal', 'created_date': '12:53 AM, October 24, 2024', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'employee_name': 'shanti swaroop', 'employee_num': 'EMP0012', 'currency_conversions': 'USD: 120000000.0\nAUD: 60000000.0\nCAD: 12000000.0\nJPY: 21120000.0\nEUR: 144000.0\nGBP: 240000000.0\nCNY: 72000000.0', 'product_id': 'a3511400-a907-4663-bc4f-897a8cb90b3f', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product_image_url': 'http://example.com/images/cat320d.jpg'}
2024-10-24 18:55:22,856 - DEBUG - Preparing to send email with the following content: 
        The following opportunity has been updated:

        Opportunity ID: 617fbbe4-1e75-472e-b47f-2d89beb0f8ef
        Opportunity Name: New Opportunity
        Account Name: Acme Corp
        Close Date: 2024-10-23 14:30:00
        Amount: 500000.0 (In Words: Five Hundred Thousand)
        Description: Description of opportunity
        Dealer Code: Dealer12
        Stage: Negotiation
        Probability: 80
        Next Step: Finalize proposal

        Employee Details:
        Employee Name: shanti swaroop
        Employee ID: b66710eb-93c1-4c5c-90cf-6b368151f9df

        Product Details:
        Product ID: a3511400-a907-4663-bc4f-897a8cb90b3f
        Product Name: CAT 320D
        Product Brand: Caterpillar
        Product Model: 320D
        Product Image URL: http://example.com/images/cat320d.jpg

        Currency Conversions:
        USD: 120000000.0
AUD: 60000000.0
CAD: 12000000.0
JPY: 21120000.0
EUR: 144000.0
GBP: 240000000.0
CNY: 72000000.0

        Updated At: 06:55 PM, October 24, 2024
        
2024-10-24 18:55:26,297 - INFO - Opportunity email sent successfully for Opportunity ID: 617fbbe4-1e75-472e-b47f-2d89beb0f8ef
2024-10-24 18:55:26,298 - INFO - ROLLBACK
2024-10-24 18:55:26,298 - INFO - End of update_opportunity function
2024-10-24 18:55:26,299 - INFO - 127.0.0.1 - - [24/Oct/2024 18:55:26] "PUT /update_opportunity HTTP/1.1" 200 -
2024-10-24 18:55:54,961 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-24 18:55:55,162 - INFO -  * Restarting with stat
2024-10-24 18:55:56,245 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 18:55:56,268 - WARNING -  * Debugger is active!
2024-10-24 18:55:56,272 - INFO -  * Debugger PIN: 808-278-793
2024-10-24 18:55:56,407 - INFO - BEGIN (implicit)
2024-10-24 18:55:56,414 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-24 18:55:56,414 - INFO - [generated in 0.00046s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-24 18:55:56,420 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-24 18:55:56,424 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(opportunity_id_1)s 
 LIMIT %(param_1)s
2024-10-24 18:55:56,424 - INFO - [generated in 0.00030s] {'opportunity_id_1': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'param_1': 1}
2024-10-24 18:55:56,433 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:55:56,434 - INFO - [generated in 0.00083s] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:55:56,436 - INFO - Current Opportunity Details: {'opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef'), 'opportunity_name': 'New Opportunity', 'account_name': 'Acme Corp', 'close_date': '02:30 PM, October 23, 2024', 'amount': 500000.0, 'amount_in_words': 'Five Hundred Thousand', 'description': 'Description of opportunity', 'dealer_id': UUID('92190686-a328-4f16-b798-b940f5e3808f'), 'dealer_code': 'Dealer12', 'stage': 'Negotiation', 'probability': 80, 'next_step': 'Finalize proposal', 'created_date': '12:53 AM, October 24, 2024', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'employee_name': 'shanti swaroop', 'employee_num': 'EMP0012', 'currency_conversions': 'USD: 120000000.0\nAUD: 60000000.0\nCAD: 12000000.0\nJPY: 21120000.0\nEUR: 144000.0\nGBP: 240000000.0\nCNY: 72000000.0', 'product_id': 'a3511400-a907-4663-bc4f-897a8cb90b3f', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product_image_url': 'http://example.com/images/cat320d.jpg'}
2024-10-24 18:55:56,538 - INFO - UPDATE heavy_machinery_opportunities SET dealer_id=%(dealer_id)s WHERE heavy_machinery_opportunities.opportunity_id = %(heavy_machinery_opportunities_opportunity_id)s
2024-10-24 18:55:56,538 - INFO - [generated in 0.00022s] {'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'heavy_machinery_opportunities_opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:55:56,540 - INFO - COMMIT
2024-10-24 18:55:56,607 - INFO - BEGIN (implicit)
2024-10-24 18:55:56,609 - INFO - SELECT heavy_machinery_opportunities.opportunity_id AS heavy_machinery_opportunities_opportunity_id, heavy_machinery_opportunities.opportunity_name AS heavy_machinery_opportunities_opportunity_name, heavy_machinery_opportunities.account_name AS heavy_machinery_opportunities_account_name, heavy_machinery_opportunities.close_date AS heavy_machinery_opportunities_close_date, heavy_machinery_opportunities.amount AS heavy_machinery_opportunities_amount, heavy_machinery_opportunities.description AS heavy_machinery_opportunities_description, heavy_machinery_opportunities.dealer_id AS heavy_machinery_opportunities_dealer_id, heavy_machinery_opportunities.dealer_code AS heavy_machinery_opportunities_dealer_code, heavy_machinery_opportunities.stage AS heavy_machinery_opportunities_stage, heavy_machinery_opportunities.probability AS heavy_machinery_opportunities_probability, heavy_machinery_opportunities.next_step AS heavy_machinery_opportunities_next_step, heavy_machinery_opportunities.created_date AS heavy_machinery_opportunities_created_date, heavy_machinery_opportunities.employee_id AS heavy_machinery_opportunities_employee_id, heavy_machinery_opportunities.product_id AS heavy_machinery_opportunities_product_id, heavy_machinery_opportunities.product_name AS heavy_machinery_opportunities_product_name, heavy_machinery_opportunities.product_brand AS heavy_machinery_opportunities_product_brand, heavy_machinery_opportunities.product_model AS heavy_machinery_opportunities_product_model, heavy_machinery_opportunities.product_image_url AS heavy_machinery_opportunities_product_image_url, heavy_machinery_opportunities.amount_in_words AS heavy_machinery_opportunities_amount_in_words, heavy_machinery_opportunities.usd AS heavy_machinery_opportunities_usd, heavy_machinery_opportunities.aus AS heavy_machinery_opportunities_aus, heavy_machinery_opportunities.cad AS heavy_machinery_opportunities_cad, heavy_machinery_opportunities.jpy AS heavy_machinery_opportunities_jpy, heavy_machinery_opportunities.eur AS heavy_machinery_opportunities_eur, heavy_machinery_opportunities.gbp AS heavy_machinery_opportunities_gbp, heavy_machinery_opportunities.cny AS heavy_machinery_opportunities_cny 
FROM heavy_machinery_opportunities 
WHERE heavy_machinery_opportunities.opportunity_id = %(pk_1)s
2024-10-24 18:55:56,610 - INFO - [generated in 0.00063s] {'pk_1': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef')}
2024-10-24 18:55:56,613 - INFO - SELECT employee.id AS employee_id, employee.first_name AS employee_first_name, employee.last_name AS employee_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.phone AS employee_phone, employee.hire_date AS employee_hire_date, employee.position AS employee_position, employee.salary AS employee_salary, employee.department AS employee_department, employee.age AS employee_age, employee.sex AS employee_sex, employee.blood_group AS employee_blood_group, employee.height AS employee_height, employee.weight AS employee_weight, employee.address AS employee_address, employee.emergency_contact AS employee_emergency_contact, employee.nationality AS employee_nationality, employee.date_of_birth AS employee_date_of_birth, employee.marital_status AS employee_marital_status, employee.employment_status AS employee_employment_status, employee.insurance_number AS employee_insurance_number, employee.created_at AS employee_created_at 
FROM employee 
WHERE employee.id = %(pk_1)s::UUID
2024-10-24 18:55:56,613 - INFO - [cached since 0.1804s ago] {'pk_1': UUID('b66710eb-93c1-4c5c-90cf-6b368151f9df')}
2024-10-24 18:55:56,615 - INFO - Updated Opportunity Details: {'opportunity_id': UUID('617fbbe4-1e75-472e-b47f-2d89beb0f8ef'), 'opportunity_name': 'New Opportunity', 'account_name': 'Acme Corp', 'close_date': '02:30 PM, October 23, 2024', 'amount': 500000.0, 'amount_in_words': 'Five Hundred Thousand', 'description': 'Description of opportunity', 'dealer_id': UUID('92190686-a328-4f16-b798-b940f5e3808f'), 'dealer_code': 'Dealer12', 'stage': 'Negotiation', 'probability': 80, 'next_step': 'Finalize proposal', 'created_date': '12:53 AM, October 24, 2024', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'employee_name': 'shanti swaroop', 'employee_num': 'EMP0012', 'currency_conversions': 'USD: 120000000.0\nAUD: 60000000.0\nCAD: 12000000.0\nJPY: 21120000.0\nEUR: 144000.0\nGBP: 240000000.0\nCNY: 72000000.0', 'product_id': 'a3511400-a907-4663-bc4f-897a8cb90b3f', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product_image_url': 'http://example.com/images/cat320d.jpg'}
2024-10-24 18:55:56,615 - DEBUG - Preparing to send email with the following content: 
        The following opportunity has been updated:

        Opportunity ID: 617fbbe4-1e75-472e-b47f-2d89beb0f8ef
        Opportunity Name: New Opportunity
        Account Name: Acme Corp
        Close Date: 2024-10-23 14:30:00
        Amount: 500000.0 (In Words: Five Hundred Thousand)
        Description: Description of opportunity
        Dealer Code: Dealer12
        Stage: Negotiation
        Probability: 80
        Next Step: Finalize proposal

        Employee Details:
        Employee Name: shanti swaroop
        Employee ID: b66710eb-93c1-4c5c-90cf-6b368151f9df

        Product Details:
        Product ID: a3511400-a907-4663-bc4f-897a8cb90b3f
        Product Name: CAT 320D
        Product Brand: Caterpillar
        Product Model: 320D
        Product Image URL: http://example.com/images/cat320d.jpg

        Currency Conversions:
        No currency conversion details

        Updated At: 06:55 PM, October 24, 2024
        
2024-10-24 18:55:59,923 - INFO - Opportunity email sent successfully for Opportunity ID: 617fbbe4-1e75-472e-b47f-2d89beb0f8ef
2024-10-24 18:55:59,924 - INFO - ROLLBACK
2024-10-24 18:55:59,925 - INFO - End of update_opportunity function
2024-10-24 18:55:59,926 - INFO - 127.0.0.1 - - [24/Oct/2024 18:55:59] "PUT /update_opportunity HTTP/1.1" 200 -
2024-10-24 18:56:27,840 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-24 18:56:28,067 - INFO -  * Restarting with stat
2024-10-24 18:56:29,227 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 18:56:29,247 - WARNING -  * Debugger is active!
2024-10-24 18:56:29,251 - INFO -  * Debugger PIN: 808-278-793
2024-10-24 18:56:41,353 - INFO - Flask application has stopped.
2024-10-24 18:56:41,451 - INFO - Flask application has stopped.
2024-10-24 20:42:54,002 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 20:42:54,066 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-24 20:42:54,066 - INFO - [33mPress CTRL+C to quit[0m
2024-10-24 20:42:54,068 - INFO -  * Restarting with stat
2024-10-24 20:42:54,820 - INFO - Starting the Flask application <Flask 'app_opportunity'>.
2024-10-24 20:42:54,835 - WARNING -  * Debugger is active!
2024-10-24 20:42:54,843 - INFO -  * Debugger PIN: 808-278-793
2024-10-24 20:42:59,759 - INFO - Flask application has stopped.
2024-10-24 20:42:59,856 - INFO - Flask application has stopped.
2024-10-25 11:14:54,714 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 11:14:54,803 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-25 11:14:54,803 - INFO - [33mPress CTRL+C to quit[0m
2024-10-25 11:14:54,806 - INFO -  * Restarting with stat
2024-10-25 11:14:55,753 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 11:14:55,778 - WARNING -  * Debugger is active!
2024-10-25 11:14:55,783 - INFO -  * Debugger PIN: 808-278-793
2024-10-25 11:14:56,778 - INFO - Flask application has stopped.
2024-10-25 11:14:56,905 - INFO - Flask application has stopped.
2024-10-25 11:15:08,881 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-25 11:15:08,913 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-25 11:15:08,913 - INFO - [33mPress CTRL+C to quit[0m
2024-10-25 11:15:08,915 - INFO -  * Restarting with stat
2024-10-25 11:15:09,800 - INFO - Starting the Flask application <Flask 'app_otp'>.
2024-10-25 11:15:09,820 - WARNING -  * Debugger is active!
2024-10-25 11:15:09,824 - INFO -  * Debugger PIN: 808-278-793
2024-10-25 11:15:16,736 - INFO - BEGIN (implicit)
2024-10-25 11:15:16,739 - INFO - INSERT INTO otp_store (email, otp, timestamp) VALUES (%(email)s, %(otp)s, %(timestamp)s) RETURNING otp_store.id
2024-10-25 11:15:16,739 - INFO - [generated in 0.00047s] {'email': 'komalsaikiran05@gmail.com', 'otp': '980220', 'timestamp': datetime.datetime(2024, 10, 25, 11, 15, 16, 635279)}
2024-10-25 11:15:16,761 - INFO - COMMIT
2024-10-25 11:15:16,764 - INFO - Generated OTP for komalsaikiran05@gmail.com: 980220
2024-10-25 11:15:20,448 - INFO - End of generate_otp function for email=komalsaikiran05@gmail.com
2024-10-25 11:15:20,450 - INFO - 127.0.0.1 - - [25/Oct/2024 11:15:20] "POST /generate-otp HTTP/1.1" 200 -
2024-10-25 11:15:32,843 - INFO - Flask application has stopped.
2024-10-25 11:15:33,014 - INFO - Flask application has stopped.
2024-10-25 11:15:37,861 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 11:15:37,892 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-25 11:15:37,892 - INFO - [33mPress CTRL+C to quit[0m
2024-10-25 11:15:37,894 - INFO -  * Restarting with stat
2024-10-25 11:15:38,925 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 11:15:38,947 - WARNING -  * Debugger is active!
2024-10-25 11:15:38,951 - INFO -  * Debugger PIN: 808-278-793
2024-10-25 11:15:42,133 - INFO - BEGIN (implicit)
2024-10-25 11:15:42,136 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-25 11:15:42,136 - INFO - [generated in 0.00030s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-25 11:15:42,149 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-25 11:15:42,150 - INFO - Entered /add-customer endpoint. Request method: POST
2024-10-25 11:15:42,150 - INFO - Received request data: {'customer_name': 'Hemanth', 'customer_contact_info': 'hemanth@gmail.com', 'customer_address': '123 Machinery St, Industrial Zone', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_status': 'new', 'customer_comments': 'Interested in the latest model', 'customer_feedback': 'Very positive', 'customer_last_interaction': '2024-10-25T10:00:00Z', 'otp': '980220', 'email': 'komalsaikiran05@gmail.com'}
2024-10-25 11:15:42,150 - INFO - New customer created: Hemanth - Ready for database insertion
2024-10-25 11:15:42,151 - INFO - INSERT INTO heavy_machinery_customers (customer_id, customer_name, customer_contact_info, customer_address, opportunity_id, dealer_id, employee_id, customer_status, customer_comments, customer_feedback, customer_last_interaction) VALUES (%(customer_id)s::UUID, %(customer_name)s, %(customer_contact_info)s, %(customer_address)s, %(opportunity_id)s::UUID, %(dealer_id)s::UUID, %(employee_id)s::UUID, %(customer_status)s, %(customer_comments)s, %(customer_feedback)s, %(customer_last_interaction)s) RETURNING heavy_machinery_customers.customer_created_at, heavy_machinery_customers.customer_updated_at
2024-10-25 11:15:42,153 - INFO - [generated in 0.00093s] {'customer_id': UUID('fb96008c-7d2b-4aff-8c5b-687a6c8163ae'), 'customer_name': 'Hemanth', 'customer_contact_info': 'hemanth@gmail.com', 'customer_address': '123 Machinery St, Industrial Zone', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_status': 'new', 'customer_comments': 'Interested in the latest model', 'customer_feedback': 'Very positive', 'customer_last_interaction': datetime.datetime(2024, 10, 25, 5, 45, 42, 150038)}
2024-10-25 11:15:42,164 - INFO - ROLLBACK
2024-10-25 11:15:42,165 - ERROR - General Error adding customer: (psycopg2.errors.DatatypeMismatch) column "customer_id" is of type integer but expression is of type uuid
LINE 1: ...omer_feedback, customer_last_interaction) VALUES ('fb96008c-...
                                                             ^
HINT:  You will need to rewrite or cast the expression.

[SQL: INSERT INTO heavy_machinery_customers (customer_id, customer_name, customer_contact_info, customer_address, opportunity_id, dealer_id, employee_id, customer_status, customer_comments, customer_feedback, customer_last_interaction) VALUES (%(customer_id)s::UUID, %(customer_name)s, %(customer_contact_info)s, %(customer_address)s, %(opportunity_id)s::UUID, %(dealer_id)s::UUID, %(employee_id)s::UUID, %(customer_status)s, %(customer_comments)s, %(customer_feedback)s, %(customer_last_interaction)s) RETURNING heavy_machinery_customers.customer_created_at, heavy_machinery_customers.customer_updated_at]
[parameters: {'customer_id': UUID('fb96008c-7d2b-4aff-8c5b-687a6c8163ae'), 'customer_name': 'Hemanth', 'customer_contact_info': 'hemanth@gmail.com', 'customer_address': '123 Machinery St, Industrial Zone', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_status': 'new', 'customer_comments': 'Interested in the latest model', 'customer_feedback': 'Very positive', 'customer_last_interaction': datetime.datetime(2024, 10, 25, 5, 45, 42, 150038)}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2024-10-25 11:15:42,165 - INFO - Session closed for add-customer API
2024-10-25 11:15:42,166 - INFO - 127.0.0.1 - - [25/Oct/2024 11:15:42] "[35m[1mPOST /add-customer HTTP/1.1[0m" 500 -
2024-10-25 11:22:58,033 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\tables.py', reloading
2024-10-25 11:22:58,360 - INFO -  * Restarting with stat
2024-10-25 11:32:00,694 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 11:32:00,771 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-25 11:32:00,771 - INFO - [33mPress CTRL+C to quit[0m
2024-10-25 11:32:00,775 - INFO -  * Restarting with stat
2024-10-25 11:32:01,599 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 11:32:01,614 - WARNING -  * Debugger is active!
2024-10-25 11:32:01,621 - INFO -  * Debugger PIN: 808-278-793
2024-10-25 11:32:05,636 - INFO - BEGIN (implicit)
2024-10-25 11:32:05,638 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-25 11:32:05,639 - INFO - [generated in 0.00049s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-25 11:32:05,649 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-25 11:32:05,649 - INFO - Entered /add-customer endpoint. Request method: POST
2024-10-25 11:32:05,649 - INFO - Received request data: {'customer_name': 'Hemanth', 'customer_contact_info': 'hemanth@gmail.com', 'customer_address': '123 Machinery St, Industrial Zone', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_status': 'new', 'customer_comments': 'Interested in the latest model', 'customer_feedback': 'Very positive', 'customer_last_interaction': '2024-10-25T10:00:00Z', 'otp': '980220', 'email': 'komalsaikiran05@gmail.com'}
2024-10-25 11:32:05,649 - INFO - New customer created: Hemanth - Ready for database insertion
2024-10-25 11:32:05,654 - INFO - INSERT INTO heavy_machinery_customers (customer_id, customer_name, customer_contact_info, customer_address, opportunity_id, dealer_id, employee_id, customer_status, customer_comments, customer_feedback, customer_last_interaction) VALUES (%(customer_id)s::UUID, %(customer_name)s, %(customer_contact_info)s, %(customer_address)s, %(opportunity_id)s::UUID, %(dealer_id)s::UUID, %(employee_id)s::UUID, %(customer_status)s, %(customer_comments)s, %(customer_feedback)s, %(customer_last_interaction)s) RETURNING heavy_machinery_customers.customer_created_at, heavy_machinery_customers.customer_updated_at
2024-10-25 11:32:05,654 - INFO - [generated in 0.00059s] {'customer_id': UUID('36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31'), 'customer_name': 'Hemanth', 'customer_contact_info': 'hemanth@gmail.com', 'customer_address': '123 Machinery St, Industrial Zone', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_status': 'new', 'customer_comments': 'Interested in the latest model', 'customer_feedback': 'Very positive', 'customer_last_interaction': datetime.datetime(2024, 10, 25, 6, 2, 5, 649083)}
2024-10-25 11:32:05,675 - INFO - COMMIT
2024-10-25 11:32:05,748 - INFO - BEGIN (implicit)
2024-10-25 11:32:05,749 - INFO - SELECT heavy_machinery_customers.customer_id AS heavy_machinery_customers_customer_id, heavy_machinery_customers.customer_name AS heavy_machinery_customers_customer_name, heavy_machinery_customers.customer_contact_info AS heavy_machinery_customers_customer_contact_info, heavy_machinery_customers.customer_address AS heavy_machinery_customers_customer_address, heavy_machinery_customers.opportunity_id AS heavy_machinery_customers_opportunity_id, heavy_machinery_customers.dealer_id AS heavy_machinery_customers_dealer_id, heavy_machinery_customers.employee_id AS heavy_machinery_customers_employee_id, heavy_machinery_customers.customer_status AS heavy_machinery_customers_customer_status, heavy_machinery_customers.customer_comments AS heavy_machinery_customers_customer_comments, heavy_machinery_customers.customer_feedback AS heavy_machinery_customers_customer_feedback, heavy_machinery_customers.customer_created_at AS heavy_machinery_customers_customer_created_at, heavy_machinery_customers.customer_updated_at AS heavy_machinery_customers_customer_updated_at, heavy_machinery_customers.customer_last_interaction AS heavy_machinery_customers_customer_last_interaction 
FROM heavy_machinery_customers 
WHERE heavy_machinery_customers.customer_id = %(pk_1)s::UUID
2024-10-25 11:32:05,749 - INFO - [generated in 0.00032s] {'pk_1': UUID('36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31')}
2024-10-25 11:32:05,752 - INFO - Customer Hemanth added successfully to the database
2024-10-25 11:32:05,752 - INFO - Generating email body for customer: Hemanth
2024-10-25 11:32:05,752 - INFO - ROLLBACK
2024-10-25 11:32:05,753 - ERROR - AttributeError while generating email body: 'HeavyMachineryCustomer' object has no attribute 'created_at'
2024-10-25 11:32:10,348 - INFO - BEGIN (implicit)
2024-10-25 11:32:10,348 - INFO - SELECT heavy_machinery_customers.customer_id AS heavy_machinery_customers_customer_id, heavy_machinery_customers.customer_name AS heavy_machinery_customers_customer_name, heavy_machinery_customers.customer_contact_info AS heavy_machinery_customers_customer_contact_info, heavy_machinery_customers.customer_address AS heavy_machinery_customers_customer_address, heavy_machinery_customers.opportunity_id AS heavy_machinery_customers_opportunity_id, heavy_machinery_customers.dealer_id AS heavy_machinery_customers_dealer_id, heavy_machinery_customers.employee_id AS heavy_machinery_customers_employee_id, heavy_machinery_customers.customer_status AS heavy_machinery_customers_customer_status, heavy_machinery_customers.customer_comments AS heavy_machinery_customers_customer_comments, heavy_machinery_customers.customer_feedback AS heavy_machinery_customers_customer_feedback, heavy_machinery_customers.customer_created_at AS heavy_machinery_customers_customer_created_at, heavy_machinery_customers.customer_updated_at AS heavy_machinery_customers_customer_updated_at, heavy_machinery_customers.customer_last_interaction AS heavy_machinery_customers_customer_last_interaction 
FROM heavy_machinery_customers 
WHERE heavy_machinery_customers.customer_id = %(pk_1)s::UUID
2024-10-25 11:32:10,349 - INFO - [cached since 4.599s ago] {'pk_1': UUID('36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31')}
2024-10-25 11:32:10,353 - INFO - ROLLBACK
2024-10-25 11:32:10,354 - INFO - Session closed for add-customer API
2024-10-25 11:32:10,354 - INFO - 127.0.0.1 - - [25/Oct/2024 11:32:10] "[35m[1mPOST /add-customer HTTP/1.1[0m" 201 -
2024-10-25 11:34:07,589 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_customers.py', reloading
2024-10-25 11:34:07,846 - INFO -  * Restarting with stat
2024-10-25 11:37:32,716 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 11:37:32,743 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-25 11:37:32,743 - INFO - [33mPress CTRL+C to quit[0m
2024-10-25 11:37:32,744 - INFO -  * Restarting with stat
2024-10-25 11:37:33,663 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 11:37:33,683 - WARNING -  * Debugger is active!
2024-10-25 11:37:33,687 - INFO -  * Debugger PIN: 808-278-793
2024-10-25 11:37:36,936 - INFO - BEGIN (implicit)
2024-10-25 11:37:36,940 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-25 11:37:36,941 - INFO - [generated in 0.00042s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-25 11:37:36,945 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-25 11:37:36,945 - INFO - Entered /add-customer endpoint. Request method: POST
2024-10-25 11:37:36,945 - INFO - Received request data: {'customer_name': 'Hemanth', 'customer_contact_info': 'hemanth@gmail.com', 'customer_address': '123 Machinery St, Industrial Zone', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_status': 'new', 'customer_comments': 'Interested in the latest model', 'customer_feedback': 'Very positive', 'customer_last_interaction': '2024-10-25T10:00:00Z', 'otp': '980220', 'email': 'komalsaikiran05@gmail.com'}
2024-10-25 11:37:36,946 - INFO - New customer created: Hemanth - Ready for database insertion
2024-10-25 11:37:36,948 - INFO - INSERT INTO heavy_machinery_customers (customer_id, customer_name, customer_contact_info, customer_address, opportunity_id, dealer_id, employee_id, customer_status, customer_comments, customer_feedback, customer_last_interaction) VALUES (%(customer_id)s::UUID, %(customer_name)s, %(customer_contact_info)s, %(customer_address)s, %(opportunity_id)s::UUID, %(dealer_id)s::UUID, %(employee_id)s::UUID, %(customer_status)s, %(customer_comments)s, %(customer_feedback)s, %(customer_last_interaction)s) RETURNING heavy_machinery_customers.customer_created_at, heavy_machinery_customers.customer_updated_at
2024-10-25 11:37:36,949 - INFO - [generated in 0.00035s] {'customer_id': UUID('da4be685-7485-4222-b0c1-5bd1a76ea7cc'), 'customer_name': 'Hemanth', 'customer_contact_info': 'hemanth@gmail.com', 'customer_address': '123 Machinery St, Industrial Zone', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_status': 'new', 'customer_comments': 'Interested in the latest model', 'customer_feedback': 'Very positive', 'customer_last_interaction': datetime.datetime(2024, 10, 25, 6, 7, 36, 945032)}
2024-10-25 11:37:36,953 - INFO - COMMIT
2024-10-25 11:37:37,026 - INFO - BEGIN (implicit)
2024-10-25 11:37:37,028 - INFO - SELECT heavy_machinery_customers.customer_id AS heavy_machinery_customers_customer_id, heavy_machinery_customers.customer_name AS heavy_machinery_customers_customer_name, heavy_machinery_customers.customer_contact_info AS heavy_machinery_customers_customer_contact_info, heavy_machinery_customers.customer_address AS heavy_machinery_customers_customer_address, heavy_machinery_customers.opportunity_id AS heavy_machinery_customers_opportunity_id, heavy_machinery_customers.dealer_id AS heavy_machinery_customers_dealer_id, heavy_machinery_customers.employee_id AS heavy_machinery_customers_employee_id, heavy_machinery_customers.customer_status AS heavy_machinery_customers_customer_status, heavy_machinery_customers.customer_comments AS heavy_machinery_customers_customer_comments, heavy_machinery_customers.customer_feedback AS heavy_machinery_customers_customer_feedback, heavy_machinery_customers.customer_created_at AS heavy_machinery_customers_customer_created_at, heavy_machinery_customers.customer_updated_at AS heavy_machinery_customers_customer_updated_at, heavy_machinery_customers.customer_last_interaction AS heavy_machinery_customers_customer_last_interaction 
FROM heavy_machinery_customers 
WHERE heavy_machinery_customers.customer_id = %(pk_1)s::UUID
2024-10-25 11:37:37,028 - INFO - [generated in 0.00020s] {'pk_1': UUID('da4be685-7485-4222-b0c1-5bd1a76ea7cc')}
2024-10-25 11:37:37,030 - INFO - Customer Hemanth added successfully to the database
2024-10-25 11:37:37,030 - INFO - Generating email body for customer: Hemanth
2024-10-25 11:37:37,030 - INFO - Email body successfully generated for customer: Hemanth
2024-10-25 11:37:40,512 - INFO - ROLLBACK
2024-10-25 11:37:40,513 - INFO - Session closed for add-customer API
2024-10-25 11:37:40,515 - INFO - 127.0.0.1 - - [25/Oct/2024 11:37:40] "[35m[1mPOST /add-customer HTTP/1.1[0m" 201 -
2024-10-25 11:47:11,109 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-25 11:47:11,447 - INFO -  * Restarting with stat
2024-10-25 11:47:13,631 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 11:47:13,690 - WARNING -  * Debugger is active!
2024-10-25 11:47:13,697 - INFO -  * Debugger PIN: 808-278-793
2024-10-25 11:47:13,845 - INFO - BEGIN (implicit)
2024-10-25 11:47:13,848 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-25 11:47:13,848 - INFO - [generated in 0.00021s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-25 11:47:13,855 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-25 11:47:13,855 - INFO - Entered /add-customer endpoint. Request method: POST
2024-10-25 11:47:13,855 - INFO - Received request data: {'customer_name': 'Hemanth', 'customer_contact_info': 'hemanth@gmail.com', 'customer_address': '123 Machinery St, Industrial Zone', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_status': 'new', 'customer_comments': 'Interested in the latest model', 'customer_feedback': 'Very positive', 'customer_last_interaction': '2024-10-25T10:00:00Z', 'otp': '980220', 'email': 'komalsaikiran05@gmail.com'}
2024-10-25 11:47:13,856 - INFO - New customer created: Hemanth - Ready for database insertion
2024-10-25 11:47:13,859 - INFO - INSERT INTO heavy_machinery_customers (customer_id, customer_name, customer_contact_info, customer_address, opportunity_id, dealer_id, employee_id, customer_status, customer_comments, customer_feedback, customer_last_interaction) VALUES (%(customer_id)s::UUID, %(customer_name)s, %(customer_contact_info)s, %(customer_address)s, %(opportunity_id)s::UUID, %(dealer_id)s::UUID, %(employee_id)s::UUID, %(customer_status)s, %(customer_comments)s, %(customer_feedback)s, %(customer_last_interaction)s) RETURNING heavy_machinery_customers.customer_created_at, heavy_machinery_customers.customer_updated_at
2024-10-25 11:47:13,859 - INFO - [generated in 0.00035s] {'customer_id': UUID('6a2eb1d7-f637-4902-8bed-3bb3708b5995'), 'customer_name': 'Hemanth', 'customer_contact_info': 'hemanth@gmail.com', 'customer_address': '123 Machinery St, Industrial Zone', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_status': 'new', 'customer_comments': 'Interested in the latest model', 'customer_feedback': 'Very positive', 'customer_last_interaction': datetime.datetime(2024, 10, 25, 6, 17, 13, 855589)}
2024-10-25 11:47:13,877 - INFO - COMMIT
2024-10-25 11:47:13,952 - INFO - BEGIN (implicit)
2024-10-25 11:47:13,954 - INFO - SELECT heavy_machinery_customers.customer_id AS heavy_machinery_customers_customer_id, heavy_machinery_customers.customer_name AS heavy_machinery_customers_customer_name, heavy_machinery_customers.customer_contact_info AS heavy_machinery_customers_customer_contact_info, heavy_machinery_customers.customer_address AS heavy_machinery_customers_customer_address, heavy_machinery_customers.opportunity_id AS heavy_machinery_customers_opportunity_id, heavy_machinery_customers.dealer_id AS heavy_machinery_customers_dealer_id, heavy_machinery_customers.employee_id AS heavy_machinery_customers_employee_id, heavy_machinery_customers.customer_status AS heavy_machinery_customers_customer_status, heavy_machinery_customers.customer_comments AS heavy_machinery_customers_customer_comments, heavy_machinery_customers.customer_feedback AS heavy_machinery_customers_customer_feedback, heavy_machinery_customers.customer_created_at AS heavy_machinery_customers_customer_created_at, heavy_machinery_customers.customer_updated_at AS heavy_machinery_customers_customer_updated_at, heavy_machinery_customers.customer_last_interaction AS heavy_machinery_customers_customer_last_interaction 
FROM heavy_machinery_customers 
WHERE heavy_machinery_customers.customer_id = %(pk_1)s::UUID
2024-10-25 11:47:13,954 - INFO - [generated in 0.00019s] {'pk_1': UUID('6a2eb1d7-f637-4902-8bed-3bb3708b5995')}
2024-10-25 11:47:13,956 - INFO - Customer Hemanth added successfully to the database
2024-10-25 11:47:13,956 - INFO - ROLLBACK
2024-10-25 11:47:13,957 - ERROR - General Error adding customer: generate_customer_email_body() missing 1 required positional argument: 'product'
2024-10-25 11:47:13,957 - INFO - Session closed for add-customer API
2024-10-25 11:47:13,958 - INFO - 127.0.0.1 - - [25/Oct/2024 11:47:13] "[35m[1mPOST /add-customer HTTP/1.1[0m" 500 -
2024-10-25 11:54:56,630 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\tables.py', reloading
2024-10-25 11:54:56,776 - INFO -  * Restarting with stat
2024-10-25 11:54:57,906 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 11:54:57,922 - WARNING -  * Debugger is active!
2024-10-25 11:54:57,927 - INFO -  * Debugger PIN: 808-278-793
2024-10-25 11:55:47,316 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_customers.py', reloading
2024-10-25 11:55:47,515 - INFO -  * Restarting with stat
2024-10-25 11:55:48,684 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 11:55:48,705 - WARNING -  * Debugger is active!
2024-10-25 11:55:48,708 - INFO -  * Debugger PIN: 808-278-793
2024-10-25 11:58:44,369 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\User_models\\tables.py', reloading
2024-10-25 11:58:44,623 - INFO -  * Restarting with stat
2024-10-25 11:58:46,537 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 11:58:46,563 - WARNING -  * Debugger is active!
2024-10-25 11:58:46,568 - INFO -  * Debugger PIN: 808-278-793
2024-10-25 12:05:48,570 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-25 12:05:48,772 - INFO -  * Restarting with stat
2024-10-25 12:05:49,989 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 12:05:50,022 - WARNING -  * Debugger is active!
2024-10-25 12:05:50,027 - INFO -  * Debugger PIN: 808-278-793
2024-10-25 12:07:03,059 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_customers.py', reloading
2024-10-25 12:07:03,357 - INFO -  * Restarting with stat
2024-10-25 12:07:04,868 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 12:07:04,892 - WARNING -  * Debugger is active!
2024-10-25 12:07:04,896 - INFO -  * Debugger PIN: 808-278-793
2024-10-25 12:07:05,041 - INFO - BEGIN (implicit)
2024-10-25 12:07:05,047 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-25 12:07:05,048 - INFO - [generated in 0.00040s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-25 12:07:05,057 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-25 12:07:05,057 - INFO - Entered /add-customer endpoint. Request method: POST
2024-10-25 12:07:05,057 - INFO - Received request data: {'customer_name': 'Hemanth', 'customer_contact_info': 'hemanth@gmail.com', 'customer_address': '123 Machinery St, Industrial Zone', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_status': 'new', 'customer_comments': 'Interested in the latest model', 'customer_feedback': 'Very positive', 'customer_last_interaction': '2024-10-25T10:00:00Z', 'otp': '980220', 'email': 'komalsaikiran05@gmail.com'}
2024-10-25 12:07:05,058 - INFO - New customer created: Hemanth - Ready for database insertion
2024-10-25 12:07:05,064 - INFO - INSERT INTO heavy_machinery_customers (customer_id, customer_name, customer_contact_info, customer_address, opportunity_id, dealer_id, employee_id, customer_status, customer_comments, customer_feedback, customer_last_interaction, product_id, product_name, product_model, product_brand) VALUES (%(customer_id)s::UUID, %(customer_name)s, %(customer_contact_info)s, %(customer_address)s, %(opportunity_id)s::UUID, %(dealer_id)s::UUID, %(employee_id)s::UUID, %(customer_status)s, %(customer_comments)s, %(customer_feedback)s, %(customer_last_interaction)s, %(product_id)s::UUID, %(product_name)s, %(product_model)s, %(product_brand)s) RETURNING heavy_machinery_customers.customer_created_at, heavy_machinery_customers.customer_updated_at
2024-10-25 12:07:05,065 - INFO - [generated in 0.00073s] {'customer_id': UUID('c07e7d44-1307-4cc8-8a3f-905b47e69a96'), 'customer_name': 'Hemanth', 'customer_contact_info': 'hemanth@gmail.com', 'customer_address': '123 Machinery St, Industrial Zone', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_status': 'new', 'customer_comments': 'Interested in the latest model', 'customer_feedback': 'Very positive', 'customer_last_interaction': datetime.datetime(2024, 10, 25, 6, 37, 5, 58689), 'product_id': None, 'product_name': None, 'product_model': None, 'product_brand': None}
2024-10-25 12:07:05,082 - INFO - COMMIT
2024-10-25 12:07:05,154 - INFO - BEGIN (implicit)
2024-10-25 12:07:05,156 - INFO - SELECT heavy_machinery_customers.customer_id AS heavy_machinery_customers_customer_id, heavy_machinery_customers.customer_name AS heavy_machinery_customers_customer_name, heavy_machinery_customers.customer_contact_info AS heavy_machinery_customers_customer_contact_info, heavy_machinery_customers.customer_address AS heavy_machinery_customers_customer_address, heavy_machinery_customers.opportunity_id AS heavy_machinery_customers_opportunity_id, heavy_machinery_customers.dealer_id AS heavy_machinery_customers_dealer_id, heavy_machinery_customers.employee_id AS heavy_machinery_customers_employee_id, heavy_machinery_customers.customer_status AS heavy_machinery_customers_customer_status, heavy_machinery_customers.customer_comments AS heavy_machinery_customers_customer_comments, heavy_machinery_customers.customer_feedback AS heavy_machinery_customers_customer_feedback, heavy_machinery_customers.customer_created_at AS heavy_machinery_customers_customer_created_at, heavy_machinery_customers.customer_updated_at AS heavy_machinery_customers_customer_updated_at, heavy_machinery_customers.customer_last_interaction AS heavy_machinery_customers_customer_last_interaction, heavy_machinery_customers.product_id AS heavy_machinery_customers_product_id, heavy_machinery_customers.product_name AS heavy_machinery_customers_product_name, heavy_machinery_customers.product_model AS heavy_machinery_customers_product_model, heavy_machinery_customers.product_brand AS heavy_machinery_customers_product_brand 
FROM heavy_machinery_customers 
WHERE heavy_machinery_customers.customer_id = %(pk_1)s::UUID
2024-10-25 12:07:05,156 - INFO - [generated in 0.00020s] {'pk_1': UUID('c07e7d44-1307-4cc8-8a3f-905b47e69a96')}
2024-10-25 12:07:05,158 - INFO - Customer Hemanth added successfully to the database
2024-10-25 12:07:05,158 - INFO - Generating email body for customer: Hemanth
2024-10-25 12:07:05,158 - INFO - Email body successfully generated for customer: Hemanth
2024-10-25 12:07:09,050 - INFO - ROLLBACK
2024-10-25 12:07:09,051 - INFO - Session closed for add-customer API
2024-10-25 12:07:09,055 - INFO - 127.0.0.1 - - [25/Oct/2024 12:07:09] "[35m[1mPOST /add-customer HTTP/1.1[0m" 201 -
2024-10-25 12:10:54,508 - INFO - BEGIN (implicit)
2024-10-25 12:10:54,509 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-25 12:10:54,509 - INFO - [cached since 229.5s ago] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-25 12:10:54,513 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-25 12:10:54,514 - INFO - Entered /add-customer endpoint. Request method: POST
2024-10-25 12:10:54,514 - INFO - Received request data: {'customer_name': 'Hemanth', 'customer_contact_info': 'hemanth@gmail.com', 'customer_address': '123 Machinery St, Industrial Zone', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_status': 'new', 'customer_comments': 'Interested in the latest model', 'customer_feedback': 'Very positive', 'customer_last_interaction': '2024-10-25T10:00:00Z', 'product_brand': 'Caterpillar', 'product_id': '72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a', 'product_model': '320D', 'product_name': 'CAT 320D', 'otp': '980220', 'email': 'komalsaikiran05@gmail.com'}
2024-10-25 12:10:54,514 - INFO - New customer created: Hemanth - Ready for database insertion
2024-10-25 12:10:54,515 - INFO - INSERT INTO heavy_machinery_customers (customer_id, customer_name, customer_contact_info, customer_address, opportunity_id, dealer_id, employee_id, customer_status, customer_comments, customer_feedback, customer_last_interaction, product_id, product_name, product_model, product_brand) VALUES (%(customer_id)s::UUID, %(customer_name)s, %(customer_contact_info)s, %(customer_address)s, %(opportunity_id)s::UUID, %(dealer_id)s::UUID, %(employee_id)s::UUID, %(customer_status)s, %(customer_comments)s, %(customer_feedback)s, %(customer_last_interaction)s, %(product_id)s::UUID, %(product_name)s, %(product_model)s, %(product_brand)s) RETURNING heavy_machinery_customers.customer_created_at, heavy_machinery_customers.customer_updated_at
2024-10-25 12:10:54,515 - INFO - [cached since 229.4s ago] {'customer_id': UUID('512aa34f-7bef-4531-974b-31f6a0d8bb83'), 'customer_name': 'Hemanth', 'customer_contact_info': 'hemanth@gmail.com', 'customer_address': '123 Machinery St, Industrial Zone', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_status': 'new', 'customer_comments': 'Interested in the latest model', 'customer_feedback': 'Very positive', 'customer_last_interaction': datetime.datetime(2024, 10, 25, 6, 40, 54, 514320), 'product_id': '72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a', 'product_name': 'CAT 320D', 'product_model': '320D', 'product_brand': 'Caterpillar'}
2024-10-25 12:10:54,522 - INFO - COMMIT
2024-10-25 12:10:54,602 - INFO - BEGIN (implicit)
2024-10-25 12:10:54,602 - INFO - SELECT heavy_machinery_customers.customer_id AS heavy_machinery_customers_customer_id, heavy_machinery_customers.customer_name AS heavy_machinery_customers_customer_name, heavy_machinery_customers.customer_contact_info AS heavy_machinery_customers_customer_contact_info, heavy_machinery_customers.customer_address AS heavy_machinery_customers_customer_address, heavy_machinery_customers.opportunity_id AS heavy_machinery_customers_opportunity_id, heavy_machinery_customers.dealer_id AS heavy_machinery_customers_dealer_id, heavy_machinery_customers.employee_id AS heavy_machinery_customers_employee_id, heavy_machinery_customers.customer_status AS heavy_machinery_customers_customer_status, heavy_machinery_customers.customer_comments AS heavy_machinery_customers_customer_comments, heavy_machinery_customers.customer_feedback AS heavy_machinery_customers_customer_feedback, heavy_machinery_customers.customer_created_at AS heavy_machinery_customers_customer_created_at, heavy_machinery_customers.customer_updated_at AS heavy_machinery_customers_customer_updated_at, heavy_machinery_customers.customer_last_interaction AS heavy_machinery_customers_customer_last_interaction, heavy_machinery_customers.product_id AS heavy_machinery_customers_product_id, heavy_machinery_customers.product_name AS heavy_machinery_customers_product_name, heavy_machinery_customers.product_model AS heavy_machinery_customers_product_model, heavy_machinery_customers.product_brand AS heavy_machinery_customers_product_brand 
FROM heavy_machinery_customers 
WHERE heavy_machinery_customers.customer_id = %(pk_1)s::UUID
2024-10-25 12:10:54,603 - INFO - [cached since 229.4s ago] {'pk_1': UUID('512aa34f-7bef-4531-974b-31f6a0d8bb83')}
2024-10-25 12:10:54,606 - INFO - Customer Hemanth added successfully to the database
2024-10-25 12:10:54,606 - INFO - Generating email body for customer: Hemanth
2024-10-25 12:10:54,607 - INFO - Email body successfully generated for customer: Hemanth
2024-10-25 12:10:58,218 - INFO - SELECT heavy_products.heavy_product_id AS heavy_products_heavy_product_id, heavy_products.heavy_product_name AS heavy_products_heavy_product_name, heavy_products.heavy_product_type AS heavy_products_heavy_product_type, heavy_products.heavy_product_brand AS heavy_products_heavy_product_brand, heavy_products.heavy_product_model AS heavy_products_heavy_product_model, heavy_products.heavy_product_year_of_manufacture AS heavy_products_heavy_product_year_of_manufacture, heavy_products.heavy_product_price AS heavy_products_heavy_product_price, heavy_products.heavy_product_weight AS heavy_products_heavy_product_weight, heavy_products.heavy_product_dimensions AS heavy_products_heavy_product_dimensions, heavy_products.heavy_product_engine_type AS heavy_products_heavy_product_engine_type, heavy_products.heavy_product_horsepower AS heavy_products_heavy_product_horsepower, heavy_products.heavy_product_fuel_capacity AS heavy_products_heavy_product_fuel_capacity, heavy_products.heavy_product_operational_hours AS heavy_products_heavy_product_operational_hours, heavy_products.heavy_product_warranty_period AS heavy_products_heavy_product_warranty_period, heavy_products.heavy_product_status AS heavy_products_heavy_product_status, heavy_products.heavy_product_description AS heavy_products_heavy_product_description, heavy_products.heavy_product_image_url AS heavy_products_heavy_product_image_url, heavy_products.heavy_product_created_at AS heavy_products_heavy_product_created_at, heavy_products.heavy_product_updated_at AS heavy_products_heavy_product_updated_at, heavy_products.employee_id AS heavy_products_employee_id, heavy_products.employee_name AS heavy_products_employee_name, heavy_products.employee_num AS heavy_products_employee_num 
FROM heavy_products 
WHERE heavy_products.heavy_product_id = %(pk_1)s::UUID
2024-10-25 12:10:58,221 - INFO - [generated in 0.00097s] {'pk_1': UUID('72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a')}
2024-10-25 12:10:58,245 - INFO - SELECT employee.emp_id AS employee_emp_id, employee.emp_first_name AS employee_emp_first_name, employee.emp_last_name AS employee_emp_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.emp_phone AS employee_emp_phone, employee.emp_hire_date AS employee_emp_hire_date, employee.emp_position AS employee_emp_position, employee.emp_salary AS employee_emp_salary, employee.emp_department AS employee_emp_department, employee.emp_age AS employee_emp_age, employee.emp_sex AS employee_emp_sex, employee.emp_blood_group AS employee_emp_blood_group, employee.emp_height AS employee_emp_height, employee.emp_weight AS employee_emp_weight, employee.emp_address AS employee_emp_address, employee.emp_emergency_contact AS employee_emp_emergency_contact, employee.emp_nationality AS employee_emp_nationality, employee.emp_date_of_birth AS employee_emp_date_of_birth, employee.emp_marital_status AS employee_emp_marital_status, employee.emp_employment_status AS employee_emp_employment_status, employee.emp_insurance_number AS employee_emp_insurance_number, employee.emp_created_at AS employee_emp_created_at 
FROM employee 
WHERE employee.emp_id = %(pk_1)s::UUID
2024-10-25 12:10:58,246 - INFO - [generated in 0.00096s] {'pk_1': UUID('06e4347e-4dfc-490a-a066-686942241770')}
2024-10-25 12:10:58,257 - INFO - ROLLBACK
2024-10-25 12:10:58,259 - INFO - Session closed for add-customer API
2024-10-25 12:10:58,260 - INFO - 127.0.0.1 - - [25/Oct/2024 12:10:58] "[35m[1mPOST /add-customer HTTP/1.1[0m" 201 -
2024-10-25 12:16:27,617 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-25 12:16:27,830 - INFO -  * Restarting with stat
2024-10-25 12:16:29,495 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 12:16:29,558 - WARNING -  * Debugger is active!
2024-10-25 12:16:29,566 - INFO -  * Debugger PIN: 808-278-793
2024-10-25 12:17:56,592 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_customers.py', reloading
2024-10-25 12:17:56,764 - INFO -  * Restarting with stat
2024-10-25 12:17:57,871 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 12:17:57,889 - WARNING -  * Debugger is active!
2024-10-25 12:17:57,892 - INFO -  * Debugger PIN: 808-278-793
2024-10-25 12:23:08,173 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_customers.py', reloading
2024-10-25 12:23:08,385 - INFO -  * Restarting with stat
2024-10-25 12:23:09,452 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 12:23:09,468 - WARNING -  * Debugger is active!
2024-10-25 12:23:09,471 - INFO -  * Debugger PIN: 808-278-793
2024-10-25 12:23:23,820 - INFO - 127.0.0.1 - - [25/Oct/2024 12:23:23] "[33mGET /get-customer HTTP/1.1[0m" 404 -
2024-10-25 12:23:51,553 - INFO - Entered /get-customers endpoint. Request method: GET
2024-10-25 12:23:51,553 - INFO - Received parameters - customer_id: , customer_name: , customer_contact_info: , customer_address: 
2024-10-25 12:23:51,581 - INFO - Executing the query to fetch customers...
2024-10-25 12:23:51,670 - INFO - BEGIN (implicit)
2024-10-25 12:23:51,676 - INFO - SELECT heavy_machinery_customers.customer_id AS heavy_machinery_customers_customer_id, heavy_machinery_customers.customer_name AS heavy_machinery_customers_customer_name, heavy_machinery_customers.customer_contact_info AS heavy_machinery_customers_customer_contact_info, heavy_machinery_customers.customer_address AS heavy_machinery_customers_customer_address, heavy_machinery_customers.opportunity_id AS heavy_machinery_customers_opportunity_id, heavy_machinery_customers.dealer_id AS heavy_machinery_customers_dealer_id, heavy_machinery_customers.employee_id AS heavy_machinery_customers_employee_id, heavy_machinery_customers.customer_status AS heavy_machinery_customers_customer_status, heavy_machinery_customers.customer_comments AS heavy_machinery_customers_customer_comments, heavy_machinery_customers.customer_feedback AS heavy_machinery_customers_customer_feedback, heavy_machinery_customers.customer_created_at AS heavy_machinery_customers_customer_created_at, heavy_machinery_customers.customer_updated_at AS heavy_machinery_customers_customer_updated_at, heavy_machinery_customers.customer_last_interaction AS heavy_machinery_customers_customer_last_interaction, heavy_machinery_customers.product_id AS heavy_machinery_customers_product_id, heavy_machinery_customers.product_name AS heavy_machinery_customers_product_name, heavy_machinery_customers.product_model AS heavy_machinery_customers_product_model, heavy_machinery_customers.product_brand AS heavy_machinery_customers_product_brand 
FROM heavy_machinery_customers
2024-10-25 12:23:51,676 - INFO - [generated in 0.00043s] {}
2024-10-25 12:23:51,683 - INFO - Fetched 5 customers based on filters
2024-10-25 12:23:51,690 - INFO - SELECT heavy_products.heavy_product_id AS heavy_products_heavy_product_id, heavy_products.heavy_product_name AS heavy_products_heavy_product_name, heavy_products.heavy_product_type AS heavy_products_heavy_product_type, heavy_products.heavy_product_brand AS heavy_products_heavy_product_brand, heavy_products.heavy_product_model AS heavy_products_heavy_product_model, heavy_products.heavy_product_year_of_manufacture AS heavy_products_heavy_product_year_of_manufacture, heavy_products.heavy_product_price AS heavy_products_heavy_product_price, heavy_products.heavy_product_weight AS heavy_products_heavy_product_weight, heavy_products.heavy_product_dimensions AS heavy_products_heavy_product_dimensions, heavy_products.heavy_product_engine_type AS heavy_products_heavy_product_engine_type, heavy_products.heavy_product_horsepower AS heavy_products_heavy_product_horsepower, heavy_products.heavy_product_fuel_capacity AS heavy_products_heavy_product_fuel_capacity, heavy_products.heavy_product_operational_hours AS heavy_products_heavy_product_operational_hours, heavy_products.heavy_product_warranty_period AS heavy_products_heavy_product_warranty_period, heavy_products.heavy_product_status AS heavy_products_heavy_product_status, heavy_products.heavy_product_description AS heavy_products_heavy_product_description, heavy_products.heavy_product_image_url AS heavy_products_heavy_product_image_url, heavy_products.heavy_product_created_at AS heavy_products_heavy_product_created_at, heavy_products.heavy_product_updated_at AS heavy_products_heavy_product_updated_at, heavy_products.employee_id AS heavy_products_employee_id, heavy_products.employee_name AS heavy_products_employee_name, heavy_products.employee_num AS heavy_products_employee_num 
FROM heavy_products 
WHERE heavy_products.heavy_product_id = %(pk_1)s::UUID
2024-10-25 12:23:51,691 - INFO - [generated in 0.00058s] {'pk_1': UUID('72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a')}
2024-10-25 12:23:51,704 - INFO - SELECT employee.emp_id AS employee_emp_id, employee.emp_first_name AS employee_emp_first_name, employee.emp_last_name AS employee_emp_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.emp_phone AS employee_emp_phone, employee.emp_hire_date AS employee_emp_hire_date, employee.emp_position AS employee_emp_position, employee.emp_salary AS employee_emp_salary, employee.emp_department AS employee_emp_department, employee.emp_age AS employee_emp_age, employee.emp_sex AS employee_emp_sex, employee.emp_blood_group AS employee_emp_blood_group, employee.emp_height AS employee_emp_height, employee.emp_weight AS employee_emp_weight, employee.emp_address AS employee_emp_address, employee.emp_emergency_contact AS employee_emp_emergency_contact, employee.emp_nationality AS employee_emp_nationality, employee.emp_date_of_birth AS employee_emp_date_of_birth, employee.emp_marital_status AS employee_emp_marital_status, employee.emp_employment_status AS employee_emp_employment_status, employee.emp_insurance_number AS employee_emp_insurance_number, employee.emp_created_at AS employee_emp_created_at 
FROM employee 
WHERE employee.emp_id = %(pk_1)s::UUID
2024-10-25 12:23:51,704 - INFO - [generated in 0.00057s] {'pk_1': UUID('06e4347e-4dfc-490a-a066-686942241770')}
2024-10-25 12:23:51,708 - INFO - Prepared customer list for response: [{'customer_id': '36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31', 'customer_name': 'Hemanth', 'customer_contact_info': 'hemanth@gmail.com', 'customer_address': '123 Machinery St, Industrial Zone', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_status': 'new', 'customer_comments': 'Interested in the latest model', 'customer_feedback': 'Very positive', 'customer_last_interaction': '2024-10-25T06:02:05.649083', 'product_id': None, 'product_name': None, 'product_brand': None, 'product_model': None, 'product': None}, {'customer_id': 'da4be685-7485-4222-b0c1-5bd1a76ea7cc', 'customer_name': 'Hemanth', 'customer_contact_info': 'hemanth@gmail.com', 'customer_address': '123 Machinery St, Industrial Zone', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_status': 'new', 'customer_comments': 'Interested in the latest model', 'customer_feedback': 'Very positive', 'customer_last_interaction': '2024-10-25T06:07:36.945032', 'product_id': None, 'product_name': None, 'product_brand': None, 'product_model': None, 'product': None}, {'customer_id': '6a2eb1d7-f637-4902-8bed-3bb3708b5995', 'customer_name': 'Hemanth', 'customer_contact_info': 'hemanth@gmail.com', 'customer_address': '123 Machinery St, Industrial Zone', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_status': 'new', 'customer_comments': 'Interested in the latest model', 'customer_feedback': 'Very positive', 'customer_last_interaction': '2024-10-25T06:17:13.855589', 'product_id': None, 'product_name': None, 'product_brand': None, 'product_model': None, 'product': None}, {'customer_id': 'c07e7d44-1307-4cc8-8a3f-905b47e69a96', 'customer_name': 'Hemanth', 'customer_contact_info': 'hemanth@gmail.com', 'customer_address': '123 Machinery St, Industrial Zone', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_status': 'new', 'customer_comments': 'Interested in the latest model', 'customer_feedback': 'Very positive', 'customer_last_interaction': '2024-10-25T06:37:05.058689', 'product_id': None, 'product_name': None, 'product_brand': None, 'product_model': None, 'product': None}, {'customer_id': '512aa34f-7bef-4531-974b-31f6a0d8bb83', 'customer_name': 'Hemanth', 'customer_contact_info': 'hemanth@gmail.com', 'customer_address': '123 Machinery St, Industrial Zone', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_status': 'new', 'customer_comments': 'Interested in the latest model', 'customer_feedback': 'Very positive', 'customer_last_interaction': '2024-10-25T06:40:54.514320', 'product_id': '72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product': {'heavy_product_id': '72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a', 'heavy_product_name': 'CAT 320D', 'heavy_product_type': 'Excavator', 'heavy_product_brand': 'Caterpillar', 'heavy_product_model': '320D', 'heavy_product_year_of_manufacture': 2019, 'heavy_product_price': '850000.00', 'heavy_product_weight': '24000.00', 'heavy_product_dimensions': '9.6m x 2.9m x 3.5m', 'heavy_product_engine_type': 'Diesel', 'heavy_product_horsepower': '190.00', 'heavy_product_fuel_capacity': '350.00', 'heavy_product_operational_hours': 2500, 'heavy_product_warranty_period': 240, 'heavy_product_status': 'Unavailable', 'heavy_product_description': 'A reliable excavator for heavy-duty tasks.', 'heavy_product_image_url': 'http://example.com/images/cat_320d.jpg', 'heavy_product_created_at': '2024-10-23T00:52:40.560748', 'heavy_product_updated_at': '2024-10-23T12:38:18.853072', 'employee_id': '06e4347e-4dfc-490a-a066-686942241770', 'employee_name': 'kiran kumar', 'employee_num': 'EMP00123'}}]
2024-10-25 12:23:51,708 - INFO - Preparing to send notification email with fetched customer details...
2024-10-25 12:23:56,248 - INFO - Notification email sent successfully.
2024-10-25 12:23:56,249 - INFO - ROLLBACK
2024-10-25 12:23:56,250 - INFO - Session closed for get-customers API
2024-10-25 12:23:56,251 - INFO - 127.0.0.1 - - [25/Oct/2024 12:23:56] "GET /get-customers HTTP/1.1" 200 -
2024-10-25 12:24:57,234 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_customers.py', reloading
2024-10-25 12:24:57,450 - INFO -  * Restarting with stat
2024-10-25 12:24:58,424 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 12:24:58,441 - WARNING -  * Debugger is active!
2024-10-25 12:24:58,444 - INFO -  * Debugger PIN: 808-278-793
2024-10-25 12:27:35,051 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-25 12:27:35,204 - INFO -  * Restarting with stat
2024-10-25 12:27:36,473 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 12:27:36,508 - WARNING -  * Debugger is active!
2024-10-25 12:27:36,512 - INFO -  * Debugger PIN: 808-278-793
2024-10-25 12:27:36,558 - INFO - 127.0.0.1 - - [25/Oct/2024 12:27:36] "[31m[1mGET /get-customers HTTP/1.1[0m" 415 -
2024-10-25 12:27:49,046 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_customers.py', reloading
2024-10-25 12:27:49,243 - INFO -  * Restarting with stat
2024-10-25 12:27:50,083 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 12:27:50,103 - WARNING -  * Debugger is active!
2024-10-25 12:27:50,107 - INFO -  * Debugger PIN: 808-278-793
2024-10-25 12:27:51,208 - INFO - Entered /get-customers endpoint. Request method: GET
2024-10-25 12:27:51,209 - INFO - Received parameters - customer_id: , customer_name: , customer_contact_info: , customer_address: 
2024-10-25 12:27:51,237 - INFO - Executing the query to fetch customers...
2024-10-25 12:27:51,289 - INFO - BEGIN (implicit)
2024-10-25 12:27:51,291 - INFO - SELECT heavy_machinery_customers.customer_id AS heavy_machinery_customers_customer_id, heavy_machinery_customers.customer_name AS heavy_machinery_customers_customer_name, heavy_machinery_customers.customer_contact_info AS heavy_machinery_customers_customer_contact_info, heavy_machinery_customers.customer_address AS heavy_machinery_customers_customer_address, heavy_machinery_customers.opportunity_id AS heavy_machinery_customers_opportunity_id, heavy_machinery_customers.dealer_id AS heavy_machinery_customers_dealer_id, heavy_machinery_customers.employee_id AS heavy_machinery_customers_employee_id, heavy_machinery_customers.customer_status AS heavy_machinery_customers_customer_status, heavy_machinery_customers.customer_comments AS heavy_machinery_customers_customer_comments, heavy_machinery_customers.customer_feedback AS heavy_machinery_customers_customer_feedback, heavy_machinery_customers.customer_created_at AS heavy_machinery_customers_customer_created_at, heavy_machinery_customers.customer_updated_at AS heavy_machinery_customers_customer_updated_at, heavy_machinery_customers.customer_last_interaction AS heavy_machinery_customers_customer_last_interaction, heavy_machinery_customers.product_id AS heavy_machinery_customers_product_id, heavy_machinery_customers.product_name AS heavy_machinery_customers_product_name, heavy_machinery_customers.product_model AS heavy_machinery_customers_product_model, heavy_machinery_customers.product_brand AS heavy_machinery_customers_product_brand 
FROM heavy_machinery_customers
2024-10-25 12:27:51,292 - INFO - [generated in 0.00022s] {}
2024-10-25 12:27:51,296 - INFO - Fetched 5 customers based on filters
2024-10-25 12:27:51,301 - INFO - SELECT heavy_products.heavy_product_id AS heavy_products_heavy_product_id, heavy_products.heavy_product_name AS heavy_products_heavy_product_name, heavy_products.heavy_product_type AS heavy_products_heavy_product_type, heavy_products.heavy_product_brand AS heavy_products_heavy_product_brand, heavy_products.heavy_product_model AS heavy_products_heavy_product_model, heavy_products.heavy_product_year_of_manufacture AS heavy_products_heavy_product_year_of_manufacture, heavy_products.heavy_product_price AS heavy_products_heavy_product_price, heavy_products.heavy_product_weight AS heavy_products_heavy_product_weight, heavy_products.heavy_product_dimensions AS heavy_products_heavy_product_dimensions, heavy_products.heavy_product_engine_type AS heavy_products_heavy_product_engine_type, heavy_products.heavy_product_horsepower AS heavy_products_heavy_product_horsepower, heavy_products.heavy_product_fuel_capacity AS heavy_products_heavy_product_fuel_capacity, heavy_products.heavy_product_operational_hours AS heavy_products_heavy_product_operational_hours, heavy_products.heavy_product_warranty_period AS heavy_products_heavy_product_warranty_period, heavy_products.heavy_product_status AS heavy_products_heavy_product_status, heavy_products.heavy_product_description AS heavy_products_heavy_product_description, heavy_products.heavy_product_image_url AS heavy_products_heavy_product_image_url, heavy_products.heavy_product_created_at AS heavy_products_heavy_product_created_at, heavy_products.heavy_product_updated_at AS heavy_products_heavy_product_updated_at, heavy_products.employee_id AS heavy_products_employee_id, heavy_products.employee_name AS heavy_products_employee_name, heavy_products.employee_num AS heavy_products_employee_num 
FROM heavy_products 
WHERE heavy_products.heavy_product_id = %(pk_1)s::UUID
2024-10-25 12:27:51,301 - INFO - [generated in 0.00029s] {'pk_1': UUID('72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a')}
2024-10-25 12:27:51,309 - INFO - SELECT employee.emp_id AS employee_emp_id, employee.emp_first_name AS employee_emp_first_name, employee.emp_last_name AS employee_emp_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.emp_phone AS employee_emp_phone, employee.emp_hire_date AS employee_emp_hire_date, employee.emp_position AS employee_emp_position, employee.emp_salary AS employee_emp_salary, employee.emp_department AS employee_emp_department, employee.emp_age AS employee_emp_age, employee.emp_sex AS employee_emp_sex, employee.emp_blood_group AS employee_emp_blood_group, employee.emp_height AS employee_emp_height, employee.emp_weight AS employee_emp_weight, employee.emp_address AS employee_emp_address, employee.emp_emergency_contact AS employee_emp_emergency_contact, employee.emp_nationality AS employee_emp_nationality, employee.emp_date_of_birth AS employee_emp_date_of_birth, employee.emp_marital_status AS employee_emp_marital_status, employee.emp_employment_status AS employee_emp_employment_status, employee.emp_insurance_number AS employee_emp_insurance_number, employee.emp_created_at AS employee_emp_created_at 
FROM employee 
WHERE employee.emp_id = %(pk_1)s::UUID
2024-10-25 12:27:51,309 - INFO - [generated in 0.00026s] {'pk_1': UUID('06e4347e-4dfc-490a-a066-686942241770')}
2024-10-25 12:27:51,311 - INFO - Prepared customer list for response: [{'customer_id': '36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31', 'customer_name': 'Hemanth', 'customer_contact_info': 'hemanth@gmail.com', 'customer_address': '123 Machinery St, Industrial Zone', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_status': 'new', 'customer_comments': 'Interested in the latest model', 'customer_feedback': 'Very positive', 'customer_last_interaction': '2024-10-25T06:02:05.649083', 'product_id': None, 'product_name': None, 'product_brand': None, 'product_model': None, 'product': None}, {'customer_id': 'da4be685-7485-4222-b0c1-5bd1a76ea7cc', 'customer_name': 'Hemanth', 'customer_contact_info': 'hemanth@gmail.com', 'customer_address': '123 Machinery St, Industrial Zone', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_status': 'new', 'customer_comments': 'Interested in the latest model', 'customer_feedback': 'Very positive', 'customer_last_interaction': '2024-10-25T06:07:36.945032', 'product_id': None, 'product_name': None, 'product_brand': None, 'product_model': None, 'product': None}, {'customer_id': '6a2eb1d7-f637-4902-8bed-3bb3708b5995', 'customer_name': 'Hemanth', 'customer_contact_info': 'hemanth@gmail.com', 'customer_address': '123 Machinery St, Industrial Zone', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_status': 'new', 'customer_comments': 'Interested in the latest model', 'customer_feedback': 'Very positive', 'customer_last_interaction': '2024-10-25T06:17:13.855589', 'product_id': None, 'product_name': None, 'product_brand': None, 'product_model': None, 'product': None}, {'customer_id': 'c07e7d44-1307-4cc8-8a3f-905b47e69a96', 'customer_name': 'Hemanth', 'customer_contact_info': 'hemanth@gmail.com', 'customer_address': '123 Machinery St, Industrial Zone', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_status': 'new', 'customer_comments': 'Interested in the latest model', 'customer_feedback': 'Very positive', 'customer_last_interaction': '2024-10-25T06:37:05.058689', 'product_id': None, 'product_name': None, 'product_brand': None, 'product_model': None, 'product': None}, {'customer_id': '512aa34f-7bef-4531-974b-31f6a0d8bb83', 'customer_name': 'Hemanth', 'customer_contact_info': 'hemanth@gmail.com', 'customer_address': '123 Machinery St, Industrial Zone', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_status': 'new', 'customer_comments': 'Interested in the latest model', 'customer_feedback': 'Very positive', 'customer_last_interaction': '2024-10-25T06:40:54.514320', 'product_id': '72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product': {'heavy_product_id': '72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a', 'heavy_product_name': 'CAT 320D', 'heavy_product_type': 'Excavator', 'heavy_product_brand': 'Caterpillar', 'heavy_product_model': '320D', 'heavy_product_year_of_manufacture': 2019, 'heavy_product_price': '850000.00', 'heavy_product_weight': '24000.00', 'heavy_product_dimensions': '9.6m x 2.9m x 3.5m', 'heavy_product_engine_type': 'Diesel', 'heavy_product_horsepower': '190.00', 'heavy_product_fuel_capacity': '350.00', 'heavy_product_operational_hours': 2500, 'heavy_product_warranty_period': 240, 'heavy_product_status': 'Unavailable', 'heavy_product_description': 'A reliable excavator for heavy-duty tasks.', 'heavy_product_image_url': 'http://example.com/images/cat_320d.jpg', 'heavy_product_created_at': '2024-10-23T00:52:40.560748', 'heavy_product_updated_at': '2024-10-23T12:38:18.853072', 'employee_id': '06e4347e-4dfc-490a-a066-686942241770', 'employee_name': 'kiran kumar', 'employee_num': 'EMP00123'}}]
2024-10-25 12:27:51,311 - INFO - Preparing to send notification email with fetched customer details...
2024-10-25 12:27:54,769 - INFO - Notification email sent successfully.
2024-10-25 12:27:54,770 - INFO - ROLLBACK
2024-10-25 12:27:54,772 - INFO - Session closed for get-customers API
2024-10-25 12:27:54,773 - INFO - 127.0.0.1 - - [25/Oct/2024 12:27:54] "GET /get-customers HTTP/1.1" 200 -
2024-10-25 12:30:43,840 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_customers.py', reloading
2024-10-25 12:30:44,038 - INFO -  * Restarting with stat
2024-10-25 12:30:44,828 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 12:30:44,844 - WARNING -  * Debugger is active!
2024-10-25 12:30:44,847 - INFO -  * Debugger PIN: 808-278-793
2024-10-25 12:33:28,971 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_customers.py', reloading
2024-10-25 12:33:29,135 - INFO -  * Restarting with stat
2024-10-25 12:33:29,912 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 12:33:29,928 - WARNING -  * Debugger is active!
2024-10-25 12:33:29,931 - INFO -  * Debugger PIN: 808-278-793
2024-10-25 12:33:55,969 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_customers.py', reloading
2024-10-25 12:33:56,108 - INFO -  * Restarting with stat
2024-10-25 12:33:57,211 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 12:33:57,234 - WARNING -  * Debugger is active!
2024-10-25 12:33:57,239 - INFO -  * Debugger PIN: 808-278-793
2024-10-25 14:39:02,865 - INFO - Flask application has stopped.
2024-10-25 14:39:03,061 - INFO - Flask application has stopped.
2024-10-25 14:39:20,757 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 14:39:20,813 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2024-10-25 14:39:20,813 - INFO - [33mPress CTRL+C to quit[0m
2024-10-25 14:39:20,814 - INFO -  * Restarting with stat
2024-10-25 14:39:21,631 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 14:39:21,651 - WARNING -  * Debugger is active!
2024-10-25 14:39:21,654 - INFO -  * Debugger PIN: 808-278-793
2024-10-25 14:43:08,764 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_customers.py', reloading
2024-10-25 14:43:08,907 - INFO -  * Restarting with stat
2024-10-25 14:43:09,682 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 14:43:09,699 - WARNING -  * Debugger is active!
2024-10-25 14:43:09,702 - INFO -  * Debugger PIN: 808-278-793
2024-10-25 14:43:53,032 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-25 14:43:53,244 - INFO -  * Restarting with stat
2024-10-25 14:43:54,109 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 14:43:54,126 - WARNING -  * Debugger is active!
2024-10-25 14:43:54,129 - INFO -  * Debugger PIN: 808-278-793
2024-10-25 14:44:11,046 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-25 14:44:11,157 - INFO -  * Restarting with stat
2024-10-25 14:44:12,139 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 14:44:12,162 - WARNING -  * Debugger is active!
2024-10-25 14:44:12,165 - INFO -  * Debugger PIN: 808-278-793
2024-10-25 14:44:31,079 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-25 14:44:31,244 - INFO -  * Restarting with stat
2024-10-25 14:44:32,316 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 14:44:32,333 - WARNING -  * Debugger is active!
2024-10-25 14:44:32,336 - INFO -  * Debugger PIN: 808-278-793
2024-10-25 14:44:43,775 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-25 14:44:43,929 - INFO -  * Restarting with stat
2024-10-25 14:44:44,887 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 14:44:44,903 - WARNING -  * Debugger is active!
2024-10-25 14:44:44,906 - INFO -  * Debugger PIN: 808-278-793
2024-10-25 14:44:59,450 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-25 14:44:59,662 - INFO -  * Restarting with stat
2024-10-25 14:45:00,641 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 14:45:00,658 - WARNING -  * Debugger is active!
2024-10-25 14:45:00,662 - INFO -  * Debugger PIN: 808-278-793
2024-10-25 14:46:11,303 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_customers.py', reloading
2024-10-25 14:46:11,441 - INFO -  * Restarting with stat
2024-10-25 14:46:12,395 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 14:46:12,413 - WARNING -  * Debugger is active!
2024-10-25 14:46:12,417 - INFO -  * Debugger PIN: 808-278-793
2024-10-25 14:46:22,862 - INFO - BEGIN (implicit)
2024-10-25 14:46:22,866 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-25 14:46:22,866 - INFO - [generated in 0.00045s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-25 14:46:22,884 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-25 14:46:22,884 - INFO - Entered /update-customer endpoint. Request method: PUT
2024-10-25 14:46:22,884 - INFO - Data received for update: {'customer_id': '36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31', 'customer_name': 'HEMANTH', 'customer_contact_info': 'HEMANTH@gmail.com', 'customer_address': '456 Updated Address', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'customer_status': 'Active', 'otp': '980220', 'email': 'komalsaikiran05@gmail.com'}
2024-10-25 14:46:22,887 - INFO - SELECT heavy_machinery_customers.customer_id AS heavy_machinery_customers_customer_id, heavy_machinery_customers.customer_name AS heavy_machinery_customers_customer_name, heavy_machinery_customers.customer_contact_info AS heavy_machinery_customers_customer_contact_info, heavy_machinery_customers.customer_address AS heavy_machinery_customers_customer_address, heavy_machinery_customers.opportunity_id AS heavy_machinery_customers_opportunity_id, heavy_machinery_customers.dealer_id AS heavy_machinery_customers_dealer_id, heavy_machinery_customers.employee_id AS heavy_machinery_customers_employee_id, heavy_machinery_customers.customer_status AS heavy_machinery_customers_customer_status, heavy_machinery_customers.customer_comments AS heavy_machinery_customers_customer_comments, heavy_machinery_customers.customer_feedback AS heavy_machinery_customers_customer_feedback, heavy_machinery_customers.customer_created_at AS heavy_machinery_customers_customer_created_at, heavy_machinery_customers.customer_updated_at AS heavy_machinery_customers_customer_updated_at, heavy_machinery_customers.customer_last_interaction AS heavy_machinery_customers_customer_last_interaction, heavy_machinery_customers.product_id AS heavy_machinery_customers_product_id, heavy_machinery_customers.product_name AS heavy_machinery_customers_product_name, heavy_machinery_customers.product_model AS heavy_machinery_customers_product_model, heavy_machinery_customers.product_brand AS heavy_machinery_customers_product_brand 
FROM heavy_machinery_customers 
WHERE heavy_machinery_customers.customer_id = %(customer_id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-25 14:46:22,887 - INFO - [generated in 0.00025s] {'customer_id_1': '36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31', 'param_1': 1}
2024-10-25 14:46:22,895 - INFO - UPDATE heavy_machinery_customers SET customer_name=%(customer_name)s, customer_contact_info=%(customer_contact_info)s, customer_address=%(customer_address)s, opportunity_id=%(opportunity_id)s::UUID, dealer_id=%(dealer_id)s::UUID, employee_id=%(employee_id)s::UUID, customer_status=%(customer_status)s, customer_updated_at=now() WHERE heavy_machinery_customers.customer_id = %(heavy_machinery_customers_customer_id)s::UUID
2024-10-25 14:46:22,895 - INFO - [generated in 0.00066s] {'customer_name': 'HEMANTH', 'customer_contact_info': 'HEMANTH@gmail.com', 'customer_address': '456 Updated Address', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_status': 'Active', 'heavy_machinery_customers_customer_id': UUID('36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31')}
2024-10-25 14:46:22,903 - INFO - COMMIT
2024-10-25 14:46:22,904 - INFO - Customer with ID 36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31 updated successfully.
2024-10-25 14:46:22,904 - ERROR - General Error updating customer ID 36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31: generate_customers_email_body() missing 1 required positional argument: 'updated_time'
2024-10-25 14:46:22,904 - INFO - Session closed for update-customer API
2024-10-25 14:46:22,906 - INFO - 127.0.0.1 - - [25/Oct/2024 14:46:22] "[35m[1mPUT /update-customer HTTP/1.1[0m" 500 -
2024-10-25 14:48:05,424 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_customers.py', reloading
2024-10-25 14:48:05,573 - INFO -  * Restarting with stat
2024-10-25 14:48:06,478 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 14:48:06,497 - WARNING -  * Debugger is active!
2024-10-25 14:48:06,501 - INFO -  * Debugger PIN: 808-278-793
2024-10-25 14:50:30,294 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-25 14:50:30,441 - INFO -  * Restarting with stat
2024-10-25 14:50:31,396 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 14:50:31,412 - WARNING -  * Debugger is active!
2024-10-25 14:50:31,414 - INFO -  * Debugger PIN: 808-278-793
2024-10-25 14:53:28,528 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_customers.py', reloading
2024-10-25 14:53:28,704 - INFO -  * Restarting with stat
2024-10-25 14:53:29,638 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 14:53:29,660 - WARNING -  * Debugger is active!
2024-10-25 14:53:29,664 - INFO -  * Debugger PIN: 808-278-793
2024-10-25 14:54:00,770 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_customers.py', reloading
2024-10-25 14:54:00,928 - INFO -  * Restarting with stat
2024-10-25 14:54:01,739 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 14:54:01,757 - WARNING -  * Debugger is active!
2024-10-25 14:54:01,760 - INFO -  * Debugger PIN: 808-278-793
2024-10-25 14:57:11,687 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-25 14:57:11,807 - INFO -  * Restarting with stat
2024-10-25 14:57:12,842 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 14:57:12,863 - WARNING -  * Debugger is active!
2024-10-25 14:57:12,868 - INFO -  * Debugger PIN: 808-278-793
2024-10-25 14:57:13,110 - INFO - BEGIN (implicit)
2024-10-25 14:57:13,113 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-25 14:57:13,113 - INFO - [generated in 0.00032s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-25 14:57:13,119 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-25 14:57:13,119 - INFO - Entered /update-customer endpoint. Request method: PUT
2024-10-25 14:57:13,119 - INFO - Data received for update: {'customer_id': '36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31', 'customer_name': 'HEMANTH', 'customer_contact_info': 'HEMANTH@gmail.com', 'customer_address': '456 Updated Address', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'customer_status': 'Active', 'otp': '980220', 'email': 'komalsaikiran05@gmail.com'}
2024-10-25 14:57:13,122 - INFO - SELECT heavy_machinery_customers.customer_id AS heavy_machinery_customers_customer_id, heavy_machinery_customers.customer_name AS heavy_machinery_customers_customer_name, heavy_machinery_customers.customer_contact_info AS heavy_machinery_customers_customer_contact_info, heavy_machinery_customers.customer_address AS heavy_machinery_customers_customer_address, heavy_machinery_customers.opportunity_id AS heavy_machinery_customers_opportunity_id, heavy_machinery_customers.dealer_id AS heavy_machinery_customers_dealer_id, heavy_machinery_customers.employee_id AS heavy_machinery_customers_employee_id, heavy_machinery_customers.customer_status AS heavy_machinery_customers_customer_status, heavy_machinery_customers.customer_comments AS heavy_machinery_customers_customer_comments, heavy_machinery_customers.customer_feedback AS heavy_machinery_customers_customer_feedback, heavy_machinery_customers.customer_created_at AS heavy_machinery_customers_customer_created_at, heavy_machinery_customers.customer_updated_at AS heavy_machinery_customers_customer_updated_at, heavy_machinery_customers.customer_last_interaction AS heavy_machinery_customers_customer_last_interaction, heavy_machinery_customers.product_id AS heavy_machinery_customers_product_id, heavy_machinery_customers.product_name AS heavy_machinery_customers_product_name, heavy_machinery_customers.product_model AS heavy_machinery_customers_product_model, heavy_machinery_customers.product_brand AS heavy_machinery_customers_product_brand 
FROM heavy_machinery_customers 
WHERE heavy_machinery_customers.customer_id = %(customer_id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-25 14:57:13,122 - INFO - [generated in 0.00036s] {'customer_id_1': '36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31', 'param_1': 1}
2024-10-25 14:57:13,128 - INFO - UPDATE heavy_machinery_customers SET opportunity_id=%(opportunity_id)s::UUID, dealer_id=%(dealer_id)s::UUID, employee_id=%(employee_id)s::UUID, customer_updated_at=now() WHERE heavy_machinery_customers.customer_id = %(heavy_machinery_customers_customer_id)s::UUID
2024-10-25 14:57:13,128 - INFO - [generated in 0.00035s] {'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'heavy_machinery_customers_customer_id': UUID('36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31')}
2024-10-25 14:57:13,132 - INFO - COMMIT
2024-10-25 14:57:13,133 - INFO - Customer with ID 36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31 updated successfully.
2024-10-25 14:57:13,133 - ERROR - General Error updating customer ID 36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31: Object of type InstanceState is not JSON serializable
2024-10-25 14:57:13,134 - INFO - Session closed for update-customer API
2024-10-25 14:57:13,134 - INFO - 127.0.0.1 - - [25/Oct/2024 14:57:13] "[35m[1mPUT /update-customer HTTP/1.1[0m" 500 -
2024-10-25 14:57:28,356 - INFO - Entered /get-customers endpoint. Request method: GET
2024-10-25 14:57:28,356 - INFO - Received parameters - customer_id: , customer_name: , customer_contact_info: , customer_address: 
2024-10-25 14:57:28,356 - INFO - Executing the query to fetch customers...
2024-10-25 14:57:28,438 - INFO - BEGIN (implicit)
2024-10-25 14:57:28,438 - INFO - SELECT heavy_machinery_customers.customer_id AS heavy_machinery_customers_customer_id, heavy_machinery_customers.customer_name AS heavy_machinery_customers_customer_name, heavy_machinery_customers.customer_contact_info AS heavy_machinery_customers_customer_contact_info, heavy_machinery_customers.customer_address AS heavy_machinery_customers_customer_address, heavy_machinery_customers.opportunity_id AS heavy_machinery_customers_opportunity_id, heavy_machinery_customers.dealer_id AS heavy_machinery_customers_dealer_id, heavy_machinery_customers.employee_id AS heavy_machinery_customers_employee_id, heavy_machinery_customers.customer_status AS heavy_machinery_customers_customer_status, heavy_machinery_customers.customer_comments AS heavy_machinery_customers_customer_comments, heavy_machinery_customers.customer_feedback AS heavy_machinery_customers_customer_feedback, heavy_machinery_customers.customer_created_at AS heavy_machinery_customers_customer_created_at, heavy_machinery_customers.customer_updated_at AS heavy_machinery_customers_customer_updated_at, heavy_machinery_customers.customer_last_interaction AS heavy_machinery_customers_customer_last_interaction, heavy_machinery_customers.product_id AS heavy_machinery_customers_product_id, heavy_machinery_customers.product_name AS heavy_machinery_customers_product_name, heavy_machinery_customers.product_model AS heavy_machinery_customers_product_model, heavy_machinery_customers.product_brand AS heavy_machinery_customers_product_brand 
FROM heavy_machinery_customers
2024-10-25 14:57:28,438 - INFO - [generated in 0.00016s] {}
2024-10-25 14:57:28,441 - INFO - Fetched 5 customers based on filters
2024-10-25 14:57:28,446 - INFO - SELECT heavy_products.heavy_product_id AS heavy_products_heavy_product_id, heavy_products.heavy_product_name AS heavy_products_heavy_product_name, heavy_products.heavy_product_type AS heavy_products_heavy_product_type, heavy_products.heavy_product_brand AS heavy_products_heavy_product_brand, heavy_products.heavy_product_model AS heavy_products_heavy_product_model, heavy_products.heavy_product_year_of_manufacture AS heavy_products_heavy_product_year_of_manufacture, heavy_products.heavy_product_price AS heavy_products_heavy_product_price, heavy_products.heavy_product_weight AS heavy_products_heavy_product_weight, heavy_products.heavy_product_dimensions AS heavy_products_heavy_product_dimensions, heavy_products.heavy_product_engine_type AS heavy_products_heavy_product_engine_type, heavy_products.heavy_product_horsepower AS heavy_products_heavy_product_horsepower, heavy_products.heavy_product_fuel_capacity AS heavy_products_heavy_product_fuel_capacity, heavy_products.heavy_product_operational_hours AS heavy_products_heavy_product_operational_hours, heavy_products.heavy_product_warranty_period AS heavy_products_heavy_product_warranty_period, heavy_products.heavy_product_status AS heavy_products_heavy_product_status, heavy_products.heavy_product_description AS heavy_products_heavy_product_description, heavy_products.heavy_product_image_url AS heavy_products_heavy_product_image_url, heavy_products.heavy_product_created_at AS heavy_products_heavy_product_created_at, heavy_products.heavy_product_updated_at AS heavy_products_heavy_product_updated_at, heavy_products.employee_id AS heavy_products_employee_id, heavy_products.employee_name AS heavy_products_employee_name, heavy_products.employee_num AS heavy_products_employee_num 
FROM heavy_products 
WHERE heavy_products.heavy_product_id = %(pk_1)s::UUID
2024-10-25 14:57:28,446 - INFO - [generated in 0.00026s] {'pk_1': UUID('72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a')}
2024-10-25 14:57:28,457 - INFO - SELECT employee.emp_id AS employee_emp_id, employee.emp_first_name AS employee_emp_first_name, employee.emp_last_name AS employee_emp_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.emp_phone AS employee_emp_phone, employee.emp_hire_date AS employee_emp_hire_date, employee.emp_position AS employee_emp_position, employee.emp_salary AS employee_emp_salary, employee.emp_department AS employee_emp_department, employee.emp_age AS employee_emp_age, employee.emp_sex AS employee_emp_sex, employee.emp_blood_group AS employee_emp_blood_group, employee.emp_height AS employee_emp_height, employee.emp_weight AS employee_emp_weight, employee.emp_address AS employee_emp_address, employee.emp_emergency_contact AS employee_emp_emergency_contact, employee.emp_nationality AS employee_emp_nationality, employee.emp_date_of_birth AS employee_emp_date_of_birth, employee.emp_marital_status AS employee_emp_marital_status, employee.emp_employment_status AS employee_emp_employment_status, employee.emp_insurance_number AS employee_emp_insurance_number, employee.emp_created_at AS employee_emp_created_at 
FROM employee 
WHERE employee.emp_id = %(pk_1)s::UUID
2024-10-25 14:57:28,457 - INFO - [generated in 0.00023s] {'pk_1': UUID('06e4347e-4dfc-490a-a066-686942241770')}
2024-10-25 14:57:28,460 - INFO - Prepared customer list for response: [{'customer_id': 'da4be685-7485-4222-b0c1-5bd1a76ea7cc', 'customer_name': 'Hemanth', 'customer_contact_info': 'hemanth@gmail.com', 'customer_address': '123 Machinery St, Industrial Zone', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_status': 'new', 'customer_comments': 'Interested in the latest model', 'customer_feedback': 'Very positive', 'customer_last_interaction': '2024-10-25T06:07:36.945032', 'product_id': None, 'product_name': None, 'product_brand': None, 'product_model': None, 'product': None}, {'customer_id': '6a2eb1d7-f637-4902-8bed-3bb3708b5995', 'customer_name': 'Hemanth', 'customer_contact_info': 'hemanth@gmail.com', 'customer_address': '123 Machinery St, Industrial Zone', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_status': 'new', 'customer_comments': 'Interested in the latest model', 'customer_feedback': 'Very positive', 'customer_last_interaction': '2024-10-25T06:17:13.855589', 'product_id': None, 'product_name': None, 'product_brand': None, 'product_model': None, 'product': None}, {'customer_id': 'c07e7d44-1307-4cc8-8a3f-905b47e69a96', 'customer_name': 'Hemanth', 'customer_contact_info': 'hemanth@gmail.com', 'customer_address': '123 Machinery St, Industrial Zone', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_status': 'new', 'customer_comments': 'Interested in the latest model', 'customer_feedback': 'Very positive', 'customer_last_interaction': '2024-10-25T06:37:05.058689', 'product_id': None, 'product_name': None, 'product_brand': None, 'product_model': None, 'product': None}, {'customer_id': '512aa34f-7bef-4531-974b-31f6a0d8bb83', 'customer_name': 'Hemanth', 'customer_contact_info': 'hemanth@gmail.com', 'customer_address': '123 Machinery St, Industrial Zone', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_status': 'new', 'customer_comments': 'Interested in the latest model', 'customer_feedback': 'Very positive', 'customer_last_interaction': '2024-10-25T06:40:54.514320', 'product_id': '72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product': {'heavy_product_id': '72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a', 'heavy_product_name': 'CAT 320D', 'heavy_product_type': 'Excavator', 'heavy_product_brand': 'Caterpillar', 'heavy_product_model': '320D', 'heavy_product_year_of_manufacture': 2019, 'heavy_product_price': '850000.00', 'heavy_product_weight': '24000.00', 'heavy_product_dimensions': '9.6m x 2.9m x 3.5m', 'heavy_product_engine_type': 'Diesel', 'heavy_product_horsepower': '190.00', 'heavy_product_fuel_capacity': '350.00', 'heavy_product_operational_hours': 2500, 'heavy_product_warranty_period': 240, 'heavy_product_status': 'Unavailable', 'heavy_product_description': 'A reliable excavator for heavy-duty tasks.', 'heavy_product_image_url': 'http://example.com/images/cat_320d.jpg', 'heavy_product_created_at': '2024-10-23T00:52:40.560748', 'heavy_product_updated_at': '2024-10-23T12:38:18.853072', 'employee_id': '06e4347e-4dfc-490a-a066-686942241770', 'employee_name': 'kiran kumar', 'employee_num': 'EMP00123'}}, {'customer_id': '36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31', 'customer_name': 'HEMANTH', 'customer_contact_info': 'HEMANTH@gmail.com', 'customer_address': '456 Updated Address', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_status': 'Active', 'customer_comments': 'Interested in the latest model', 'customer_feedback': 'Very positive', 'customer_last_interaction': '2024-10-25T06:02:05.649083', 'product_id': None, 'product_name': None, 'product_brand': None, 'product_model': None, 'product': None}]
2024-10-25 14:57:28,460 - INFO - Preparing to send notification email with fetched customer details...
2024-10-25 14:57:32,146 - INFO - Notification email sent successfully.
2024-10-25 14:57:32,147 - INFO - ROLLBACK
2024-10-25 14:57:32,148 - INFO - Session closed for get-customers API
2024-10-25 14:57:32,148 - INFO - 127.0.0.1 - - [25/Oct/2024 14:57:32] "GET /get-customers HTTP/1.1" 200 -
2024-10-25 14:57:40,797 - INFO - Entered /get-customers endpoint. Request method: GET
2024-10-25 14:57:40,797 - INFO - Received parameters - customer_id: , customer_name: , customer_contact_info: , customer_address: 
2024-10-25 14:57:40,797 - INFO - Executing the query to fetch customers...
2024-10-25 14:57:40,879 - INFO - BEGIN (implicit)
2024-10-25 14:57:40,879 - INFO - SELECT heavy_machinery_customers.customer_id AS heavy_machinery_customers_customer_id, heavy_machinery_customers.customer_name AS heavy_machinery_customers_customer_name, heavy_machinery_customers.customer_contact_info AS heavy_machinery_customers_customer_contact_info, heavy_machinery_customers.customer_address AS heavy_machinery_customers_customer_address, heavy_machinery_customers.opportunity_id AS heavy_machinery_customers_opportunity_id, heavy_machinery_customers.dealer_id AS heavy_machinery_customers_dealer_id, heavy_machinery_customers.employee_id AS heavy_machinery_customers_employee_id, heavy_machinery_customers.customer_status AS heavy_machinery_customers_customer_status, heavy_machinery_customers.customer_comments AS heavy_machinery_customers_customer_comments, heavy_machinery_customers.customer_feedback AS heavy_machinery_customers_customer_feedback, heavy_machinery_customers.customer_created_at AS heavy_machinery_customers_customer_created_at, heavy_machinery_customers.customer_updated_at AS heavy_machinery_customers_customer_updated_at, heavy_machinery_customers.customer_last_interaction AS heavy_machinery_customers_customer_last_interaction, heavy_machinery_customers.product_id AS heavy_machinery_customers_product_id, heavy_machinery_customers.product_name AS heavy_machinery_customers_product_name, heavy_machinery_customers.product_model AS heavy_machinery_customers_product_model, heavy_machinery_customers.product_brand AS heavy_machinery_customers_product_brand 
FROM heavy_machinery_customers
2024-10-25 14:57:40,880 - INFO - [cached since 12.44s ago] {}
2024-10-25 14:57:40,882 - INFO - Fetched 5 customers based on filters
2024-10-25 14:57:40,883 - INFO - SELECT heavy_products.heavy_product_id AS heavy_products_heavy_product_id, heavy_products.heavy_product_name AS heavy_products_heavy_product_name, heavy_products.heavy_product_type AS heavy_products_heavy_product_type, heavy_products.heavy_product_brand AS heavy_products_heavy_product_brand, heavy_products.heavy_product_model AS heavy_products_heavy_product_model, heavy_products.heavy_product_year_of_manufacture AS heavy_products_heavy_product_year_of_manufacture, heavy_products.heavy_product_price AS heavy_products_heavy_product_price, heavy_products.heavy_product_weight AS heavy_products_heavy_product_weight, heavy_products.heavy_product_dimensions AS heavy_products_heavy_product_dimensions, heavy_products.heavy_product_engine_type AS heavy_products_heavy_product_engine_type, heavy_products.heavy_product_horsepower AS heavy_products_heavy_product_horsepower, heavy_products.heavy_product_fuel_capacity AS heavy_products_heavy_product_fuel_capacity, heavy_products.heavy_product_operational_hours AS heavy_products_heavy_product_operational_hours, heavy_products.heavy_product_warranty_period AS heavy_products_heavy_product_warranty_period, heavy_products.heavy_product_status AS heavy_products_heavy_product_status, heavy_products.heavy_product_description AS heavy_products_heavy_product_description, heavy_products.heavy_product_image_url AS heavy_products_heavy_product_image_url, heavy_products.heavy_product_created_at AS heavy_products_heavy_product_created_at, heavy_products.heavy_product_updated_at AS heavy_products_heavy_product_updated_at, heavy_products.employee_id AS heavy_products_employee_id, heavy_products.employee_name AS heavy_products_employee_name, heavy_products.employee_num AS heavy_products_employee_num 
FROM heavy_products 
WHERE heavy_products.heavy_product_id = %(pk_1)s::UUID
2024-10-25 14:57:40,883 - INFO - [cached since 12.44s ago] {'pk_1': UUID('72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a')}
2024-10-25 14:57:40,886 - INFO - SELECT employee.emp_id AS employee_emp_id, employee.emp_first_name AS employee_emp_first_name, employee.emp_last_name AS employee_emp_last_name, employee.emp_email AS employee_emp_email, employee.emp_num AS employee_emp_num, employee.emp_phone AS employee_emp_phone, employee.emp_hire_date AS employee_emp_hire_date, employee.emp_position AS employee_emp_position, employee.emp_salary AS employee_emp_salary, employee.emp_department AS employee_emp_department, employee.emp_age AS employee_emp_age, employee.emp_sex AS employee_emp_sex, employee.emp_blood_group AS employee_emp_blood_group, employee.emp_height AS employee_emp_height, employee.emp_weight AS employee_emp_weight, employee.emp_address AS employee_emp_address, employee.emp_emergency_contact AS employee_emp_emergency_contact, employee.emp_nationality AS employee_emp_nationality, employee.emp_date_of_birth AS employee_emp_date_of_birth, employee.emp_marital_status AS employee_emp_marital_status, employee.emp_employment_status AS employee_emp_employment_status, employee.emp_insurance_number AS employee_emp_insurance_number, employee.emp_created_at AS employee_emp_created_at 
FROM employee 
WHERE employee.emp_id = %(pk_1)s::UUID
2024-10-25 14:57:40,886 - INFO - [cached since 12.43s ago] {'pk_1': UUID('06e4347e-4dfc-490a-a066-686942241770')}
2024-10-25 14:57:40,888 - INFO - Prepared customer list for response: [{'customer_id': 'da4be685-7485-4222-b0c1-5bd1a76ea7cc', 'customer_name': 'Hemanth', 'customer_contact_info': 'hemanth@gmail.com', 'customer_address': '123 Machinery St, Industrial Zone', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_status': 'new', 'customer_comments': 'Interested in the latest model', 'customer_feedback': 'Very positive', 'customer_last_interaction': '2024-10-25T06:07:36.945032', 'product_id': None, 'product_name': None, 'product_brand': None, 'product_model': None, 'product': None}, {'customer_id': '6a2eb1d7-f637-4902-8bed-3bb3708b5995', 'customer_name': 'Hemanth', 'customer_contact_info': 'hemanth@gmail.com', 'customer_address': '123 Machinery St, Industrial Zone', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_status': 'new', 'customer_comments': 'Interested in the latest model', 'customer_feedback': 'Very positive', 'customer_last_interaction': '2024-10-25T06:17:13.855589', 'product_id': None, 'product_name': None, 'product_brand': None, 'product_model': None, 'product': None}, {'customer_id': 'c07e7d44-1307-4cc8-8a3f-905b47e69a96', 'customer_name': 'Hemanth', 'customer_contact_info': 'hemanth@gmail.com', 'customer_address': '123 Machinery St, Industrial Zone', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_status': 'new', 'customer_comments': 'Interested in the latest model', 'customer_feedback': 'Very positive', 'customer_last_interaction': '2024-10-25T06:37:05.058689', 'product_id': None, 'product_name': None, 'product_brand': None, 'product_model': None, 'product': None}, {'customer_id': '512aa34f-7bef-4531-974b-31f6a0d8bb83', 'customer_name': 'Hemanth', 'customer_contact_info': 'hemanth@gmail.com', 'customer_address': '123 Machinery St, Industrial Zone', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_status': 'new', 'customer_comments': 'Interested in the latest model', 'customer_feedback': 'Very positive', 'customer_last_interaction': '2024-10-25T06:40:54.514320', 'product_id': '72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a', 'product_name': 'CAT 320D', 'product_brand': 'Caterpillar', 'product_model': '320D', 'product': {'heavy_product_id': '72c5591f-a646-4f7f-8ae6-5f9eeaf2c76a', 'heavy_product_name': 'CAT 320D', 'heavy_product_type': 'Excavator', 'heavy_product_brand': 'Caterpillar', 'heavy_product_model': '320D', 'heavy_product_year_of_manufacture': 2019, 'heavy_product_price': '850000.00', 'heavy_product_weight': '24000.00', 'heavy_product_dimensions': '9.6m x 2.9m x 3.5m', 'heavy_product_engine_type': 'Diesel', 'heavy_product_horsepower': '190.00', 'heavy_product_fuel_capacity': '350.00', 'heavy_product_operational_hours': 2500, 'heavy_product_warranty_period': 240, 'heavy_product_status': 'Unavailable', 'heavy_product_description': 'A reliable excavator for heavy-duty tasks.', 'heavy_product_image_url': 'http://example.com/images/cat_320d.jpg', 'heavy_product_created_at': '2024-10-23T00:52:40.560748', 'heavy_product_updated_at': '2024-10-23T12:38:18.853072', 'employee_id': '06e4347e-4dfc-490a-a066-686942241770', 'employee_name': 'kiran kumar', 'employee_num': 'EMP00123'}}, {'customer_id': '36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31', 'customer_name': 'HEMANTH', 'customer_contact_info': 'HEMANTH@gmail.com', 'customer_address': '456 Updated Address', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_status': 'Active', 'customer_comments': 'Interested in the latest model', 'customer_feedback': 'Very positive', 'customer_last_interaction': '2024-10-25T06:02:05.649083', 'product_id': None, 'product_name': None, 'product_brand': None, 'product_model': None, 'product': None}]
2024-10-25 14:57:40,889 - INFO - Preparing to send notification email with fetched customer details...
2024-10-25 14:57:44,493 - INFO - Notification email sent successfully.
2024-10-25 14:57:44,494 - INFO - ROLLBACK
2024-10-25 14:57:44,495 - INFO - Session closed for get-customers API
2024-10-25 14:57:44,495 - INFO - 127.0.0.1 - - [25/Oct/2024 14:57:44] "GET /get-customers HTTP/1.1" 200 -
2024-10-25 14:57:47,516 - INFO - BEGIN (implicit)
2024-10-25 14:57:47,516 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-25 14:57:47,516 - INFO - [cached since 34.4s ago] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-25 14:57:47,519 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-25 14:57:47,519 - INFO - Entered /update-customer endpoint. Request method: PUT
2024-10-25 14:57:47,520 - INFO - Data received for update: {'customer_id': '36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31', 'customer_name': 'HEMANTH', 'customer_contact_info': 'HEMANTH@gmail.com', 'customer_address': '456 Updated Address', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'customer_status': 'Active', 'otp': '980220', 'email': 'komalsaikiran05@gmail.com'}
2024-10-25 14:57:47,520 - INFO - SELECT heavy_machinery_customers.customer_id AS heavy_machinery_customers_customer_id, heavy_machinery_customers.customer_name AS heavy_machinery_customers_customer_name, heavy_machinery_customers.customer_contact_info AS heavy_machinery_customers_customer_contact_info, heavy_machinery_customers.customer_address AS heavy_machinery_customers_customer_address, heavy_machinery_customers.opportunity_id AS heavy_machinery_customers_opportunity_id, heavy_machinery_customers.dealer_id AS heavy_machinery_customers_dealer_id, heavy_machinery_customers.employee_id AS heavy_machinery_customers_employee_id, heavy_machinery_customers.customer_status AS heavy_machinery_customers_customer_status, heavy_machinery_customers.customer_comments AS heavy_machinery_customers_customer_comments, heavy_machinery_customers.customer_feedback AS heavy_machinery_customers_customer_feedback, heavy_machinery_customers.customer_created_at AS heavy_machinery_customers_customer_created_at, heavy_machinery_customers.customer_updated_at AS heavy_machinery_customers_customer_updated_at, heavy_machinery_customers.customer_last_interaction AS heavy_machinery_customers_customer_last_interaction, heavy_machinery_customers.product_id AS heavy_machinery_customers_product_id, heavy_machinery_customers.product_name AS heavy_machinery_customers_product_name, heavy_machinery_customers.product_model AS heavy_machinery_customers_product_model, heavy_machinery_customers.product_brand AS heavy_machinery_customers_product_brand 
FROM heavy_machinery_customers 
WHERE heavy_machinery_customers.customer_id = %(customer_id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-25 14:57:47,520 - INFO - [cached since 34.4s ago] {'customer_id_1': '36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31', 'param_1': 1}
2024-10-25 14:57:47,522 - INFO - UPDATE heavy_machinery_customers SET opportunity_id=%(opportunity_id)s::UUID, dealer_id=%(dealer_id)s::UUID, employee_id=%(employee_id)s::UUID, customer_updated_at=now() WHERE heavy_machinery_customers.customer_id = %(heavy_machinery_customers_customer_id)s::UUID
2024-10-25 14:57:47,523 - INFO - [cached since 34.4s ago] {'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'heavy_machinery_customers_customer_id': UUID('36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31')}
2024-10-25 14:57:47,524 - INFO - COMMIT
2024-10-25 14:57:47,526 - INFO - Customer with ID 36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31 updated successfully.
2024-10-25 14:57:47,526 - ERROR - General Error updating customer ID 36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31: Object of type InstanceState is not JSON serializable
2024-10-25 14:57:47,526 - INFO - Session closed for update-customer API
2024-10-25 14:57:47,527 - INFO - 127.0.0.1 - - [25/Oct/2024 14:57:47] "[35m[1mPUT /update-customer HTTP/1.1[0m" 500 -
2024-10-25 14:59:00,479 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-25 14:59:00,623 - INFO -  * Restarting with stat
2024-10-25 14:59:01,947 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 14:59:01,970 - WARNING -  * Debugger is active!
2024-10-25 14:59:01,974 - INFO -  * Debugger PIN: 808-278-793
2024-10-25 14:59:02,106 - INFO - BEGIN (implicit)
2024-10-25 14:59:02,110 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-25 14:59:02,112 - INFO - [generated in 0.00124s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-25 14:59:02,116 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-25 14:59:02,116 - INFO - Entered /update-customer endpoint. Request method: PUT
2024-10-25 14:59:02,117 - INFO - Data received for update: {'customer_id': '36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31', 'customer_name': 'HEMANTH', 'customer_contact_info': 'HEMANTH@gmail.com', 'customer_address': '456 Updated Address', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'customer_status': 'Active', 'otp': '980220', 'email': 'komalsaikiran05@gmail.com'}
2024-10-25 14:59:02,123 - INFO - SELECT heavy_machinery_customers.customer_id AS heavy_machinery_customers_customer_id, heavy_machinery_customers.customer_name AS heavy_machinery_customers_customer_name, heavy_machinery_customers.customer_contact_info AS heavy_machinery_customers_customer_contact_info, heavy_machinery_customers.customer_address AS heavy_machinery_customers_customer_address, heavy_machinery_customers.opportunity_id AS heavy_machinery_customers_opportunity_id, heavy_machinery_customers.dealer_id AS heavy_machinery_customers_dealer_id, heavy_machinery_customers.employee_id AS heavy_machinery_customers_employee_id, heavy_machinery_customers.customer_status AS heavy_machinery_customers_customer_status, heavy_machinery_customers.customer_comments AS heavy_machinery_customers_customer_comments, heavy_machinery_customers.customer_feedback AS heavy_machinery_customers_customer_feedback, heavy_machinery_customers.customer_created_at AS heavy_machinery_customers_customer_created_at, heavy_machinery_customers.customer_updated_at AS heavy_machinery_customers_customer_updated_at, heavy_machinery_customers.customer_last_interaction AS heavy_machinery_customers_customer_last_interaction, heavy_machinery_customers.product_id AS heavy_machinery_customers_product_id, heavy_machinery_customers.product_name AS heavy_machinery_customers_product_name, heavy_machinery_customers.product_model AS heavy_machinery_customers_product_model, heavy_machinery_customers.product_brand AS heavy_machinery_customers_product_brand 
FROM heavy_machinery_customers 
WHERE heavy_machinery_customers.customer_id = %(customer_id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-25 14:59:02,123 - INFO - [generated in 0.00051s] {'customer_id_1': '36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31', 'param_1': 1}
2024-10-25 14:59:02,130 - INFO - UPDATE heavy_machinery_customers SET opportunity_id=%(opportunity_id)s::UUID, dealer_id=%(dealer_id)s::UUID, employee_id=%(employee_id)s::UUID, customer_updated_at=now() WHERE heavy_machinery_customers.customer_id = %(heavy_machinery_customers_customer_id)s::UUID
2024-10-25 14:59:02,130 - INFO - [generated in 0.00045s] {'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'heavy_machinery_customers_customer_id': UUID('36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31')}
2024-10-25 14:59:02,134 - INFO - COMMIT
2024-10-25 14:59:02,137 - INFO - Customer with ID 36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31 updated successfully.
2024-10-25 14:59:02,138 - ERROR - General Error updating customer ID 36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31: Object of type InstanceState is not JSON serializable
2024-10-25 14:59:02,138 - INFO - Session closed for update-customer API
2024-10-25 14:59:02,138 - INFO - 127.0.0.1 - - [25/Oct/2024 14:59:02] "[35m[1mPUT /update-customer HTTP/1.1[0m" 500 -
2024-10-25 15:03:36,872 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_customers.py', reloading
2024-10-25 15:03:37,047 - INFO -  * Restarting with stat
2024-10-25 15:03:38,269 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 15:03:38,325 - WARNING -  * Debugger is active!
2024-10-25 15:03:38,331 - INFO -  * Debugger PIN: 808-278-793
2024-10-25 15:03:38,730 - INFO - BEGIN (implicit)
2024-10-25 15:03:38,733 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-25 15:03:38,733 - INFO - [generated in 0.00021s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-25 15:03:38,736 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-25 15:03:38,736 - INFO - Entered /update-customer endpoint. Request method: PUT
2024-10-25 15:03:38,736 - INFO - Data received for update: {'customer_id': '36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31', 'customer_name': 'HEMANTH', 'customer_contact_info': 'HEMANTH@gmail.com', 'customer_address': '456 Updated Address', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'customer_status': 'Active', 'otp': '980220', 'email': 'komalsaikiran05@gmail.com'}
2024-10-25 15:03:38,738 - INFO - SELECT heavy_machinery_customers.customer_id AS heavy_machinery_customers_customer_id, heavy_machinery_customers.customer_name AS heavy_machinery_customers_customer_name, heavy_machinery_customers.customer_contact_info AS heavy_machinery_customers_customer_contact_info, heavy_machinery_customers.customer_address AS heavy_machinery_customers_customer_address, heavy_machinery_customers.opportunity_id AS heavy_machinery_customers_opportunity_id, heavy_machinery_customers.dealer_id AS heavy_machinery_customers_dealer_id, heavy_machinery_customers.employee_id AS heavy_machinery_customers_employee_id, heavy_machinery_customers.customer_status AS heavy_machinery_customers_customer_status, heavy_machinery_customers.customer_comments AS heavy_machinery_customers_customer_comments, heavy_machinery_customers.customer_feedback AS heavy_machinery_customers_customer_feedback, heavy_machinery_customers.customer_created_at AS heavy_machinery_customers_customer_created_at, heavy_machinery_customers.customer_updated_at AS heavy_machinery_customers_customer_updated_at, heavy_machinery_customers.customer_last_interaction AS heavy_machinery_customers_customer_last_interaction, heavy_machinery_customers.product_id AS heavy_machinery_customers_product_id, heavy_machinery_customers.product_name AS heavy_machinery_customers_product_name, heavy_machinery_customers.product_model AS heavy_machinery_customers_product_model, heavy_machinery_customers.product_brand AS heavy_machinery_customers_product_brand 
FROM heavy_machinery_customers 
WHERE heavy_machinery_customers.customer_id = %(customer_id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-25 15:03:38,738 - INFO - [generated in 0.00024s] {'customer_id_1': '36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31', 'param_1': 1}
2024-10-25 15:03:38,740 - INFO - UPDATE heavy_machinery_customers SET opportunity_id=%(opportunity_id)s::UUID, dealer_id=%(dealer_id)s::UUID, employee_id=%(employee_id)s::UUID, customer_updated_at=now() WHERE heavy_machinery_customers.customer_id = %(heavy_machinery_customers_customer_id)s::UUID
2024-10-25 15:03:38,741 - INFO - [generated in 0.00037s] {'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'heavy_machinery_customers_customer_id': UUID('36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31')}
2024-10-25 15:03:38,743 - INFO - COMMIT
2024-10-25 15:03:38,744 - INFO - Customer with ID 36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31 updated successfully.
2024-10-25 15:03:38,744 - ERROR - General Error updating customer ID 36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31: Object of type InstanceState is not JSON serializable
2024-10-25 15:03:38,745 - INFO - Session closed for update-customer API
2024-10-25 15:03:38,745 - INFO - 127.0.0.1 - - [25/Oct/2024 15:03:38] "[35m[1mPUT /update-customer HTTP/1.1[0m" 500 -
2024-10-25 15:05:12,410 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_customers.py', reloading
2024-10-25 15:05:12,559 - INFO -  * Restarting with stat
2024-10-25 15:05:13,559 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 15:05:13,591 - WARNING -  * Debugger is active!
2024-10-25 15:05:13,598 - INFO -  * Debugger PIN: 808-278-793
2024-10-25 15:05:13,979 - INFO - BEGIN (implicit)
2024-10-25 15:05:13,982 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-25 15:05:13,982 - INFO - [generated in 0.00019s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-25 15:05:13,984 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-25 15:05:13,984 - INFO - Entered /update-customer endpoint. Request method: PUT
2024-10-25 15:05:13,985 - INFO - Data received for update: {'customer_id': '36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31', 'customer_name': 'HEMANTH', 'customer_contact_info': 'HEMANTH@gmail.com', 'customer_address': '456 Updated Address', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'customer_status': 'Active', 'otp': '980220', 'email': 'komalsaikiran05@gmail.com'}
2024-10-25 15:05:13,986 - INFO - SELECT heavy_machinery_customers.customer_id AS heavy_machinery_customers_customer_id, heavy_machinery_customers.customer_name AS heavy_machinery_customers_customer_name, heavy_machinery_customers.customer_contact_info AS heavy_machinery_customers_customer_contact_info, heavy_machinery_customers.customer_address AS heavy_machinery_customers_customer_address, heavy_machinery_customers.opportunity_id AS heavy_machinery_customers_opportunity_id, heavy_machinery_customers.dealer_id AS heavy_machinery_customers_dealer_id, heavy_machinery_customers.employee_id AS heavy_machinery_customers_employee_id, heavy_machinery_customers.customer_status AS heavy_machinery_customers_customer_status, heavy_machinery_customers.customer_comments AS heavy_machinery_customers_customer_comments, heavy_machinery_customers.customer_feedback AS heavy_machinery_customers_customer_feedback, heavy_machinery_customers.customer_created_at AS heavy_machinery_customers_customer_created_at, heavy_machinery_customers.customer_updated_at AS heavy_machinery_customers_customer_updated_at, heavy_machinery_customers.customer_last_interaction AS heavy_machinery_customers_customer_last_interaction, heavy_machinery_customers.product_id AS heavy_machinery_customers_product_id, heavy_machinery_customers.product_name AS heavy_machinery_customers_product_name, heavy_machinery_customers.product_model AS heavy_machinery_customers_product_model, heavy_machinery_customers.product_brand AS heavy_machinery_customers_product_brand 
FROM heavy_machinery_customers 
WHERE heavy_machinery_customers.customer_id = %(customer_id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-25 15:05:13,987 - INFO - [generated in 0.00023s] {'customer_id_1': '36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31', 'param_1': 1}
2024-10-25 15:05:13,989 - INFO - UPDATE heavy_machinery_customers SET opportunity_id=%(opportunity_id)s::UUID, dealer_id=%(dealer_id)s::UUID, employee_id=%(employee_id)s::UUID, customer_updated_at=%(customer_updated_at)s WHERE heavy_machinery_customers.customer_id = %(heavy_machinery_customers_customer_id)s::UUID
2024-10-25 15:05:13,989 - INFO - [generated in 0.00020s] {'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_updated_at': '2024-10-25T15:05:13.988912', 'heavy_machinery_customers_customer_id': UUID('36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31')}
2024-10-25 15:05:13,992 - INFO - COMMIT
2024-10-25 15:05:13,994 - INFO - Customer with ID 36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31 updated successfully.
2024-10-25 15:05:13,994 - INFO - Session closed for update-customer API
2024-10-25 15:05:13,994 - INFO - 127.0.0.1 - - [25/Oct/2024 15:05:13] "PUT /update-customer HTTP/1.1" 200 -
2024-10-25 15:08:43,757 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\constants.py', reloading
2024-10-25 15:08:43,929 - INFO -  * Restarting with stat
2024-10-25 15:08:44,889 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 15:08:44,913 - WARNING -  * Debugger is active!
2024-10-25 15:08:44,916 - INFO -  * Debugger PIN: 808-278-793
2024-10-25 15:09:11,959 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_customers.py', reloading
2024-10-25 15:09:12,097 - INFO -  * Restarting with stat
2024-10-25 15:09:13,080 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 15:09:13,113 - WARNING -  * Debugger is active!
2024-10-25 15:09:13,116 - INFO -  * Debugger PIN: 808-278-793
2024-10-25 15:09:13,250 - INFO - BEGIN (implicit)
2024-10-25 15:09:13,252 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-25 15:09:13,252 - INFO - [generated in 0.00018s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-25 15:09:13,256 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-25 15:09:13,256 - INFO - Entered /update-customer endpoint. Request method: PUT
2024-10-25 15:09:13,256 - INFO - Data received for update: {'customer_id': '36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31', 'customer_name': 'HEMANTH', 'customer_contact_info': 'HEMANTH@gmail.com', 'customer_address': '456 Updated Address', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'customer_status': 'Active', 'otp': '980220', 'email': 'komalsaikiran05@gmail.com'}
2024-10-25 15:09:13,260 - INFO - SELECT heavy_machinery_customers.customer_id AS heavy_machinery_customers_customer_id, heavy_machinery_customers.customer_name AS heavy_machinery_customers_customer_name, heavy_machinery_customers.customer_contact_info AS heavy_machinery_customers_customer_contact_info, heavy_machinery_customers.customer_address AS heavy_machinery_customers_customer_address, heavy_machinery_customers.opportunity_id AS heavy_machinery_customers_opportunity_id, heavy_machinery_customers.dealer_id AS heavy_machinery_customers_dealer_id, heavy_machinery_customers.employee_id AS heavy_machinery_customers_employee_id, heavy_machinery_customers.customer_status AS heavy_machinery_customers_customer_status, heavy_machinery_customers.customer_comments AS heavy_machinery_customers_customer_comments, heavy_machinery_customers.customer_feedback AS heavy_machinery_customers_customer_feedback, heavy_machinery_customers.customer_created_at AS heavy_machinery_customers_customer_created_at, heavy_machinery_customers.customer_updated_at AS heavy_machinery_customers_customer_updated_at, heavy_machinery_customers.customer_last_interaction AS heavy_machinery_customers_customer_last_interaction, heavy_machinery_customers.product_id AS heavy_machinery_customers_product_id, heavy_machinery_customers.product_name AS heavy_machinery_customers_product_name, heavy_machinery_customers.product_model AS heavy_machinery_customers_product_model, heavy_machinery_customers.product_brand AS heavy_machinery_customers_product_brand 
FROM heavy_machinery_customers 
WHERE heavy_machinery_customers.customer_id = %(customer_id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-25 15:09:13,260 - INFO - [generated in 0.00029s] {'customer_id_1': '36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31', 'param_1': 1}
2024-10-25 15:09:13,266 - INFO - UPDATE heavy_machinery_customers SET opportunity_id=%(opportunity_id)s::UUID, dealer_id=%(dealer_id)s::UUID, employee_id=%(employee_id)s::UUID, customer_updated_at=%(customer_updated_at)s WHERE heavy_machinery_customers.customer_id = %(heavy_machinery_customers_customer_id)s::UUID
2024-10-25 15:09:13,266 - INFO - [generated in 0.00037s] {'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_updated_at': '2024-10-25T15:09:13.263283', 'heavy_machinery_customers_customer_id': UUID('36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31')}
2024-10-25 15:09:13,269 - INFO - COMMIT
2024-10-25 15:09:13,270 - INFO - Customer with ID 36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31 updated successfully.
2024-10-25 15:09:13,270 - ERROR - General Error updating customer ID 36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31: 'HeavyMachineryCustomer' object has no attribute 'get'
2024-10-25 15:09:13,271 - INFO - Session closed for update-customer API
2024-10-25 15:09:13,271 - INFO - 127.0.0.1 - - [25/Oct/2024 15:09:13] "[35m[1mPUT /update-customer HTTP/1.1[0m" 500 -
2024-10-25 15:09:56,838 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_customers.py', reloading
2024-10-25 15:09:56,963 - INFO -  * Restarting with stat
2024-10-25 15:09:58,021 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 15:09:58,040 - WARNING -  * Debugger is active!
2024-10-25 15:09:58,044 - INFO -  * Debugger PIN: 808-278-793
2024-10-25 15:09:58,832 - INFO - BEGIN (implicit)
2024-10-25 15:09:58,835 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-25 15:09:58,835 - INFO - [generated in 0.00024s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-25 15:09:58,839 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-25 15:09:58,839 - INFO - Entered /update-customer endpoint. Request method: PUT
2024-10-25 15:09:58,839 - INFO - Data received for update: {'customer_id': '36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31', 'customer_name': 'HEMANTH', 'customer_contact_info': 'HEMANTH@gmail.com', 'customer_address': '456 Updated Address', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'customer_status': 'Active', 'otp': '980220', 'email': 'komalsaikiran05@gmail.com'}
2024-10-25 15:09:58,844 - INFO - SELECT heavy_machinery_customers.customer_id AS heavy_machinery_customers_customer_id, heavy_machinery_customers.customer_name AS heavy_machinery_customers_customer_name, heavy_machinery_customers.customer_contact_info AS heavy_machinery_customers_customer_contact_info, heavy_machinery_customers.customer_address AS heavy_machinery_customers_customer_address, heavy_machinery_customers.opportunity_id AS heavy_machinery_customers_opportunity_id, heavy_machinery_customers.dealer_id AS heavy_machinery_customers_dealer_id, heavy_machinery_customers.employee_id AS heavy_machinery_customers_employee_id, heavy_machinery_customers.customer_status AS heavy_machinery_customers_customer_status, heavy_machinery_customers.customer_comments AS heavy_machinery_customers_customer_comments, heavy_machinery_customers.customer_feedback AS heavy_machinery_customers_customer_feedback, heavy_machinery_customers.customer_created_at AS heavy_machinery_customers_customer_created_at, heavy_machinery_customers.customer_updated_at AS heavy_machinery_customers_customer_updated_at, heavy_machinery_customers.customer_last_interaction AS heavy_machinery_customers_customer_last_interaction, heavy_machinery_customers.product_id AS heavy_machinery_customers_product_id, heavy_machinery_customers.product_name AS heavy_machinery_customers_product_name, heavy_machinery_customers.product_model AS heavy_machinery_customers_product_model, heavy_machinery_customers.product_brand AS heavy_machinery_customers_product_brand 
FROM heavy_machinery_customers 
WHERE heavy_machinery_customers.customer_id = %(customer_id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-25 15:09:58,845 - INFO - [generated in 0.00045s] {'customer_id_1': '36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31', 'param_1': 1}
2024-10-25 15:09:58,850 - INFO - UPDATE heavy_machinery_customers SET opportunity_id=%(opportunity_id)s::UUID, dealer_id=%(dealer_id)s::UUID, employee_id=%(employee_id)s::UUID, customer_updated_at=%(customer_updated_at)s WHERE heavy_machinery_customers.customer_id = %(heavy_machinery_customers_customer_id)s::UUID
2024-10-25 15:09:58,850 - INFO - [generated in 0.00027s] {'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_updated_at': '2024-10-25T15:09:58.847186', 'heavy_machinery_customers_customer_id': UUID('36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31')}
2024-10-25 15:09:58,852 - INFO - COMMIT
2024-10-25 15:09:58,853 - INFO - Customer with ID 36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31 updated successfully.
2024-10-25 15:09:58,854 - INFO - Session closed for update-customer API
2024-10-25 15:09:58,854 - INFO - 127.0.0.1 - - [25/Oct/2024 15:09:58] "PUT /update-customer HTTP/1.1" 200 -
2024-10-25 15:11:02,799 - INFO - BEGIN (implicit)
2024-10-25 15:11:02,799 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-25 15:11:02,799 - INFO - [cached since 63.96s ago] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-25 15:11:02,802 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-25 15:11:02,802 - INFO - Entered /update-customer endpoint. Request method: PUT
2024-10-25 15:11:02,802 - INFO - Data received for update: {'customer_id': '36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31', 'customer_name': 'HEMANTH', 'customer_contact_info': 'HEMANTH@gmail.com', 'customer_address': '456 Updated Address', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'customer_status': 'Active', 'otp': '980220', 'email': 'komalsaikiran05@gmail.com'}
2024-10-25 15:11:02,802 - INFO - SELECT heavy_machinery_customers.customer_id AS heavy_machinery_customers_customer_id, heavy_machinery_customers.customer_name AS heavy_machinery_customers_customer_name, heavy_machinery_customers.customer_contact_info AS heavy_machinery_customers_customer_contact_info, heavy_machinery_customers.customer_address AS heavy_machinery_customers_customer_address, heavy_machinery_customers.opportunity_id AS heavy_machinery_customers_opportunity_id, heavy_machinery_customers.dealer_id AS heavy_machinery_customers_dealer_id, heavy_machinery_customers.employee_id AS heavy_machinery_customers_employee_id, heavy_machinery_customers.customer_status AS heavy_machinery_customers_customer_status, heavy_machinery_customers.customer_comments AS heavy_machinery_customers_customer_comments, heavy_machinery_customers.customer_feedback AS heavy_machinery_customers_customer_feedback, heavy_machinery_customers.customer_created_at AS heavy_machinery_customers_customer_created_at, heavy_machinery_customers.customer_updated_at AS heavy_machinery_customers_customer_updated_at, heavy_machinery_customers.customer_last_interaction AS heavy_machinery_customers_customer_last_interaction, heavy_machinery_customers.product_id AS heavy_machinery_customers_product_id, heavy_machinery_customers.product_name AS heavy_machinery_customers_product_name, heavy_machinery_customers.product_model AS heavy_machinery_customers_product_model, heavy_machinery_customers.product_brand AS heavy_machinery_customers_product_brand 
FROM heavy_machinery_customers 
WHERE heavy_machinery_customers.customer_id = %(customer_id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-25 15:11:02,802 - INFO - [cached since 63.96s ago] {'customer_id_1': '36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31', 'param_1': 1}
2024-10-25 15:11:02,804 - INFO - UPDATE heavy_machinery_customers SET opportunity_id=%(opportunity_id)s::UUID, dealer_id=%(dealer_id)s::UUID, employee_id=%(employee_id)s::UUID, customer_updated_at=%(customer_updated_at)s WHERE heavy_machinery_customers.customer_id = %(heavy_machinery_customers_customer_id)s::UUID
2024-10-25 15:11:02,804 - INFO - [cached since 63.95s ago] {'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_updated_at': '2024-10-25T15:11:02.803582', 'heavy_machinery_customers_customer_id': UUID('36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31')}
2024-10-25 15:11:02,806 - INFO - COMMIT
2024-10-25 15:11:02,807 - INFO - Customer with ID 36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31 updated successfully.
2024-10-25 15:11:02,808 - INFO - Session closed for update-customer API
2024-10-25 15:11:02,809 - INFO - 127.0.0.1 - - [25/Oct/2024 15:11:02] "PUT /update-customer HTTP/1.1" 200 -
2024-10-25 15:19:41,217 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_customers.py', reloading
2024-10-25 15:19:41,348 - INFO -  * Restarting with stat
2024-10-25 15:19:42,431 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 15:19:42,454 - WARNING -  * Debugger is active!
2024-10-25 15:19:42,459 - INFO -  * Debugger PIN: 808-278-793
2024-10-25 15:19:42,583 - INFO - BEGIN (implicit)
2024-10-25 15:19:42,586 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-25 15:19:42,586 - INFO - [generated in 0.00043s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-25 15:19:42,593 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-25 15:19:42,593 - INFO - Entered /update-customer endpoint.
2024-10-25 15:19:42,593 - DEBUG - Request body received: {'customer_id': '36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31', 'customer_name': 'HEMANTH', 'customer_contact_info': 'HEMANTH@gmail.com', 'customer_address': '456 Updated Address', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'customer_status': 'Active', 'otp': '980220', 'email': 'komalsaikiran05@gmail.com'}
2024-10-25 15:19:42,593 - INFO - Fetching customer with ID: 36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31
2024-10-25 15:19:42,596 - INFO - SELECT heavy_machinery_customers.customer_id AS heavy_machinery_customers_customer_id, heavy_machinery_customers.customer_name AS heavy_machinery_customers_customer_name, heavy_machinery_customers.customer_contact_info AS heavy_machinery_customers_customer_contact_info, heavy_machinery_customers.customer_address AS heavy_machinery_customers_customer_address, heavy_machinery_customers.opportunity_id AS heavy_machinery_customers_opportunity_id, heavy_machinery_customers.dealer_id AS heavy_machinery_customers_dealer_id, heavy_machinery_customers.employee_id AS heavy_machinery_customers_employee_id, heavy_machinery_customers.customer_status AS heavy_machinery_customers_customer_status, heavy_machinery_customers.customer_comments AS heavy_machinery_customers_customer_comments, heavy_machinery_customers.customer_feedback AS heavy_machinery_customers_customer_feedback, heavy_machinery_customers.customer_created_at AS heavy_machinery_customers_customer_created_at, heavy_machinery_customers.customer_updated_at AS heavy_machinery_customers_customer_updated_at, heavy_machinery_customers.customer_last_interaction AS heavy_machinery_customers_customer_last_interaction, heavy_machinery_customers.product_id AS heavy_machinery_customers_product_id, heavy_machinery_customers.product_name AS heavy_machinery_customers_product_name, heavy_machinery_customers.product_model AS heavy_machinery_customers_product_model, heavy_machinery_customers.product_brand AS heavy_machinery_customers_product_brand 
FROM heavy_machinery_customers 
WHERE heavy_machinery_customers.customer_id = %(customer_id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-25 15:19:42,597 - INFO - [generated in 0.00104s] {'customer_id_1': '36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31', 'param_1': 1}
2024-10-25 15:19:42,599 - INFO - Current customer details: {'customer_id': '36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31', 'customer_name': 'HEMANTH', 'customer_contact_info': 'HEMANTH@gmail.com', 'customer_address': '456 Updated Address', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_status': 'Active', 'customer_comments': 'Interested in the latest model', 'customer_feedback': 'Very positive', 'customer_last_interaction': '2024-10-25T06:02:05.649083', 'product_id': None, 'product_name': None, 'product_brand': None, 'product_model': None, 'product': None}
2024-10-25 15:19:42,599 - INFO - Updated customer details (before commit): {'customer_id': '36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31', 'customer_name': 'HEMANTH', 'customer_contact_info': 'HEMANTH@gmail.com', 'customer_address': '456 Updated Address', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_status': 'Active', 'customer_comments': 'Interested in the latest model', 'customer_feedback': 'Very positive', 'customer_last_interaction': '2024-10-25T06:02:05.649083', 'product_id': None, 'product_name': None, 'product_brand': None, 'product_model': None, 'product': None}
2024-10-25 15:19:42,602 - INFO - UPDATE heavy_machinery_customers SET opportunity_id=%(opportunity_id)s::UUID, dealer_id=%(dealer_id)s::UUID, employee_id=%(employee_id)s::UUID, customer_updated_at=now() WHERE heavy_machinery_customers.customer_id = %(heavy_machinery_customers_customer_id)s::UUID
2024-10-25 15:19:42,602 - INFO - [generated in 0.00062s] {'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'heavy_machinery_customers_customer_id': UUID('36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31')}
2024-10-25 15:19:42,605 - INFO - COMMIT
2024-10-25 15:19:42,609 - INFO - Customer with ID 36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31 updated successfully in the database.
2024-10-25 15:19:42,685 - INFO - BEGIN (implicit)
2024-10-25 15:19:42,686 - INFO - SELECT heavy_machinery_customers.customer_id AS heavy_machinery_customers_customer_id, heavy_machinery_customers.customer_name AS heavy_machinery_customers_customer_name, heavy_machinery_customers.customer_contact_info AS heavy_machinery_customers_customer_contact_info, heavy_machinery_customers.customer_address AS heavy_machinery_customers_customer_address, heavy_machinery_customers.opportunity_id AS heavy_machinery_customers_opportunity_id, heavy_machinery_customers.dealer_id AS heavy_machinery_customers_dealer_id, heavy_machinery_customers.employee_id AS heavy_machinery_customers_employee_id, heavy_machinery_customers.customer_status AS heavy_machinery_customers_customer_status, heavy_machinery_customers.customer_comments AS heavy_machinery_customers_customer_comments, heavy_machinery_customers.customer_feedback AS heavy_machinery_customers_customer_feedback, heavy_machinery_customers.customer_created_at AS heavy_machinery_customers_customer_created_at, heavy_machinery_customers.customer_updated_at AS heavy_machinery_customers_customer_updated_at, heavy_machinery_customers.customer_last_interaction AS heavy_machinery_customers_customer_last_interaction, heavy_machinery_customers.product_id AS heavy_machinery_customers_product_id, heavy_machinery_customers.product_name AS heavy_machinery_customers_product_name, heavy_machinery_customers.product_model AS heavy_machinery_customers_product_model, heavy_machinery_customers.product_brand AS heavy_machinery_customers_product_brand 
FROM heavy_machinery_customers 
WHERE heavy_machinery_customers.customer_id = %(pk_1)s::UUID
2024-10-25 15:19:42,686 - INFO - [generated in 0.00035s] {'pk_1': UUID('36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31')}
2024-10-25 15:19:42,690 - INFO - Customer ID 36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31 updated at 2024-10-25 15:19:42.
2024-10-25 15:19:42,690 - INFO - ROLLBACK
2024-10-25 15:19:42,692 - ERROR - Error updating customer ID 36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31: 'str' object has no attribute 'get'
2024-10-25 15:19:42,693 - INFO - Closed /update-customer API session.
2024-10-25 15:19:42,694 - INFO - 127.0.0.1 - - [25/Oct/2024 15:19:42] "[35m[1mPUT /update-customer HTTP/1.1[0m" 500 -
2024-10-25 15:20:37,404 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_customers.py', reloading
2024-10-25 15:20:37,524 - INFO -  * Restarting with stat
2024-10-25 15:20:38,486 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 15:20:38,505 - WARNING -  * Debugger is active!
2024-10-25 15:20:38,510 - INFO -  * Debugger PIN: 808-278-793
2024-10-25 15:20:38,623 - INFO - BEGIN (implicit)
2024-10-25 15:20:38,626 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-25 15:20:38,626 - INFO - [generated in 0.00020s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-25 15:20:38,630 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-25 15:20:38,630 - INFO - Entered /update-customer endpoint.
2024-10-25 15:20:38,630 - DEBUG - Request body received: {'customer_id': '36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31', 'customer_name': 'HEMANTH', 'customer_contact_info': 'HEMANTH@gmail.com', 'customer_address': '456 Updated Address', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'customer_status': 'Active', 'otp': '980220', 'email': 'komalsaikiran05@gmail.com'}
2024-10-25 15:20:38,630 - INFO - Fetching customer with ID: 36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31
2024-10-25 15:20:38,632 - INFO - SELECT heavy_machinery_customers.customer_id AS heavy_machinery_customers_customer_id, heavy_machinery_customers.customer_name AS heavy_machinery_customers_customer_name, heavy_machinery_customers.customer_contact_info AS heavy_machinery_customers_customer_contact_info, heavy_machinery_customers.customer_address AS heavy_machinery_customers_customer_address, heavy_machinery_customers.opportunity_id AS heavy_machinery_customers_opportunity_id, heavy_machinery_customers.dealer_id AS heavy_machinery_customers_dealer_id, heavy_machinery_customers.employee_id AS heavy_machinery_customers_employee_id, heavy_machinery_customers.customer_status AS heavy_machinery_customers_customer_status, heavy_machinery_customers.customer_comments AS heavy_machinery_customers_customer_comments, heavy_machinery_customers.customer_feedback AS heavy_machinery_customers_customer_feedback, heavy_machinery_customers.customer_created_at AS heavy_machinery_customers_customer_created_at, heavy_machinery_customers.customer_updated_at AS heavy_machinery_customers_customer_updated_at, heavy_machinery_customers.customer_last_interaction AS heavy_machinery_customers_customer_last_interaction, heavy_machinery_customers.product_id AS heavy_machinery_customers_product_id, heavy_machinery_customers.product_name AS heavy_machinery_customers_product_name, heavy_machinery_customers.product_model AS heavy_machinery_customers_product_model, heavy_machinery_customers.product_brand AS heavy_machinery_customers_product_brand 
FROM heavy_machinery_customers 
WHERE heavy_machinery_customers.customer_id = %(customer_id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-25 15:20:38,632 - INFO - [generated in 0.00021s] {'customer_id_1': '36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31', 'param_1': 1}
2024-10-25 15:20:38,633 - INFO - Current customer details: {'customer_id': '36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31', 'customer_name': 'HEMANTH', 'customer_contact_info': 'HEMANTH@gmail.com', 'customer_address': '456 Updated Address', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_status': 'Active', 'customer_comments': 'Interested in the latest model', 'customer_feedback': 'Very positive', 'customer_last_interaction': '2024-10-25T06:02:05.649083', 'product_id': None, 'product_name': None, 'product_brand': None, 'product_model': None, 'product': None}
2024-10-25 15:20:38,633 - INFO - Updated customer details (before commit): {'customer_id': '36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31', 'customer_name': 'HEMANTH', 'customer_contact_info': 'HEMANTH@gmail.com', 'customer_address': '456 Updated Address', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_status': 'Active', 'customer_comments': 'Interested in the latest model', 'customer_feedback': 'Very positive', 'customer_last_interaction': '2024-10-25T06:02:05.649083', 'product_id': None, 'product_name': None, 'product_brand': None, 'product_model': None, 'product': None}
2024-10-25 15:20:38,635 - INFO - UPDATE heavy_machinery_customers SET opportunity_id=%(opportunity_id)s::UUID, dealer_id=%(dealer_id)s::UUID, employee_id=%(employee_id)s::UUID, customer_updated_at=now() WHERE heavy_machinery_customers.customer_id = %(heavy_machinery_customers_customer_id)s::UUID
2024-10-25 15:20:38,635 - INFO - [generated in 0.00020s] {'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'heavy_machinery_customers_customer_id': UUID('36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31')}
2024-10-25 15:20:38,637 - INFO - COMMIT
2024-10-25 15:20:38,637 - INFO - Customer with ID 36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31 updated successfully in the database.
2024-10-25 15:20:38,701 - INFO - BEGIN (implicit)
2024-10-25 15:20:38,703 - INFO - SELECT heavy_machinery_customers.customer_id AS heavy_machinery_customers_customer_id, heavy_machinery_customers.customer_name AS heavy_machinery_customers_customer_name, heavy_machinery_customers.customer_contact_info AS heavy_machinery_customers_customer_contact_info, heavy_machinery_customers.customer_address AS heavy_machinery_customers_customer_address, heavy_machinery_customers.opportunity_id AS heavy_machinery_customers_opportunity_id, heavy_machinery_customers.dealer_id AS heavy_machinery_customers_dealer_id, heavy_machinery_customers.employee_id AS heavy_machinery_customers_employee_id, heavy_machinery_customers.customer_status AS heavy_machinery_customers_customer_status, heavy_machinery_customers.customer_comments AS heavy_machinery_customers_customer_comments, heavy_machinery_customers.customer_feedback AS heavy_machinery_customers_customer_feedback, heavy_machinery_customers.customer_created_at AS heavy_machinery_customers_customer_created_at, heavy_machinery_customers.customer_updated_at AS heavy_machinery_customers_customer_updated_at, heavy_machinery_customers.customer_last_interaction AS heavy_machinery_customers_customer_last_interaction, heavy_machinery_customers.product_id AS heavy_machinery_customers_product_id, heavy_machinery_customers.product_name AS heavy_machinery_customers_product_name, heavy_machinery_customers.product_model AS heavy_machinery_customers_product_model, heavy_machinery_customers.product_brand AS heavy_machinery_customers_product_brand 
FROM heavy_machinery_customers 
WHERE heavy_machinery_customers.customer_id = %(pk_1)s::UUID
2024-10-25 15:20:38,703 - INFO - [generated in 0.00027s] {'pk_1': UUID('36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31')}
2024-10-25 15:20:38,707 - INFO - Customer ID 36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31 updated at 2024-10-25 15:20:38.
2024-10-25 15:20:38,708 - INFO - ROLLBACK
2024-10-25 15:20:38,709 - ERROR - Error updating customer ID 36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31: 'str' object has no attribute 'get'
2024-10-25 15:20:38,709 - INFO - Closed /update-customer API session.
2024-10-25 15:20:38,709 - INFO - 127.0.0.1 - - [25/Oct/2024 15:20:38] "[35m[1mPUT /update-customer HTTP/1.1[0m" 500 -
2024-10-25 15:22:54,125 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_customers.py', reloading
2024-10-25 15:22:54,243 - INFO -  * Restarting with stat
2024-10-25 15:22:55,065 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 15:22:55,085 - WARNING -  * Debugger is active!
2024-10-25 15:22:55,088 - INFO -  * Debugger PIN: 808-278-793
2024-10-25 15:23:39,661 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\email_setup\\email_operations.py', reloading
2024-10-25 15:23:39,809 - INFO -  * Restarting with stat
2024-10-25 15:23:40,791 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 15:23:40,818 - WARNING -  * Debugger is active!
2024-10-25 15:23:40,824 - INFO -  * Debugger PIN: 808-278-793
2024-10-25 15:23:41,758 - INFO - BEGIN (implicit)
2024-10-25 15:23:41,760 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-25 15:23:41,760 - INFO - [generated in 0.00021s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-25 15:23:41,764 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-25 15:23:41,764 - INFO - Entered /update-customer endpoint.
2024-10-25 15:23:41,764 - DEBUG - Request body received: {'customer_id': '36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31', 'customer_name': 'HEMANTH', 'customer_contact_info': 'HEMANTH@gmail.com', 'customer_address': '456 Updated Address', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'customer_status': 'Active', 'otp': '980220', 'email': 'komalsaikiran05@gmail.com'}
2024-10-25 15:23:41,764 - INFO - Fetching customer with ID: 36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31
2024-10-25 15:23:41,766 - INFO - SELECT heavy_machinery_customers.customer_id AS heavy_machinery_customers_customer_id, heavy_machinery_customers.customer_name AS heavy_machinery_customers_customer_name, heavy_machinery_customers.customer_contact_info AS heavy_machinery_customers_customer_contact_info, heavy_machinery_customers.customer_address AS heavy_machinery_customers_customer_address, heavy_machinery_customers.opportunity_id AS heavy_machinery_customers_opportunity_id, heavy_machinery_customers.dealer_id AS heavy_machinery_customers_dealer_id, heavy_machinery_customers.employee_id AS heavy_machinery_customers_employee_id, heavy_machinery_customers.customer_status AS heavy_machinery_customers_customer_status, heavy_machinery_customers.customer_comments AS heavy_machinery_customers_customer_comments, heavy_machinery_customers.customer_feedback AS heavy_machinery_customers_customer_feedback, heavy_machinery_customers.customer_created_at AS heavy_machinery_customers_customer_created_at, heavy_machinery_customers.customer_updated_at AS heavy_machinery_customers_customer_updated_at, heavy_machinery_customers.customer_last_interaction AS heavy_machinery_customers_customer_last_interaction, heavy_machinery_customers.product_id AS heavy_machinery_customers_product_id, heavy_machinery_customers.product_name AS heavy_machinery_customers_product_name, heavy_machinery_customers.product_model AS heavy_machinery_customers_product_model, heavy_machinery_customers.product_brand AS heavy_machinery_customers_product_brand 
FROM heavy_machinery_customers 
WHERE heavy_machinery_customers.customer_id = %(customer_id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-25 15:23:41,766 - INFO - [generated in 0.00024s] {'customer_id_1': '36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31', 'param_1': 1}
2024-10-25 15:23:41,767 - INFO - Current customer details: {'customer_id': '36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31', 'customer_name': 'HEMANTH', 'customer_contact_info': 'HEMANTH@gmail.com', 'customer_address': '456 Updated Address', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_status': 'Active', 'customer_comments': 'Interested in the latest model', 'customer_feedback': 'Very positive', 'customer_last_interaction': '2024-10-25T06:02:05.649083', 'product_id': None, 'product_name': None, 'product_brand': None, 'product_model': None, 'product': None}
2024-10-25 15:23:41,768 - INFO - Updated customer details (before commit): {'customer_id': '36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31', 'customer_name': 'HEMANTH', 'customer_contact_info': 'HEMANTH@gmail.com', 'customer_address': '456 Updated Address', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_status': 'Active', 'customer_comments': 'Interested in the latest model', 'customer_feedback': 'Very positive', 'customer_last_interaction': '2024-10-25T06:02:05.649083', 'product_id': None, 'product_name': None, 'product_brand': None, 'product_model': None, 'product': None}
2024-10-25 15:23:41,769 - INFO - UPDATE heavy_machinery_customers SET opportunity_id=%(opportunity_id)s::UUID, dealer_id=%(dealer_id)s::UUID, employee_id=%(employee_id)s::UUID, customer_updated_at=now() WHERE heavy_machinery_customers.customer_id = %(heavy_machinery_customers_customer_id)s::UUID
2024-10-25 15:23:41,769 - INFO - [generated in 0.00020s] {'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'heavy_machinery_customers_customer_id': UUID('36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31')}
2024-10-25 15:23:41,771 - INFO - COMMIT
2024-10-25 15:23:41,772 - INFO - Customer with ID 36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31 updated successfully in the database.
2024-10-25 15:23:41,826 - INFO - BEGIN (implicit)
2024-10-25 15:23:41,827 - INFO - SELECT heavy_machinery_customers.customer_id AS heavy_machinery_customers_customer_id, heavy_machinery_customers.customer_name AS heavy_machinery_customers_customer_name, heavy_machinery_customers.customer_contact_info AS heavy_machinery_customers_customer_contact_info, heavy_machinery_customers.customer_address AS heavy_machinery_customers_customer_address, heavy_machinery_customers.opportunity_id AS heavy_machinery_customers_opportunity_id, heavy_machinery_customers.dealer_id AS heavy_machinery_customers_dealer_id, heavy_machinery_customers.employee_id AS heavy_machinery_customers_employee_id, heavy_machinery_customers.customer_status AS heavy_machinery_customers_customer_status, heavy_machinery_customers.customer_comments AS heavy_machinery_customers_customer_comments, heavy_machinery_customers.customer_feedback AS heavy_machinery_customers_customer_feedback, heavy_machinery_customers.customer_created_at AS heavy_machinery_customers_customer_created_at, heavy_machinery_customers.customer_updated_at AS heavy_machinery_customers_customer_updated_at, heavy_machinery_customers.customer_last_interaction AS heavy_machinery_customers_customer_last_interaction, heavy_machinery_customers.product_id AS heavy_machinery_customers_product_id, heavy_machinery_customers.product_name AS heavy_machinery_customers_product_name, heavy_machinery_customers.product_model AS heavy_machinery_customers_product_model, heavy_machinery_customers.product_brand AS heavy_machinery_customers_product_brand 
FROM heavy_machinery_customers 
WHERE heavy_machinery_customers.customer_id = %(pk_1)s::UUID
2024-10-25 15:23:41,827 - INFO - [generated in 0.00019s] {'pk_1': UUID('36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31')}
2024-10-25 15:23:41,831 - INFO - Customer ID 36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31 updated at 2024-10-25 15:23:41.
2024-10-25 15:23:41,831 - INFO - ROLLBACK
2024-10-25 15:23:41,831 - ERROR - Error updating customer ID 36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31: format_update_customers_email_content() missing 1 required positional argument: 'employee'
2024-10-25 15:23:41,831 - INFO - Closed /update-customer API session.
2024-10-25 15:23:41,831 - INFO - 127.0.0.1 - - [25/Oct/2024 15:23:41] "[35m[1mPUT /update-customer HTTP/1.1[0m" 500 -
2024-10-25 15:26:40,239 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_customers.py', reloading
2024-10-25 15:26:40,352 - INFO -  * Restarting with stat
2024-10-25 15:26:41,407 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 15:26:41,427 - WARNING -  * Debugger is active!
2024-10-25 15:26:41,431 - INFO -  * Debugger PIN: 808-278-793
2024-10-25 15:26:41,541 - INFO - BEGIN (implicit)
2024-10-25 15:26:41,543 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-25 15:26:41,543 - INFO - [generated in 0.00018s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-25 15:26:41,546 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-25 15:26:41,547 - INFO - Entered /update-customer endpoint.
2024-10-25 15:26:41,547 - DEBUG - Request body received: {'customer_id': '36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31', 'customer_name': 'HEMANTH', 'customer_contact_info': 'HEMANTH@gmail.com', 'customer_address': '456 Updated Address', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'customer_status': 'Active', 'otp': '980220', 'email': 'komalsaikiran05@gmail.com'}
2024-10-25 15:26:41,547 - INFO - Fetching customer with ID: 36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31
2024-10-25 15:26:41,549 - INFO - SELECT heavy_machinery_customers.customer_id AS heavy_machinery_customers_customer_id, heavy_machinery_customers.customer_name AS heavy_machinery_customers_customer_name, heavy_machinery_customers.customer_contact_info AS heavy_machinery_customers_customer_contact_info, heavy_machinery_customers.customer_address AS heavy_machinery_customers_customer_address, heavy_machinery_customers.opportunity_id AS heavy_machinery_customers_opportunity_id, heavy_machinery_customers.dealer_id AS heavy_machinery_customers_dealer_id, heavy_machinery_customers.employee_id AS heavy_machinery_customers_employee_id, heavy_machinery_customers.customer_status AS heavy_machinery_customers_customer_status, heavy_machinery_customers.customer_comments AS heavy_machinery_customers_customer_comments, heavy_machinery_customers.customer_feedback AS heavy_machinery_customers_customer_feedback, heavy_machinery_customers.customer_created_at AS heavy_machinery_customers_customer_created_at, heavy_machinery_customers.customer_updated_at AS heavy_machinery_customers_customer_updated_at, heavy_machinery_customers.customer_last_interaction AS heavy_machinery_customers_customer_last_interaction, heavy_machinery_customers.product_id AS heavy_machinery_customers_product_id, heavy_machinery_customers.product_name AS heavy_machinery_customers_product_name, heavy_machinery_customers.product_model AS heavy_machinery_customers_product_model, heavy_machinery_customers.product_brand AS heavy_machinery_customers_product_brand 
FROM heavy_machinery_customers 
WHERE heavy_machinery_customers.customer_id = %(customer_id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-25 15:26:41,549 - INFO - [generated in 0.00019s] {'customer_id_1': '36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31', 'param_1': 1}
2024-10-25 15:26:41,550 - INFO - Current customer details: {'customer_id': '36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31', 'customer_name': 'HEMANTH', 'customer_contact_info': 'HEMANTH@gmail.com', 'customer_address': '456 Updated Address', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_status': 'Active', 'customer_comments': 'Interested in the latest model', 'customer_feedback': 'Very positive', 'customer_last_interaction': '2024-10-25T06:02:05.649083', 'product_id': None, 'product_name': None, 'product_brand': None, 'product_model': None, 'product': None}
2024-10-25 15:26:41,550 - INFO - Updated customer details (before commit): {'customer_id': '36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31', 'customer_name': 'HEMANTH', 'customer_contact_info': 'HEMANTH@gmail.com', 'customer_address': '456 Updated Address', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_status': 'Active', 'customer_comments': 'Interested in the latest model', 'customer_feedback': 'Very positive', 'customer_last_interaction': '2024-10-25T06:02:05.649083', 'product_id': None, 'product_name': None, 'product_brand': None, 'product_model': None, 'product': None}
2024-10-25 15:26:41,552 - INFO - UPDATE heavy_machinery_customers SET opportunity_id=%(opportunity_id)s::UUID, dealer_id=%(dealer_id)s::UUID, employee_id=%(employee_id)s::UUID, customer_updated_at=now() WHERE heavy_machinery_customers.customer_id = %(heavy_machinery_customers_customer_id)s::UUID
2024-10-25 15:26:41,552 - INFO - [generated in 0.00031s] {'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'heavy_machinery_customers_customer_id': UUID('36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31')}
2024-10-25 15:26:41,553 - INFO - COMMIT
2024-10-25 15:26:41,554 - INFO - Customer with ID 36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31 updated successfully in the database.
2024-10-25 15:26:41,626 - INFO - BEGIN (implicit)
2024-10-25 15:26:41,627 - INFO - SELECT heavy_machinery_customers.customer_id AS heavy_machinery_customers_customer_id, heavy_machinery_customers.customer_name AS heavy_machinery_customers_customer_name, heavy_machinery_customers.customer_contact_info AS heavy_machinery_customers_customer_contact_info, heavy_machinery_customers.customer_address AS heavy_machinery_customers_customer_address, heavy_machinery_customers.opportunity_id AS heavy_machinery_customers_opportunity_id, heavy_machinery_customers.dealer_id AS heavy_machinery_customers_dealer_id, heavy_machinery_customers.employee_id AS heavy_machinery_customers_employee_id, heavy_machinery_customers.customer_status AS heavy_machinery_customers_customer_status, heavy_machinery_customers.customer_comments AS heavy_machinery_customers_customer_comments, heavy_machinery_customers.customer_feedback AS heavy_machinery_customers_customer_feedback, heavy_machinery_customers.customer_created_at AS heavy_machinery_customers_customer_created_at, heavy_machinery_customers.customer_updated_at AS heavy_machinery_customers_customer_updated_at, heavy_machinery_customers.customer_last_interaction AS heavy_machinery_customers_customer_last_interaction, heavy_machinery_customers.product_id AS heavy_machinery_customers_product_id, heavy_machinery_customers.product_name AS heavy_machinery_customers_product_name, heavy_machinery_customers.product_model AS heavy_machinery_customers_product_model, heavy_machinery_customers.product_brand AS heavy_machinery_customers_product_brand 
FROM heavy_machinery_customers 
WHERE heavy_machinery_customers.customer_id = %(pk_1)s::UUID
2024-10-25 15:26:41,627 - INFO - [generated in 0.00027s] {'pk_1': UUID('36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31')}
2024-10-25 15:26:41,633 - INFO - Customer ID 36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31 updated at 2024-10-25 15:26:41.
2024-10-25 15:26:41,635 - INFO - ROLLBACK
2024-10-25 15:26:41,636 - ERROR - Error updating customer ID 36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31: Entity namespace for "employee" has no property "employee_id"
2024-10-25 15:26:41,636 - INFO - Closed /update-customer API session.
2024-10-25 15:26:41,637 - INFO - 127.0.0.1 - - [25/Oct/2024 15:26:41] "[35m[1mPUT /update-customer HTTP/1.1[0m" 500 -
2024-10-25 15:27:20,926 - INFO -  * Detected change in 'C:\\Users\\lenovo\\PycharmProjects\\heavy_machineries_ltd\\App\\app_customers.py', reloading
2024-10-25 15:27:21,066 - INFO -  * Restarting with stat
2024-10-25 15:27:21,990 - INFO - Starting the Flask application <Flask 'app_customers'>.
2024-10-25 15:27:22,016 - WARNING -  * Debugger is active!
2024-10-25 15:27:22,019 - INFO -  * Debugger PIN: 808-278-793
2024-10-25 15:27:22,130 - INFO - BEGIN (implicit)
2024-10-25 15:27:22,132 - INFO - SELECT otp_store.id AS otp_store_id, otp_store.email AS otp_store_email, otp_store.otp AS otp_store_otp, otp_store.timestamp AS otp_store_timestamp 
FROM otp_store 
WHERE otp_store.email = %(email_1)s ORDER BY otp_store.timestamp DESC 
 LIMIT %(param_1)s
2024-10-25 15:27:22,132 - INFO - [generated in 0.00019s] {'email_1': 'komalsaikiran05@gmail.com', 'param_1': 1}
2024-10-25 15:27:22,135 - INFO - OTP validation successful for komalsaikiran05@gmail.com.
2024-10-25 15:27:22,135 - INFO - Entered /update-customer endpoint.
2024-10-25 15:27:22,135 - DEBUG - Request body received: {'customer_id': '36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31', 'customer_name': 'HEMANTH', 'customer_contact_info': 'HEMANTH@gmail.com', 'customer_address': '456 Updated Address', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'customer_status': 'Active', 'otp': '980220', 'email': 'komalsaikiran05@gmail.com'}
2024-10-25 15:27:22,135 - INFO - Fetching customer with ID: 36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31
2024-10-25 15:27:22,137 - INFO - SELECT heavy_machinery_customers.customer_id AS heavy_machinery_customers_customer_id, heavy_machinery_customers.customer_name AS heavy_machinery_customers_customer_name, heavy_machinery_customers.customer_contact_info AS heavy_machinery_customers_customer_contact_info, heavy_machinery_customers.customer_address AS heavy_machinery_customers_customer_address, heavy_machinery_customers.opportunity_id AS heavy_machinery_customers_opportunity_id, heavy_machinery_customers.dealer_id AS heavy_machinery_customers_dealer_id, heavy_machinery_customers.employee_id AS heavy_machinery_customers_employee_id, heavy_machinery_customers.customer_status AS heavy_machinery_customers_customer_status, heavy_machinery_customers.customer_comments AS heavy_machinery_customers_customer_comments, heavy_machinery_customers.customer_feedback AS heavy_machinery_customers_customer_feedback, heavy_machinery_customers.customer_created_at AS heavy_machinery_customers_customer_created_at, heavy_machinery_customers.customer_updated_at AS heavy_machinery_customers_customer_updated_at, heavy_machinery_customers.customer_last_interaction AS heavy_machinery_customers_customer_last_interaction, heavy_machinery_customers.product_id AS heavy_machinery_customers_product_id, heavy_machinery_customers.product_name AS heavy_machinery_customers_product_name, heavy_machinery_customers.product_model AS heavy_machinery_customers_product_model, heavy_machinery_customers.product_brand AS heavy_machinery_customers_product_brand 
FROM heavy_machinery_customers 
WHERE heavy_machinery_customers.customer_id = %(customer_id_1)s::UUID 
 LIMIT %(param_1)s
2024-10-25 15:27:22,137 - INFO - [generated in 0.00018s] {'customer_id_1': '36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31', 'param_1': 1}
2024-10-25 15:27:22,139 - INFO - Current customer details: {'customer_id': '36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31', 'customer_name': 'HEMANTH', 'customer_contact_info': 'HEMANTH@gmail.com', 'customer_address': '456 Updated Address', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_status': 'Active', 'customer_comments': 'Interested in the latest model', 'customer_feedback': 'Very positive', 'customer_last_interaction': '2024-10-25T06:02:05.649083', 'product_id': None, 'product_name': None, 'product_brand': None, 'product_model': None, 'product': None}
2024-10-25 15:27:22,140 - INFO - Updated customer details (before commit): {'customer_id': '36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31', 'customer_name': 'HEMANTH', 'customer_contact_info': 'HEMANTH@gmail.com', 'customer_address': '456 Updated Address', 'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'customer_status': 'Active', 'customer_comments': 'Interested in the latest model', 'customer_feedback': 'Very positive', 'customer_last_interaction': '2024-10-25T06:02:05.649083', 'product_id': None, 'product_name': None, 'product_brand': None, 'product_model': None, 'product': None}
2024-10-25 15:27:22,142 - INFO - UPDATE heavy_machinery_customers SET opportunity_id=%(opportunity_id)s::UUID, dealer_id=%(dealer_id)s::UUID, employee_id=%(employee_id)s::UUID, customer_updated_at=now() WHERE heavy_machinery_customers.customer_id = %(heavy_machinery_customers_customer_id)s::UUID
2024-10-25 15:27:22,142 - INFO - [generated in 0.00021s] {'opportunity_id': '617fbbe4-1e75-472e-b47f-2d89beb0f8ef', 'dealer_id': '92190686-a328-4f16-b798-b940f5e3808f', 'employee_id': 'b66710eb-93c1-4c5c-90cf-6b368151f9df', 'heavy_machinery_customers_customer_id': UUID('36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31')}
2024-10-25 15:27:22,143 - INFO - COMMIT
2024-10-25 15:27:22,144 - INFO - Customer with ID 36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31 updated successfully in the database.
2024-10-25 15:27:22,211 - INFO - BEGIN (implicit)
2024-10-25 15:27:22,214 - INFO - SELECT heavy_machinery_customers.customer_id AS heavy_machinery_customers_customer_id, heavy_machinery_customers.customer_name AS heavy_machinery_customers_customer_name, heavy_machinery_customers.customer_contact_info AS heavy_machinery_customers_customer_contact_info, heavy_machinery_customers.customer_address AS heavy_machinery_customers_customer_address, heavy_machinery_customers.opportunity_id AS heavy_machinery_customers_opportunity_id, heavy_machinery_customers.dealer_id AS heavy_machinery_customers_dealer_id, heavy_machinery_customers.employee_id AS heavy_machinery_customers_employee_id, heavy_machinery_customers.customer_status AS heavy_machinery_customers_customer_status, heavy_machinery_customers.customer_comments AS heavy_machinery_customers_customer_comments, heavy_machinery_customers.customer_feedback AS heavy_machinery_customers_customer_feedback, heavy_machinery_customers.customer_created_at AS heavy_machinery_customers_customer_created_at, heavy_machinery_customers.customer_updated_at AS heavy_machinery_customers_customer_updated_at, heavy_machinery_customers.customer_last_interaction AS heavy_machinery_customers_customer_last_interaction, heavy_machinery_customers.product_id AS heavy_machinery_customers_product_id, heavy_machinery_customers.product_name AS heavy_machinery_customers_product_name, heavy_machinery_customers.product_model AS heavy_machinery_customers_product_model, heavy_machinery_customers.product_brand AS heavy_machinery_customers_product_brand 
FROM heavy_machinery_customers 
WHERE heavy_machinery_customers.customer_id = %(pk_1)s::UUID
2024-10-25 15:27:22,215 - INFO - [generated in 0.00037s] {'pk_1': UUID('36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31')}
2024-10-25 15:27:22,217 - INFO - Customer ID 36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31 updated at 2024-10-25 15:27:22.
2024-10-25 15:27:26,064 - INFO - Email notification sent for customer ID 36ee32f8-77f9-4bd6-a9ae-6a8b10a76e31 update.
2024-10-25 15:27:26,065 - INFO - ROLLBACK
2024-10-25 15:27:26,066 - INFO - Closed /update-customer API session.
2024-10-25 15:27:26,066 - INFO - 127.0.0.1 - - [25/Oct/2024 15:27:26] "PUT /update-customer HTTP/1.1" 200 -
2024-10-25 15:27:50,892 - INFO - Flask application has stopped.
2024-10-25 15:27:51,004 - INFO - Flask application has stopped.
